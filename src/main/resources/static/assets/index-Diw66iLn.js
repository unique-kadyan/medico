var ji=t=>{throw TypeError(t)};var Ka=(t,n,r)=>n.has(t)||ji("Cannot "+r);var ne=(t,n,r)=>(Ka(t,n,"read from private field"),r?r.call(t):n.get(t)),Le=(t,n,r)=>n.has(t)?ji("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,r),Re=(t,n,r,s)=>(Ka(t,n,"write to private field"),s?s.call(t,r):n.set(t,r),r),yt=(t,n,r)=>(Ka(t,n,"access private method"),r);var Fs=(t,n,r,s)=>({set _(a){Re(t,n,a,r)},get _(){return ne(t,n,s)}});import{j as e,A as Ru,T as Au,I as Pe,M as ku,B as L,a as Xn,b,d as Qa,e as Ou,N as bi,S as Ja,f as Xa,g as re,C as Nu,D as He,h as ve,i as vi,L as Mu,k as yc,l as Zn,m as sn,n as ps,o as Xr,p as yo,q as qo,r as fs,O as Lu,s as wa,t as jc,E as bc,u as Fu,R as _u,v as $u,w as Ca,x as Vu,y as vc,z as Yo,F as Oe,G as Bu,H as Zr,J as Go,K as Ko,Q as Se,U as we,V as Be,W as U,X as yn,Y as Qo,Z as it,_ as us,$ as Ne,a0 as Wu,a1 as Uu,a2 as zu,a3 as Hu,a4 as Sc,a5 as qu,a6 as C,a7 as fn,a8 as xn,a9 as In,aa as jo,ab as hs,ac as Jo,ad as bo,ae as Nt,af as Ee,ag as Yu,ah as Gu,ai as Ku,aj as an,ak as Qu,al as Ju,am as Xu,an as Zu,ao as Ye,ap as Ge,aq as Je,ar as je,as as P,at as Ke,au as vo,av as eh,aw as xt,ax as Is,ay as on,az as mt,aA as fr,aB as Xs,aC as ua,aD as wc,aE as Te,aF as Fe,aG as _,aH as De,aI as cr,aJ as qt,aK as Ot,aL as qr,aM as Tn,aN as zn,aO as Ve,aP as We,aQ as Ue,aR as ye,aS as _e,aT as Da,aU as th,aV as nh,aW as rh,c as $e,aX as ft,aY as Yr,aZ as sh,a_ as Pa,a$ as Cc,b0 as ah,b1 as gn,b2 as oh,b3 as ih,b4 as lh,b5 as Za,b6 as ch,b7 as dt,b8 as Dc,b9 as So,P as V,ba as Pc,bb as ut,bc as Si,bd as ht,be as gt,bf as dh,bg as uh,bh as wi,bi as hh,bj as mh,bk as dr,bl as ph,bm as Sr,bn as _s,bo as fh,bp as xh,bq as gh,br as yh,bs as jh,bt as bh,bu as Ci,bv as Di,bw as Pi,bx as vh,by as Sh,bz as wh,bA as Ch}from"./mui-vendor-DDwKp4XP.js";import{f as Dh,g as xr,r as Ph,a as f,b as ie,c as Ih,u as Me,h as Ic,O as Th,i as Bt,j as Eh,k as Rh,l as Ce,N as ha,B as Ah}from"./react-vendor-DOvToBJt.js";import{R as Ii,L as kh,C as Oh,X as Nh,Y as Mh,T as Ti,a as Lh,b as Fh,P as _h,c as $h,d as Vh}from"./chart-vendor-wI-kp1rM.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var $s={},Ei;function Bh(){if(Ei)return $s;Ei=1;var t=Dh();return $s.createRoot=t.createRoot,$s.hydrateRoot=t.hydrateRoot,$s}var Wh=Bh();const Uh=xr(Wh);var eo={exports:{}},to={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri;function zh(){if(Ri)return to;Ri=1;var t=Ph();function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,i=t.useMemo,l=t.useDebugValue;return to.useSyncExternalStoreWithSelector=function(c,d,u,h,p){var x=a(null);if(x.current===null){var g={hasValue:!1,value:null};x.current=g}else g=x.current;x=i(function(){function m(E){if(!w){if(w=!0,j=E,E=h(E),p!==void 0&&g.hasValue){var D=g.value;if(p(D,E))return S=D}return S=E}if(D=S,r(j,E))return D;var I=h(E);return p!==void 0&&p(D,I)?(j=E,D):(j=E,S=I)}var w=!1,j,S,y=u===void 0?null:u;return[function(){return m(d())},y===null?void 0:function(){return m(y())}]},[d,u,h,p]);var v=s(c,x[0],x[1]);return o(function(){g.hasValue=!0,g.value=v},[v]),l(v),v},to}var Ai;function Hh(){return Ai||(Ai=1,eo.exports=zh()),eo.exports}var qh=Hh();function Yh(t){t()}function Gh(){let t=null,n=null;return{clear(){t=null,n=null},notify(){Yh(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=t;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=n={callback:r,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){!s||t===null||(s=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var ki={notify(){},get:()=>[]};function Kh(t,n){let r,s=ki,a=0,o=!1;function i(v){u();const m=s.subscribe(v);let w=!1;return()=>{w||(w=!0,m(),h())}}function l(){s.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return o}function u(){a++,r||(r=t.subscribe(c),s=Gh())}function h(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=ki)}function p(){o||(o=!0,u())}function x(){o&&(o=!1,h())}const g={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:x,getListeners:()=>s};return g}var Qh=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jh=Qh(),Xh=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Zh=Xh(),em=()=>Jh||Zh?f.useLayoutEffect:f.useEffect,tm=em(),no=Symbol.for("react-redux-context"),ro=typeof globalThis<"u"?globalThis:{};function nm(){if(!f.createContext)return{};const t=ro[no]??(ro[no]=new Map);let n=t.get(f.createContext);return n||(n=f.createContext(null),t.set(f.createContext,n)),n}var Un=nm();function rm(t){const{children:n,context:r,serverState:s,store:a}=t,o=f.useMemo(()=>{const c=Kh(a);return{store:a,subscription:c,getServerState:s?()=>s:void 0}},[a,s]),i=f.useMemo(()=>a.getState(),[a]);tm(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,i]);const l=r||Un;return f.createElement(l.Provider,{value:o},n)}var sm=rm;function Xo(t=Un){return function(){return f.useContext(t)}}var Tc=Xo();function Ec(t=Un){const n=t===Un?Tc:Xo(t),r=()=>{const{store:s}=n();return s};return Object.assign(r,{withTypes:()=>r}),r}var am=Ec();function om(t=Un){const n=t===Un?am:Ec(t),r=()=>n().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Rc=om(),im=(t,n)=>t===n;function lm(t=Un){const n=t===Un?Tc:Xo(t),r=(s,a={})=>{const{equalityFn:o=im}=typeof a=="function"?{equalityFn:a}:a,i=n(),{store:l,subscription:c,getServerState:d}=i;f.useRef(!0);const u=f.useCallback({[s.name](p){return s(p)}}[s.name],[s]),h=qh.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,d||l.getState,u,o);return f.useDebugValue(h),h};return Object.assign(r,{withTypes:()=>r}),r}var Rn=lm(),Ia=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cm={setTimeout:(t,n)=>setTimeout(t,n),clearTimeout:t=>clearTimeout(t),setInterval:(t,n)=>setInterval(t,n),clearInterval:t=>clearInterval(t)},Fn,Ho,cc,dm=(cc=class{constructor(){Le(this,Fn,cm);Le(this,Ho,!1)}setTimeoutProvider(t){Re(this,Fn,t)}setTimeout(t,n){return ne(this,Fn).setTimeout(t,n)}clearTimeout(t){ne(this,Fn).clearTimeout(t)}setInterval(t,n){return ne(this,Fn).setInterval(t,n)}clearInterval(t){ne(this,Fn).clearInterval(t)}},Fn=new WeakMap,Ho=new WeakMap,cc),wo=new dm;function um(t){setTimeout(t,0)}var Ta=typeof window>"u"||"Deno"in globalThis;function Xt(){}function hm(t,n){return typeof t=="function"?t(n):t}function mm(t){return typeof t=="number"&&t>=0&&t!==1/0}function pm(t,n){return Math.max(t+(n||0)-Date.now(),0)}function Co(t,n){return typeof t=="function"?t(n):t}function fm(t,n){return typeof t=="function"?t(n):t}function Oi(t,n){const{type:r="all",exact:s,fetchStatus:a,predicate:o,queryKey:i,stale:l}=t;if(i){if(s){if(n.queryHash!==Zo(i,n.options))return!1}else if(!gs(n.queryKey,i))return!1}if(r!=="all"){const c=n.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&n.isStale()!==l||a&&a!==n.state.fetchStatus||o&&!o(n))}function Ni(t,n){const{exact:r,status:s,predicate:a,mutationKey:o}=t;if(o){if(!n.options.mutationKey)return!1;if(r){if(xs(n.options.mutationKey)!==xs(o))return!1}else if(!gs(n.options.mutationKey,o))return!1}return!(s&&n.state.status!==s||a&&!a(n))}function Zo(t,n){return((n==null?void 0:n.queryKeyHashFn)||xs)(t)}function xs(t){return JSON.stringify(t,(n,r)=>Do(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function gs(t,n){return t===n?!0:typeof t!=typeof n?!1:t&&n&&typeof t=="object"&&typeof n=="object"?Object.keys(n).every(r=>gs(t[r],n[r])):!1}var xm=Object.prototype.hasOwnProperty;function Ac(t,n){if(t===n)return t;const r=Mi(t)&&Mi(n);if(!r&&!(Do(t)&&Do(n)))return n;const a=(r?t:Object.keys(t)).length,o=r?n:Object.keys(n),i=o.length,l=r?new Array(i):{};let c=0;for(let d=0;d<i;d++){const u=r?d:o[d],h=t[u],p=n[u];if(h===p){l[u]=h,(r?d<a:xm.call(t,u))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){l[u]=p;continue}const x=Ac(h,p);l[u]=x,x===h&&c++}return a===i&&c===a?t:l}function Mi(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Do(t){if(!Li(t))return!1;const n=t.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!Li(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Li(t){return Object.prototype.toString.call(t)==="[object Object]"}function gm(t){return new Promise(n=>{wo.setTimeout(n,t)})}function ym(t,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,n):r.structuralSharing!==!1?Ac(t,n):n}function jm(t,n,r=0){const s=[...t,n];return r&&s.length>r?s.slice(1):s}function bm(t,n,r=0){const s=[n,...t];return r&&s.length>r?s.slice(0,-1):s}var ei=Symbol();function kc(t,n){return!t.queryFn&&(n!=null&&n.initialPromise)?()=>n.initialPromise:!t.queryFn||t.queryFn===ei?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var tr,_n,Or,dc,vm=(dc=class extends Ia{constructor(){super();Le(this,tr);Le(this,_n);Le(this,Or);Re(this,Or,n=>{if(!Ta&&window.addEventListener){const r=()=>n();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ne(this,_n)||this.setEventListener(ne(this,Or))}onUnsubscribe(){var n;this.hasListeners()||((n=ne(this,_n))==null||n.call(this),Re(this,_n,void 0))}setEventListener(n){var r;Re(this,Or,n),(r=ne(this,_n))==null||r.call(this),Re(this,_n,n(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(n){ne(this,tr)!==n&&(Re(this,tr,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(r=>{r(n)})}isFocused(){var n;return typeof ne(this,tr)=="boolean"?ne(this,tr):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},tr=new WeakMap,_n=new WeakMap,Or=new WeakMap,dc),Oc=new vm;function Sm(){let t,n;const r=new Promise((a,o)=>{t=a,n=o});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},r.reject=a=>{s({status:"rejected",reason:a}),n(a)},r}var wm=um;function Cm(){let t=[],n=0,r=l=>{l()},s=l=>{l()},a=wm;const o=l=>{n?t.push(l):a(()=>{r(l)})},i=()=>{const l=t;t=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;n++;try{c=l()}finally{n--,n||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Tt=Cm(),Nr,$n,Mr,uc,Dm=(uc=class extends Ia{constructor(){super();Le(this,Nr,!0);Le(this,$n);Le(this,Mr);Re(this,Mr,n=>{if(!Ta&&window.addEventListener){const r=()=>n(!0),s=()=>n(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){ne(this,$n)||this.setEventListener(ne(this,Mr))}onUnsubscribe(){var n;this.hasListeners()||((n=ne(this,$n))==null||n.call(this),Re(this,$n,void 0))}setEventListener(n){var r;Re(this,Mr,n),(r=ne(this,$n))==null||r.call(this),Re(this,$n,n(this.setOnline.bind(this)))}setOnline(n){ne(this,Nr)!==n&&(Re(this,Nr,n),this.listeners.forEach(s=>{s(n)}))}isOnline(){return ne(this,Nr)}},Nr=new WeakMap,$n=new WeakMap,Mr=new WeakMap,uc),ma=new Dm;function Pm(t){return Math.min(1e3*2**t,3e4)}function Nc(t){return(t??"online")==="online"?ma.isOnline():!0}var Po=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mc(t){let n=!1,r=0,s;const a=Sm(),o=()=>a.status!=="pending",i=v=>{var m;if(!o()){const w=new Po(v);p(w),(m=t.onCancel)==null||m.call(t,w)}},l=()=>{n=!0},c=()=>{n=!1},d=()=>Oc.isFocused()&&(t.networkMode==="always"||ma.isOnline())&&t.canRun(),u=()=>Nc(t.networkMode)&&t.canRun(),h=v=>{o()||(s==null||s(),a.resolve(v))},p=v=>{o()||(s==null||s(),a.reject(v))},x=()=>new Promise(v=>{var m;s=w=>{(o()||d())&&v(w)},(m=t.onPause)==null||m.call(t)}).then(()=>{var v;s=void 0,o()||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(o())return;let v;const m=r===0?t.initialPromise:void 0;try{v=m??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(h).catch(w=>{var D;if(o())return;const j=t.retry??(Ta?0:3),S=t.retryDelay??Pm,y=typeof S=="function"?S(r,w):S,E=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,w);if(n||!E){p(w);return}r++,(D=t.onFail)==null||D.call(t,r,w),gm(y).then(()=>d()?void 0:x()).then(()=>{n?p(w):g()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():x().then(g),a)}}var nr,hc,Lc=(hc=class{constructor(){Le(this,nr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mm(this.gcTime)&&Re(this,nr,wo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ta?1/0:300*1e3))}clearGcTimeout(){ne(this,nr)&&(wo.clearTimeout(ne(this,nr)),Re(this,nr,void 0))}},nr=new WeakMap,hc),rr,Lr,zt,sr,ct,Cs,ar,Zt,vn,mc,Im=(mc=class extends Lc{constructor(n){super();Le(this,Zt);Le(this,rr);Le(this,Lr);Le(this,zt);Le(this,sr);Le(this,ct);Le(this,Cs);Le(this,ar);Re(this,ar,!1),Re(this,Cs,n.defaultOptions),this.setOptions(n.options),this.observers=[],Re(this,sr,n.client),Re(this,zt,ne(this,sr).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Re(this,rr,_i(this.options)),this.state=n.state??ne(this,rr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=ne(this,ct))==null?void 0:n.promise}setOptions(n){if(this.options={...ne(this,Cs),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=_i(this.options);r.data!==void 0&&(this.setState(Fi(r.data,r.dataUpdatedAt)),Re(this,rr,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,zt).remove(this)}setData(n,r){const s=ym(this.state.data,n,this.options);return yt(this,Zt,vn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){yt(this,Zt,vn).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,a;const r=(s=ne(this,ct))==null?void 0:s.promise;return(a=ne(this,ct))==null||a.cancel(n),r?r.then(Xt).catch(Xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,rr))}isActive(){return this.observers.some(n=>fm(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ei||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Co(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!pm(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=ne(this,ct))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=ne(this,ct))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),ne(this,zt).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(ne(this,ct)&&(ne(this,ar)?ne(this,ct).cancel({revert:!0}):ne(this,ct).cancelRetry()),this.scheduleGc()),ne(this,zt).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,Zt,vn).call(this,{type:"invalidate"})}async fetch(n,r){var c,d,u,h,p,x,g,v,m,w,j,S;if(this.state.fetchStatus!=="idle"&&((c=ne(this,ct))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ne(this,ct))return ne(this,ct).continueRetry(),ne(this,ct).promise}if(n&&this.setOptions(n),!this.options.queryFn){const y=this.observers.find(E=>E.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,a=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Re(this,ar,!0),s.signal)})},o=()=>{const y=kc(this.options,r),D=(()=>{const I={client:ne(this,sr),queryKey:this.queryKey,meta:this.meta};return a(I),I})();return Re(this,ar,!1),this.options.persister?this.options.persister(y,D,this):y(D)},l=(()=>{const y={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ne(this,sr),state:this.state,fetchFn:o};return a(y),y})();(d=this.options.behavior)==null||d.onFetch(l,this),Re(this,Lr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&yt(this,Zt,vn).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),Re(this,ct,Mc({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:y=>{y instanceof Po&&y.revert&&this.setState({...ne(this,Lr),fetchStatus:"idle"}),s.abort()},onFail:(y,E)=>{yt(this,Zt,vn).call(this,{type:"failed",failureCount:y,error:E})},onPause:()=>{yt(this,Zt,vn).call(this,{type:"pause"})},onContinue:()=>{yt(this,Zt,vn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const y=await ne(this,ct).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(x=(p=ne(this,zt).config).onSuccess)==null||x.call(p,y,this),(v=(g=ne(this,zt).config).onSettled)==null||v.call(g,y,this.state.error,this),y}catch(y){if(y instanceof Po){if(y.silent)return ne(this,ct).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw yt(this,Zt,vn).call(this,{type:"error",error:y}),(w=(m=ne(this,zt).config).onError)==null||w.call(m,y,this),(S=(j=ne(this,zt).config).onSettled)==null||S.call(j,this.state.data,y,this),y}finally{this.scheduleGc()}}},rr=new WeakMap,Lr=new WeakMap,zt=new WeakMap,sr=new WeakMap,ct=new WeakMap,Cs=new WeakMap,ar=new WeakMap,Zt=new WeakSet,vn=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Tm(s.data,this.options),fetchMeta:n.meta??null};case"success":const a={...s,...Fi(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Re(this,Lr,n.manual?a:void 0),a;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Tt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ne(this,zt).notify({query:this,type:"updated",action:n})})},mc);function Tm(t,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Nc(n.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Fi(t,n){return{data:t,dataUpdatedAt:n??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _i(t){const n=typeof t.initialData=="function"?t.initialData():t.initialData,r=n!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function $i(t){return{onFetch:(n,r)=>{var u,h,p,x,g;const s=n.options,a=(p=(h=(u=n.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,o=((x=n.state.data)==null?void 0:x.pages)||[],i=((g=n.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const m=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(n.signal.aborted?v=!0:n.signal.addEventListener("abort",()=>{v=!0}),n.signal)})},w=kc(n.options,n.fetchOptions),j=async(S,y,E)=>{if(v)return Promise.reject();if(y==null&&S.pages.length)return Promise.resolve(S);const I=(()=>{const F={client:n.client,queryKey:n.queryKey,pageParam:y,direction:E?"backward":"forward",meta:n.options.meta};return m(F),F})(),A=await w(I),{maxPages:z}=n.options,O=E?bm:jm;return{pages:O(S.pages,A,z),pageParams:O(S.pageParams,y,z)}};if(a&&o.length){const S=a==="backward",y=S?Em:Vi,E={pages:o,pageParams:i},D=y(s,E);l=await j(E,D,S)}else{const S=t??o.length;do{const y=c===0?i[0]??s.initialPageParam:Vi(s,l);if(c>0&&y==null)break;l=await j(l,y),c++}while(c<S)}return l};n.options.persister?n.fetchFn=()=>{var v,m;return(m=(v=n.options).persister)==null?void 0:m.call(v,d,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r)}:n.fetchFn=d}}}function Vi(t,{pages:n,pageParams:r}){const s=n.length-1;return n.length>0?t.getNextPageParam(n[s],n,r[s],r):void 0}function Em(t,{pages:n,pageParams:r}){var s;return n.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,n[0],n,r[0],r):void 0}var Ds,un,Pt,or,hn,Mn,pc,Rm=(pc=class extends Lc{constructor(n){super();Le(this,hn);Le(this,Ds);Le(this,un);Le(this,Pt);Le(this,or);Re(this,Ds,n.client),this.mutationId=n.mutationId,Re(this,Pt,n.mutationCache),Re(this,un,[]),this.state=n.state||Am(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){ne(this,un).includes(n)||(ne(this,un).push(n),this.clearGcTimeout(),ne(this,Pt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Re(this,un,ne(this,un).filter(r=>r!==n)),this.scheduleGc(),ne(this,Pt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){ne(this,un).length||(this.state.status==="pending"?this.scheduleGc():ne(this,Pt).remove(this))}continue(){var n;return((n=ne(this,or))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,l,c,d,u,h,p,x,g,v,m,w,j,S,y,E,D,I,A,z;const r=()=>{yt(this,hn,Mn).call(this,{type:"continue"})},s={client:ne(this,Ds),meta:this.options.meta,mutationKey:this.options.mutationKey};Re(this,or,Mc({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(O,F)=>{yt(this,hn,Mn).call(this,{type:"failed",failureCount:O,error:F})},onPause:()=>{yt(this,hn,Mn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,Pt).canRun(this)}));const a=this.state.status==="pending",o=!ne(this,or).canStart();try{if(a)r();else{yt(this,hn,Mn).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(i=ne(this,Pt).config).onMutate)==null?void 0:l.call(i,n,this,s));const F=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n,s));F!==this.state.context&&yt(this,hn,Mn).call(this,{type:"pending",context:F,variables:n,isPaused:o})}const O=await ne(this,or).start();return await((h=(u=ne(this,Pt).config).onSuccess)==null?void 0:h.call(u,O,n,this.state.context,this,s)),await((x=(p=this.options).onSuccess)==null?void 0:x.call(p,O,n,this.state.context,s)),await((v=(g=ne(this,Pt).config).onSettled)==null?void 0:v.call(g,O,null,this.state.variables,this.state.context,this,s)),await((w=(m=this.options).onSettled)==null?void 0:w.call(m,O,null,n,this.state.context,s)),yt(this,hn,Mn).call(this,{type:"success",data:O}),O}catch(O){try{throw await((S=(j=ne(this,Pt).config).onError)==null?void 0:S.call(j,O,n,this.state.context,this,s)),await((E=(y=this.options).onError)==null?void 0:E.call(y,O,n,this.state.context,s)),await((I=(D=ne(this,Pt).config).onSettled)==null?void 0:I.call(D,void 0,O,this.state.variables,this.state.context,this,s)),await((z=(A=this.options).onSettled)==null?void 0:z.call(A,void 0,O,n,this.state.context,s)),O}finally{yt(this,hn,Mn).call(this,{type:"error",error:O})}}finally{ne(this,Pt).runNext(this)}}},Ds=new WeakMap,un=new WeakMap,Pt=new WeakMap,or=new WeakMap,hn=new WeakSet,Mn=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Tt.batch(()=>{ne(this,un).forEach(s=>{s.onMutationUpdate(n)}),ne(this,Pt).notify({mutation:this,type:"updated",action:n})})},pc);function Am(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sn,en,Ps,fc,km=(fc=class extends Ia{constructor(n={}){super();Le(this,Sn);Le(this,en);Le(this,Ps);this.config=n,Re(this,Sn,new Set),Re(this,en,new Map),Re(this,Ps,0)}build(n,r,s){const a=new Rm({client:n,mutationCache:this,mutationId:++Fs(this,Ps)._,options:n.defaultMutationOptions(r),state:s});return this.add(a),a}add(n){ne(this,Sn).add(n);const r=Vs(n);if(typeof r=="string"){const s=ne(this,en).get(r);s?s.push(n):ne(this,en).set(r,[n])}this.notify({type:"added",mutation:n})}remove(n){if(ne(this,Sn).delete(n)){const r=Vs(n);if(typeof r=="string"){const s=ne(this,en).get(r);if(s)if(s.length>1){const a=s.indexOf(n);a!==-1&&s.splice(a,1)}else s[0]===n&&ne(this,en).delete(r)}}this.notify({type:"removed",mutation:n})}canRun(n){const r=Vs(n);if(typeof r=="string"){const s=ne(this,en).get(r),a=s==null?void 0:s.find(o=>o.state.status==="pending");return!a||a===n}else return!0}runNext(n){var s;const r=Vs(n);if(typeof r=="string"){const a=(s=ne(this,en).get(r))==null?void 0:s.find(o=>o!==n&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tt.batch(()=>{ne(this,Sn).forEach(n=>{this.notify({type:"removed",mutation:n})}),ne(this,Sn).clear(),ne(this,en).clear()})}getAll(){return Array.from(ne(this,Sn))}find(n){const r={exact:!0,...n};return this.getAll().find(s=>Ni(r,s))}findAll(n={}){return this.getAll().filter(r=>Ni(n,r))}notify(n){Tt.batch(()=>{this.listeners.forEach(r=>{r(n)})})}resumePausedMutations(){const n=this.getAll().filter(r=>r.state.isPaused);return Tt.batch(()=>Promise.all(n.map(r=>r.continue().catch(Xt))))}},Sn=new WeakMap,en=new WeakMap,Ps=new WeakMap,fc);function Vs(t){var n;return(n=t.options.scope)==null?void 0:n.id}var mn,xc,Om=(xc=class extends Ia{constructor(n={}){super();Le(this,mn);this.config=n,Re(this,mn,new Map)}build(n,r,s){const a=r.queryKey,o=r.queryHash??Zo(a,r);let i=this.get(o);return i||(i=new Im({client:n,queryKey:a,queryHash:o,options:n.defaultQueryOptions(r),state:s,defaultOptions:n.getQueryDefaults(a)}),this.add(i)),i}add(n){ne(this,mn).has(n.queryHash)||(ne(this,mn).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const r=ne(this,mn).get(n.queryHash);r&&(n.destroy(),r===n&&ne(this,mn).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Tt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return ne(this,mn).get(n)}getAll(){return[...ne(this,mn).values()]}find(n){const r={exact:!0,...n};return this.getAll().find(s=>Oi(r,s))}findAll(n={}){const r=this.getAll();return Object.keys(n).length>0?r.filter(s=>Oi(n,s)):r}notify(n){Tt.batch(()=>{this.listeners.forEach(r=>{r(n)})})}onFocus(){Tt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Tt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},mn=new WeakMap,xc),rt,Vn,Bn,Fr,_r,Wn,$r,Vr,gc,Nm=(gc=class{constructor(t={}){Le(this,rt);Le(this,Vn);Le(this,Bn);Le(this,Fr);Le(this,_r);Le(this,Wn);Le(this,$r);Le(this,Vr);Re(this,rt,t.queryCache||new Om),Re(this,Vn,t.mutationCache||new km),Re(this,Bn,t.defaultOptions||{}),Re(this,Fr,new Map),Re(this,_r,new Map),Re(this,Wn,0)}mount(){Fs(this,Wn)._++,ne(this,Wn)===1&&(Re(this,$r,Oc.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,rt).onFocus())})),Re(this,Vr,ma.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,rt).onOnline())})))}unmount(){var t,n;Fs(this,Wn)._--,ne(this,Wn)===0&&((t=ne(this,$r))==null||t.call(this),Re(this,$r,void 0),(n=ne(this,Vr))==null||n.call(this),Re(this,Vr,void 0))}isFetching(t){return ne(this,rt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ne(this,Vn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const n=this.defaultQueryOptions({queryKey:t});return(r=ne(this,rt).get(n.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const n=this.defaultQueryOptions(t),r=ne(this,rt).build(this,n),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Co(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(s))}getQueriesData(t){return ne(this,rt).findAll(t).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(t,n,r){const s=this.defaultQueryOptions({queryKey:t}),a=ne(this,rt).get(s.queryHash),o=a==null?void 0:a.state.data,i=hm(n,o);if(i!==void 0)return ne(this,rt).build(this,s).setData(i,{...r,manual:!0})}setQueriesData(t,n,r){return Tt.batch(()=>ne(this,rt).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(t){var r;const n=this.defaultQueryOptions({queryKey:t});return(r=ne(this,rt).get(n.queryHash))==null?void 0:r.state}removeQueries(t){const n=ne(this,rt);Tt.batch(()=>{n.findAll(t).forEach(r=>{n.remove(r)})})}resetQueries(t,n){const r=ne(this,rt);return Tt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},n)))}cancelQueries(t,n={}){const r={revert:!0,...n},s=Tt.batch(()=>ne(this,rt).findAll(t).map(a=>a.cancel(r)));return Promise.all(s).then(Xt).catch(Xt)}invalidateQueries(t,n={}){return Tt.batch(()=>(ne(this,rt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},n)))}refetchQueries(t,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},s=Tt.batch(()=>ne(this,rt).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(Xt)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(Xt)}fetchQuery(t){const n=this.defaultQueryOptions(t);n.retry===void 0&&(n.retry=!1);const r=ne(this,rt).build(this,n);return r.isStaleByTime(Co(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xt).catch(Xt)}fetchInfiniteQuery(t){return t.behavior=$i(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xt).catch(Xt)}ensureInfiniteQueryData(t){return t.behavior=$i(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ma.isOnline()?ne(this,Vn).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,rt)}getMutationCache(){return ne(this,Vn)}getDefaultOptions(){return ne(this,Bn)}setDefaultOptions(t){Re(this,Bn,t)}setQueryDefaults(t,n){ne(this,Fr).set(xs(t),{queryKey:t,defaultOptions:n})}getQueryDefaults(t){const n=[...ne(this,Fr).values()],r={};return n.forEach(s=>{gs(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,n){ne(this,_r).set(xs(t),{mutationKey:t,defaultOptions:n})}getMutationDefaults(t){const n=[...ne(this,_r).values()],r={};return n.forEach(s=>{gs(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const n={...ne(this,Bn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return n.queryHash||(n.queryHash=Zo(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===ei&&(n.enabled=!1),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ne(this,Bn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ne(this,rt).clear(),ne(this,Vn).clear()}},rt=new WeakMap,Vn=new WeakMap,Bn=new WeakMap,Fr=new WeakMap,_r=new WeakMap,Wn=new WeakMap,$r=new WeakMap,Vr=new WeakMap,gc),Mm=f.createContext(void 0),Lm=({client:t,children:n})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Mm.Provider,{value:t,children:n})),Fm=t=>{switch(t){case"success":return Vm;case"info":return Wm;case"warning":return Bm;case"error":return Um;default:return null}},_m=Array(12).fill(0),$m=({visible:t,className:n})=>ie.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},ie.createElement("div",{className:"sonner-spinner"},_m.map((r,s)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Vm=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Bm=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Wm=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Um=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zm=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Hm=()=>{let[t,n]=ie.useState(document.hidden);return ie.useEffect(()=>{let r=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Io=1,qm=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Io++,o=this.toasts.find(l=>l.id===a),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:r}),{...l,...t,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...s,dismissible:i,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),a=r!==void 0,o,i=s.then(async c=>{if(o=["resolve",c],ie.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(Gm(c)&&!c.ok){a=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,u=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:u})}else if(n.success!==void 0){a=!1;let d=typeof n.success=="function"?await n.success(c):n.success,u=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){a=!1;let d=typeof n.error=="function"?await n.error(c):n.error,u=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>i.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||Io++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Et=new qm,Ym=(t,n)=>{let r=(n==null?void 0:n.id)||Io++;return Et.addToast({title:t,...n,id:r}),r},Gm=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Km=Ym,Qm=()=>Et.toasts,Jm=()=>Et.getActiveToasts(),J=Object.assign(Km,{success:Et.success,info:Et.info,warning:Et.warning,error:Et.error,custom:Et.custom,message:Et.message,promise:Et.promise,dismiss:Et.dismiss,loading:Et.loading},{getHistory:Qm,getToasts:Jm});function Xm(t,{insertAt:n}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}Xm(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bs(t){return t.label!==void 0}var Zm=3,ep="32px",tp="16px",Bi=4e3,np=356,rp=14,sp=20,ap=200;function Qt(...t){return t.filter(Boolean).join(" ")}function op(t){let[n,r]=t.split("-"),s=[];return n&&s.push(n),r&&s.push(r),s}var ip=t=>{var n,r,s,a,o,i,l,c,d,u,h;let{invert:p,toast:x,unstyled:g,interacting:v,setHeights:m,visibleToasts:w,heights:j,index:S,toasts:y,expanded:E,removeToast:D,defaultRichColors:I,closeButton:A,style:z,cancelButtonStyle:O,actionButtonStyle:F,className:H="",descriptionClassName:Y="",duration:M,position:R,gap:T,loadingIcon:k,expandByDefault:N,classNames:W,icons:q,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:se}=t,[ee,te]=ie.useState(null),[X,me]=ie.useState(null),[ae,B]=ie.useState(!1),[G,le]=ie.useState(!1),[ue,ce]=ie.useState(!1),[K,xe]=ie.useState(!1),[ge,de]=ie.useState(!1),[oe,he]=ie.useState(0),[pe,be]=ie.useState(0),Ie=ie.useRef(x.duration||M||Bi),tt=ie.useRef(null),at=ie.useRef(null),jn=S===0,nt=S+1<=w,Qe=x.type,wt=x.dismissible!==!1,jr=x.className||"",qa=x.descriptionClassName||"",br=ie.useMemo(()=>j.findIndex(Ae=>Ae.toastId===x.id)||0,[j,x.id]),Ya=ie.useMemo(()=>{var Ae;return(Ae=x.closeButton)!=null?Ae:A},[x.closeButton,A]),Ls=ie.useMemo(()=>x.duration||M||Bi,[x.duration,M]),Hn=ie.useRef(0),bn=ie.useRef(0),vr=ie.useRef(0),cn=ie.useRef(null),[Jr,Ga]=R.split("-"),Xe=ie.useMemo(()=>j.reduce((Ae,qe,et)=>et>=br?Ae:Ae+qe.height,0),[j,br]),_t=Hm(),qn=x.invert||p,Wt=Qe==="loading";bn.current=ie.useMemo(()=>br*T+Xe,[br,Xe]),ie.useEffect(()=>{Ie.current=Ls},[Ls]),ie.useEffect(()=>{B(!0)},[]),ie.useEffect(()=>{let Ae=at.current;if(Ae){let qe=Ae.getBoundingClientRect().height;return be(qe),m(et=>[{toastId:x.id,height:qe,position:x.position},...et]),()=>m(et=>et.filter(Yt=>Yt.toastId!==x.id))}},[m,x.id]),ie.useLayoutEffect(()=>{if(!ae)return;let Ae=at.current,qe=Ae.style.height;Ae.style.height="auto";let et=Ae.getBoundingClientRect().height;Ae.style.height=qe,be(et),m(Yt=>Yt.find(Gt=>Gt.toastId===x.id)?Yt.map(Gt=>Gt.toastId===x.id?{...Gt,height:et}:Gt):[{toastId:x.id,height:et,position:x.position},...Yt])},[ae,x.title,x.description,m,x.id]);let An=ie.useCallback(()=>{le(!0),he(bn.current),m(Ae=>Ae.filter(qe=>qe.toastId!==x.id)),setTimeout(()=>{D(x)},ap)},[x,D,m,bn]);ie.useEffect(()=>{if(x.promise&&Qe==="loading"||x.duration===1/0||x.type==="loading")return;let Ae;return E||v||se&&_t?(()=>{if(vr.current<Hn.current){let qe=new Date().getTime()-Hn.current;Ie.current=Ie.current-qe}vr.current=new Date().getTime()})():Ie.current!==1/0&&(Hn.current=new Date().getTime(),Ae=setTimeout(()=>{var qe;(qe=x.onAutoClose)==null||qe.call(x,x),An()},Ie.current)),()=>clearTimeout(Ae)},[E,v,x,Qe,se,_t,An]),ie.useEffect(()=>{x.delete&&An()},[An,x.delete]);function Eu(){var Ae,qe,et;return q!=null&&q.loading?ie.createElement("div",{className:Qt(W==null?void 0:W.loader,(Ae=x==null?void 0:x.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":Qe==="loading"},q.loading):k?ie.createElement("div",{className:Qt(W==null?void 0:W.loader,(qe=x==null?void 0:x.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Qe==="loading"},k):ie.createElement($m,{className:Qt(W==null?void 0:W.loader,(et=x==null?void 0:x.classNames)==null?void 0:et.loader),visible:Qe==="loading"})}return ie.createElement("li",{tabIndex:0,ref:at,className:Qt(H,jr,W==null?void 0:W.toast,(n=x==null?void 0:x.classNames)==null?void 0:n.toast,W==null?void 0:W.default,W==null?void 0:W[Qe],(r=x==null?void 0:x.classNames)==null?void 0:r[Qe]),"data-sonner-toast":"","data-rich-colors":(s=x.richColors)!=null?s:I,"data-styled":!(x.jsx||x.unstyled||g),"data-mounted":ae,"data-promise":!!x.promise,"data-swiped":ge,"data-removed":G,"data-visible":nt,"data-y-position":Jr,"data-x-position":Ga,"data-index":S,"data-front":jn,"data-swiping":ue,"data-dismissible":wt,"data-type":Qe,"data-invert":qn,"data-swipe-out":K,"data-swipe-direction":X,"data-expanded":!!(E||N&&ae),style:{"--index":S,"--toasts-before":S,"--z-index":y.length-S,"--offset":`${G?oe:bn.current}px`,"--initial-height":N?"auto":`${pe}px`,...z,...x.style},onDragEnd:()=>{ce(!1),te(null),cn.current=null},onPointerDown:Ae=>{Wt||!wt||(tt.current=new Date,he(bn.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(ce(!0),cn.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,qe,et,Yt;if(K||!wt)return;cn.current=null;let Gt=Number(((Ae=at.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),kn=Number(((qe=at.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yn=new Date().getTime()-((et=tt.current)==null?void 0:et.getTime()),Kt=ee==="x"?Gt:kn,On=Math.abs(Kt)/Yn;if(Math.abs(Kt)>=sp||On>.11){he(bn.current),(Yt=x.onDismiss)==null||Yt.call(x,x),me(ee==="x"?Gt>0?"right":"left":kn>0?"down":"up"),An(),xe(!0),de(!1);return}ce(!1),te(null)},onPointerMove:Ae=>{var qe,et,Yt,Gt;if(!cn.current||!wt||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;let kn=Ae.clientY-cn.current.y,Yn=Ae.clientX-cn.current.x,Kt=(et=t.swipeDirections)!=null?et:op(R);!ee&&(Math.abs(Yn)>1||Math.abs(kn)>1)&&te(Math.abs(Yn)>Math.abs(kn)?"x":"y");let On={x:0,y:0};ee==="y"?(Kt.includes("top")||Kt.includes("bottom"))&&(Kt.includes("top")&&kn<0||Kt.includes("bottom")&&kn>0)&&(On.y=kn):ee==="x"&&(Kt.includes("left")||Kt.includes("right"))&&(Kt.includes("left")&&Yn<0||Kt.includes("right")&&Yn>0)&&(On.x=Yn),(Math.abs(On.x)>0||Math.abs(On.y)>0)&&de(!0),(Yt=at.current)==null||Yt.style.setProperty("--swipe-amount-x",`${On.x}px`),(Gt=at.current)==null||Gt.style.setProperty("--swipe-amount-y",`${On.y}px`)}},Ya&&!x.jsx?ie.createElement("button",{"aria-label":Z,"data-disabled":Wt,"data-close-button":!0,onClick:Wt||!wt?()=>{}:()=>{var Ae;An(),(Ae=x.onDismiss)==null||Ae.call(x,x)},className:Qt(W==null?void 0:W.closeButton,(a=x==null?void 0:x.classNames)==null?void 0:a.closeButton)},(o=q==null?void 0:q.close)!=null?o:zm):null,x.jsx||f.isValidElement(x.title)?x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title:ie.createElement(ie.Fragment,null,Qe||x.icon||x.promise?ie.createElement("div",{"data-icon":"",className:Qt(W==null?void 0:W.icon,(i=x==null?void 0:x.classNames)==null?void 0:i.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Eu():null,x.type!=="loading"?x.icon||(q==null?void 0:q[Qe])||Fm(Qe):null):null,ie.createElement("div",{"data-content":"",className:Qt(W==null?void 0:W.content,(l=x==null?void 0:x.classNames)==null?void 0:l.content)},ie.createElement("div",{"data-title":"",className:Qt(W==null?void 0:W.title,(c=x==null?void 0:x.classNames)==null?void 0:c.title)},typeof x.title=="function"?x.title():x.title),x.description?ie.createElement("div",{"data-description":"",className:Qt(Y,qa,W==null?void 0:W.description,(d=x==null?void 0:x.classNames)==null?void 0:d.description)},typeof x.description=="function"?x.description():x.description):null),f.isValidElement(x.cancel)?x.cancel:x.cancel&&Bs(x.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||O,onClick:Ae=>{var qe,et;Bs(x.cancel)&&wt&&((et=(qe=x.cancel).onClick)==null||et.call(qe,Ae),An())},className:Qt(W==null?void 0:W.cancelButton,(u=x==null?void 0:x.classNames)==null?void 0:u.cancelButton)},x.cancel.label):null,f.isValidElement(x.action)?x.action:x.action&&Bs(x.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||F,onClick:Ae=>{var qe,et;Bs(x.action)&&((et=(qe=x.action).onClick)==null||et.call(qe,Ae),!Ae.defaultPrevented&&An())},className:Qt(W==null?void 0:W.actionButton,(h=x==null?void 0:x.classNames)==null?void 0:h.actionButton)},x.action.label):null))};function Wi(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function lp(t,n){let r={};return[t,n].forEach((s,a)=>{let o=a===1,i=o?"--mobile-offset":"--offset",l=o?tp:ep;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${i}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?r[`${i}-${d}`]=l:r[`${i}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),r}var cp=f.forwardRef(function(t,n){let{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:p,style:x,visibleToasts:g=Zm,toastOptions:v,dir:m=Wi(),gap:w=rp,loadingIcon:j,icons:S,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:E}=t,[D,I]=ie.useState([]),A=ie.useMemo(()=>Array.from(new Set([s].concat(D.filter(se=>se.position).map(se=>se.position)))),[D,s]),[z,O]=ie.useState([]),[F,H]=ie.useState(!1),[Y,M]=ie.useState(!1),[R,T]=ie.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=ie.useRef(null),N=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=ie.useRef(null),q=ie.useRef(!1),Z=ie.useCallback(se=>{I(ee=>{var te;return(te=ee.find(X=>X.id===se.id))!=null&&te.delete||Et.dismiss(se.id),ee.filter(({id:X})=>X!==se.id)})},[]);return ie.useEffect(()=>Et.subscribe(se=>{if(se.dismiss){I(ee=>ee.map(te=>te.id===se.id?{...te,delete:!0}:te));return}setTimeout(()=>{Ih.flushSync(()=>{I(ee=>{let te=ee.findIndex(X=>X.id===se.id);return te!==-1?[...ee.slice(0,te),{...ee[te],...se},...ee.slice(te+1)]:[se,...ee]})})})}),[]),ie.useEffect(()=>{if(u!=="system"){T(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:ee})=>{T(ee?"dark":"light")})}catch{se.addListener(({matches:te})=>{try{T(te?"dark":"light")}catch(X){console.error(X)}})}},[u]),ie.useEffect(()=>{D.length<=1&&H(!1)},[D]),ie.useEffect(()=>{let se=ee=>{var te,X;a.every(me=>ee[me]||ee.code===me)&&(H(!0),(te=k.current)==null||te.focus()),ee.code==="Escape"&&(document.activeElement===k.current||(X=k.current)!=null&&X.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[a]),ie.useEffect(()=>{if(k.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,q.current=!1)}},[k.current]),ie.createElement("section",{ref:n,"aria-label":`${y} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((se,ee)=>{var te;let[X,me]=se.split("-");return D.length?ie.createElement("ol",{key:se,dir:m==="auto"?Wi():m,tabIndex:-1,ref:k,className:l,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":X,"data-lifted":F&&D.length>1&&!o,"data-x-position":me,style:{"--front-toast-height":`${((te=z[0])==null?void 0:te.height)||0}px`,"--width":`${np}px`,"--gap":`${w}px`,...x,...lp(c,d)},onBlur:ae=>{q.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(q.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||q.current||(q.current=!0,W.current=ae.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{Y||H(!1)},onDragEnd:()=>H(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},D.filter(ae=>!ae.position&&ee===0||ae.position===se).map((ae,B)=>{var G,le;return ie.createElement(ip,{key:ae.id,icons:S,index:B,toast:ae,defaultRichColors:h,duration:(G=v==null?void 0:v.duration)!=null?G:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:g,closeButton:(le=v==null?void 0:v.closeButton)!=null?le:i,interacting:Y,position:se,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:Z,toasts:D.filter(ue=>ue.position==ae.position),heights:z.filter(ue=>ue.position==ae.position),setHeights:O,expandByDefault:o,gap:w,loadingIcon:j,expanded:F,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});function pt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var dp=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ui=dp,so=()=>Math.random().toString(36).substring(7).split("").join("."),up={INIT:`@@redux/INIT${so()}`,REPLACE:`@@redux/REPLACE${so()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${so()}`},pa=up;function ti(t){if(typeof t!="object"||t===null)return!1;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n||Object.getPrototypeOf(t)===null}function Fc(t,n,r){if(typeof t!="function")throw new Error(pt(2));if(typeof n=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(pt(0));if(typeof n=="function"&&typeof r>"u"&&(r=n,n=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(pt(1));return r(Fc)(t,n)}let s=t,a=n,o=new Map,i=o,l=0,c=!1;function d(){i===o&&(i=new Map,o.forEach((m,w)=>{i.set(w,m)}))}function u(){if(c)throw new Error(pt(3));return a}function h(m){if(typeof m!="function")throw new Error(pt(4));if(c)throw new Error(pt(5));let w=!0;d();const j=l++;return i.set(j,m),function(){if(w){if(c)throw new Error(pt(6));w=!1,d(),i.delete(j),o=null}}}function p(m){if(!ti(m))throw new Error(pt(7));if(typeof m.type>"u")throw new Error(pt(8));if(typeof m.type!="string")throw new Error(pt(17));if(c)throw new Error(pt(9));try{c=!0,a=s(a,m)}finally{c=!1}return(o=i).forEach(j=>{j()}),m}function x(m){if(typeof m!="function")throw new Error(pt(10));s=m,p({type:pa.REPLACE})}function g(){const m=h;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(pt(11));function j(){const y=w;y.next&&y.next(u())}return j(),{unsubscribe:m(j)}},[Ui](){return this}}}return p({type:pa.INIT}),{dispatch:p,subscribe:h,getState:u,replaceReducer:x,[Ui]:g}}function hp(t){Object.keys(t).forEach(n=>{const r=t[n];if(typeof r(void 0,{type:pa.INIT})>"u")throw new Error(pt(12));if(typeof r(void 0,{type:pa.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pt(13))})}function mp(t){const n=Object.keys(t),r={};for(let o=0;o<n.length;o++){const i=n[o];typeof t[i]=="function"&&(r[i]=t[i])}const s=Object.keys(r);let a;try{hp(r)}catch(o){a=o}return function(i={},l){if(a)throw a;let c=!1;const d={};for(let u=0;u<s.length;u++){const h=s[u],p=r[h],x=i[h],g=p(x,l);if(typeof g>"u")throw l&&l.type,new Error(pt(14));d[h]=g,c=c||g!==x}return c=c||s.length!==Object.keys(i).length,c?d:i}}function fa(...t){return t.length===0?n=>n:t.length===1?t[0]:t.reduce((n,r)=>(...s)=>n(r(...s)))}function pp(...t){return n=>(r,s)=>{const a=n(r,s);let o=()=>{throw new Error(pt(15))};const i={getState:a.getState,dispatch:(c,...d)=>o(c,...d)},l=t.map(c=>c(i));return o=fa(...l)(a.dispatch),{...a,dispatch:o}}}function fp(t){return ti(t)&&"type"in t&&typeof t.type=="string"}var _c=Symbol.for("immer-nothing"),zi=Symbol.for("immer-draftable"),Vt=Symbol.for("immer-state");function rn(t,...n){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ys=Object.getPrototypeOf;function ur(t){return!!t&&!!t[Vt]}function En(t){var n;return t?$c(t)||Array.isArray(t)||!!t[zi]||!!((n=t.constructor)!=null&&n[zi])||Ts(t)||Ra(t):!1}var xp=Object.prototype.constructor.toString(),Hi=new WeakMap;function $c(t){if(!t||typeof t!="object")return!1;const n=Object.getPrototypeOf(t);if(n===null||n===Object.prototype)return!0;const r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let s=Hi.get(r);return s===void 0&&(s=Function.toString.call(r),Hi.set(r,s)),s===xp}function xa(t,n,r=!0){Ea(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{n(a,t[a],t)}):t.forEach((s,a)=>n(a,s,t))}function Ea(t){const n=t[Vt];return n?n.type_:Array.isArray(t)?1:Ts(t)?2:Ra(t)?3:0}function To(t,n){return Ea(t)===2?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function Vc(t,n,r){const s=Ea(t);s===2?t.set(n,r):s===3?t.add(r):t[n]=r}function gp(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}function Ts(t){return t instanceof Map}function Ra(t){return t instanceof Set}function Jn(t){return t.copy_||t.base_}function Eo(t,n){if(Ts(t))return new Map(t);if(Ra(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=$c(t);if(n===!0||n==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(t);delete s[Vt];let a=Reflect.ownKeys(s);for(let o=0;o<a.length;o++){const i=a[o],l=s[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(s[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(ys(t),s)}else{const s=ys(t);if(s!==null&&r)return{...t};const a=Object.create(s);return Object.assign(a,t)}}function ni(t,n=!1){return Aa(t)||ur(t)||!En(t)||(Ea(t)>1&&Object.defineProperties(t,{set:Ws,add:Ws,clear:Ws,delete:Ws}),Object.freeze(t),n&&Object.values(t).forEach(r=>ni(r,!0))),t}function yp(){rn(2)}var Ws={value:yp};function Aa(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var jp={};function hr(t){const n=jp[t];return n||rn(0,t),n}var js;function Bc(){return js}function bp(t,n){return{drafts_:[],parent_:t,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qi(t,n){n&&(hr("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=n)}function Ro(t){Ao(t),t.drafts_.forEach(vp),t.drafts_=null}function Ao(t){t===js&&(js=t.parent_)}function Yi(t){return js=bp(js,t)}function vp(t){const n=t[Vt];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function Gi(t,n){n.unfinalizedDrafts_=n.drafts_.length;const r=n.drafts_[0];return t!==void 0&&t!==r?(r[Vt].modified_&&(Ro(n),rn(4)),En(t)&&(t=ga(n,t),n.parent_||ya(n,t)),n.patches_&&hr("Patches").generateReplacementPatches_(r[Vt].base_,t,n.patches_,n.inversePatches_)):t=ga(n,r,[]),Ro(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),t!==_c?t:void 0}function ga(t,n,r){if(Aa(n))return n;const s=t.immer_.shouldUseStrictIteration(),a=n[Vt];if(!a)return xa(n,(o,i)=>Ki(t,a,n,o,i,r),s),n;if(a.scope_!==t)return n;if(!a.modified_)return ya(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const o=a.copy_;let i=o,l=!1;a.type_===3&&(i=new Set(o),o.clear(),l=!0),xa(i,(c,d)=>Ki(t,a,o,c,d,r,l),s),ya(t,o,!1),r&&t.patches_&&hr("Patches").generatePatches_(a,r,t.patches_,t.inversePatches_)}return a.copy_}function Ki(t,n,r,s,a,o,i){if(a==null||typeof a!="object"&&!i)return;const l=Aa(a);if(!(l&&!i)){if(ur(a)){const c=o&&n&&n.type_!==3&&!To(n.assigned_,s)?o.concat(s):void 0,d=ga(t,a,c);if(Vc(r,s,d),ur(d))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(En(a)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||n&&n.base_&&n.base_[s]===a&&l)return;ga(t,a),(!n||!n.scope_.parent_)&&typeof s!="symbol"&&(Ts(r)?r.has(s):Object.prototype.propertyIsEnumerable.call(r,s))&&ya(t,a)}}}function ya(t,n,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ni(n,r)}function Sp(t,n){const r=Array.isArray(t),s={type_:r?1:0,scope_:n?n.scope_:Bc(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,o=ri;r&&(a=[s],o=bs);const{revoke:i,proxy:l}=Proxy.revocable(a,o);return s.draft_=l,s.revoke_=i,l}var ri={get(t,n){if(n===Vt)return t;const r=Jn(t);if(!To(r,n))return wp(t,r,n);const s=r[n];return t.finalized_||!En(s)?s:s===ao(t.base_,n)?(oo(t),t.copy_[n]=Oo(s,t)):s},has(t,n){return n in Jn(t)},ownKeys(t){return Reflect.ownKeys(Jn(t))},set(t,n,r){const s=Wc(Jn(t),n);if(s!=null&&s.set)return s.set.call(t.draft_,r),!0;if(!t.modified_){const a=ao(Jn(t),n),o=a==null?void 0:a[Vt];if(o&&o.base_===r)return t.copy_[n]=r,t.assigned_[n]=!1,!0;if(gp(r,a)&&(r!==void 0||To(t.base_,n)))return!0;oo(t),ko(t)}return t.copy_[n]===r&&(r!==void 0||n in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[n])||(t.copy_[n]=r,t.assigned_[n]=!0),!0},deleteProperty(t,n){return ao(t.base_,n)!==void 0||n in t.base_?(t.assigned_[n]=!1,oo(t),ko(t)):delete t.assigned_[n],t.copy_&&delete t.copy_[n],!0},getOwnPropertyDescriptor(t,n){const r=Jn(t),s=Reflect.getOwnPropertyDescriptor(r,n);return s&&{writable:!0,configurable:t.type_!==1||n!=="length",enumerable:s.enumerable,value:r[n]}},defineProperty(){rn(11)},getPrototypeOf(t){return ys(t.base_)},setPrototypeOf(){rn(12)}},bs={};xa(ri,(t,n)=>{bs[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});bs.deleteProperty=function(t,n){return bs.set.call(this,t,n,void 0)};bs.set=function(t,n,r){return ri.set.call(this,t[0],n,r,t[0])};function ao(t,n){const r=t[Vt];return(r?Jn(r):t)[n]}function wp(t,n,r){var a;const s=Wc(n,r);return s?"value"in s?s.value:(a=s.get)==null?void 0:a.call(t.draft_):void 0}function Wc(t,n){if(!(n in t))return;let r=ys(t);for(;r;){const s=Object.getOwnPropertyDescriptor(r,n);if(s)return s;r=ys(r)}}function ko(t){t.modified_||(t.modified_=!0,t.parent_&&ko(t.parent_))}function oo(t){t.copy_||(t.copy_=Eo(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Cp=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(n,r,s)=>{if(typeof n=="function"&&typeof r!="function"){const o=r;r=n;const i=this;return function(c=o,...d){return i.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&rn(6),s!==void 0&&typeof s!="function"&&rn(7);let a;if(En(n)){const o=Yi(this),i=Oo(n,void 0);let l=!0;try{a=r(i),l=!1}finally{l?Ro(o):Ao(o)}return qi(o,s),Gi(a,o)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===_c&&(a=void 0),this.autoFreeze_&&ni(a,!0),s){const o=[],i=[];hr("Patches").generateReplacementPatches_(n,a,o,i),s(o,i)}return a}else rn(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(i,...l)=>this.produceWithPatches(i,c=>n(c,...l));let s,a;return[this.produce(n,r,(i,l)=>{s=i,a=l}),s,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){En(t)||rn(8),ur(t)&&(t=Dp(t));const n=Yi(this),r=Oo(t,void 0);return r[Vt].isManual_=!0,Ao(n),r}finishDraft(t,n){const r=t&&t[Vt];(!r||!r.isManual_)&&rn(9);const{scope_:s}=r;return qi(s,n),Gi(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const s=hr("Patches").applyPatches_;return ur(t)?s(t,n):this.produce(t,a=>s(a,n))}};function Oo(t,n){const r=Ts(t)?hr("MapSet").proxyMap_(t,n):Ra(t)?hr("MapSet").proxySet_(t,n):Sp(t,n);return(n?n.scope_:Bc()).drafts_.push(r),r}function Dp(t){return ur(t)||rn(10,t),Uc(t)}function Uc(t){if(!En(t)||Aa(t))return t;const n=t[Vt];let r,s=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=Eo(t,n.scope_.immer_.useStrictShallowCopy_),s=n.scope_.immer_.shouldUseStrictIteration()}else r=Eo(t,!0);return xa(r,(a,o)=>{Vc(r,a,Uc(o))},s),n&&(n.finalized_=!1),r}var No=new Cp,zc=No.produce,Pp=No.setUseStrictIteration.bind(No);function Hc(t){return({dispatch:r,getState:s})=>a=>o=>typeof o=="function"?o(r,s,t):a(o)}var Ip=Hc(),Tp=Hc,Ep=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fa:fa.apply(null,arguments)};function Qi(t,n){function r(...s){if(n){let a=n(...s);if(!a)throw new Error(Cn(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:s[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=s=>fp(s)&&s.type===t,r}var qc=class ls extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,ls.prototype)}static get[Symbol.species](){return ls}concat(...n){return super.concat.apply(this,n)}prepend(...n){return n.length===1&&Array.isArray(n[0])?new ls(...n[0].concat(this)):new ls(...n.concat(this))}};function Ji(t){return En(t)?zc(t,()=>{}):t}function Us(t,n,r){return t.has(n)?t.get(n):t.set(n,r(n)).get(n)}function Rp(t){return typeof t=="boolean"}var Ap=()=>function(n){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=n??{};let i=new qc;return r&&(Rp(r)?i.push(Ip):i.push(Tp(r.extraArgument))),i},kp="RTK_autoBatch",Xi=t=>n=>{setTimeout(n,t)},Op=(t={type:"raf"})=>n=>(...r)=>{const s=n(...r);let a=!0,o=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Xi(10):t.type==="callback"?t.queueNotification:Xi(t.timeout),d=()=>{i=!1,o&&(o=!1,l.forEach(u=>u()))};return Object.assign({},s,{subscribe(u){const h=()=>a&&u(),p=s.subscribe(h);return l.add(u),()=>{p(),l.delete(u)}},dispatch(u){var h;try{return a=!((h=u==null?void 0:u.meta)!=null&&h[kp]),o=!a,o&&(i||(i=!0,c(d))),s.dispatch(u)}finally{a=!0}}})},Np=t=>function(r){const{autoBatch:s=!0}=r??{};let a=new qc(t);return s&&a.push(Op(typeof s=="object"?s:void 0)),a};function Mp(t){const n=Ap(),{reducer:r=void 0,middleware:s,devTools:a=!0,preloadedState:o=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(ti(r))l=mp(r);else throw new Error(Cn(1));let c;typeof s=="function"?c=s(n):c=n();let d=fa;a&&(d=Ep({trace:!1,...typeof a=="object"&&a}));const u=pp(...c),h=Np(u);let p=typeof i=="function"?i(h):h();const x=d(...p);return Fc(l,o,x)}function Yc(t){const n={},r=[];let s;const a={addCase(o,i){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(Cn(28));if(l in n)throw new Error(Cn(29));return n[l]=i,a},addAsyncThunk(o,i){return i.pending&&(n[o.pending.type]=i.pending),i.rejected&&(n[o.rejected.type]=i.rejected),i.fulfilled&&(n[o.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:o.settled,reducer:i.settled}),a},addMatcher(o,i){return r.push({matcher:o,reducer:i}),a},addDefaultCase(o){return s=o,a}};return t(a),[n,r,s]}Pp(!1);function Lp(t){return typeof t=="function"}function Fp(t,n){let[r,s,a]=Yc(n),o;if(Lp(t))o=()=>Ji(t());else{const l=Ji(t);o=()=>l}function i(l=o(),c){let d=[r[c.type],...s.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[a]),d.reduce((u,h)=>{if(h)if(ur(u)){const x=h(u,c);return x===void 0?u:x}else{if(En(u))return zc(u,p=>h(p,c));{const p=h(u,c);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},l)}return i.getInitialState=o,i}var _p=Symbol.for("rtk-slice-createasyncthunk");function $p(t,n){return`${t}/${n}`}function Vp({creators:t}={}){var r;const n=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[_p];return function(a){const{name:o,reducerPath:i=o}=a;if(!o)throw new Error(Cn(11));const l=(typeof a.reducers=="function"?a.reducers(Wp()):a.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(y,E){const D=typeof y=="string"?y:y.type;if(!D)throw new Error(Cn(12));if(D in d.sliceCaseReducersByType)throw new Error(Cn(13));return d.sliceCaseReducersByType[D]=E,u},addMatcher(y,E){return d.sliceMatchers.push({matcher:y,reducer:E}),u},exposeAction(y,E){return d.actionCreators[y]=E,u},exposeCaseReducer(y,E){return d.sliceCaseReducersByName[y]=E,u}};c.forEach(y=>{const E=l[y],D={reducerName:y,type:$p(o,y),createNotation:typeof a.reducers=="function"};zp(E)?qp(D,E,u,n):Up(D,E,u)});function h(){const[y={},E=[],D=void 0]=typeof a.extraReducers=="function"?Yc(a.extraReducers):[a.extraReducers],I={...y,...d.sliceCaseReducersByType};return Fp(a.initialState,A=>{for(let z in I)A.addCase(z,I[z]);for(let z of d.sliceMatchers)A.addMatcher(z.matcher,z.reducer);for(let z of E)A.addMatcher(z.matcher,z.reducer);D&&A.addDefaultCase(D)})}const p=y=>y,x=new Map,g=new WeakMap;let v;function m(y,E){return v||(v=h()),v(y,E)}function w(){return v||(v=h()),v.getInitialState()}function j(y,E=!1){function D(A){let z=A[y];return typeof z>"u"&&E&&(z=Us(g,D,w)),z}function I(A=p){const z=Us(x,E,()=>new WeakMap);return Us(z,A,()=>{const O={};for(const[F,H]of Object.entries(a.selectors??{}))O[F]=Bp(H,A,()=>Us(g,A,w),E);return O})}return{reducerPath:y,getSelectors:I,get selectors(){return I(D)},selectSlice:D}}const S={name:o,reducer:m,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:w,...j(i),injectInto(y,{reducerPath:E,...D}={}){const I=E??i;return y.inject({reducerPath:I,reducer:m},D),{...S,...j(I,!0)}}};return S}}function Bp(t,n,r,s){function a(o,...i){let l=n(o);return typeof l>"u"&&s&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var Gc=Vp();function Wp(){function t(n,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:n,...r}}return t.withTypes=()=>t,{reducer(n){return Object.assign({[n.name](...r){return n(...r)}}[n.name],{_reducerDefinitionType:"reducer"})},preparedReducer(n,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:n,reducer:r}},asyncThunk:t}}function Up({type:t,reducerName:n,createNotation:r},s,a){let o,i;if("reducer"in s){if(r&&!Hp(s))throw new Error(Cn(17));o=s.reducer,i=s.prepare}else o=s;a.addCase(t,o).exposeCaseReducer(n,o).exposeAction(n,i?Qi(t,i):Qi(t))}function zp(t){return t._reducerDefinitionType==="asyncThunk"}function Hp(t){return t._reducerDefinitionType==="reducerWithPrepare"}function qp({type:t,reducerName:n},r,s,a){if(!a)throw new Error(Cn(18));const{payloadCreator:o,fulfilled:i,pending:l,rejected:c,settled:d,options:u}=r,h=a(t,o,u);s.exposeAction(n,h),i&&s.addCase(h.fulfilled,i),l&&s.addCase(h.pending,l),c&&s.addCase(h.rejected,c),d&&s.addMatcher(h.settled,d),s.exposeCaseReducer(n,{fulfilled:i||zs,pending:l||zs,rejected:c||zs,settled:d||zs})}function zs(){}function Cn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}function Kc(t,n){return function(){return t.apply(n,arguments)}}const{toString:Yp}=Object.prototype,{getPrototypeOf:si}=Object,{iterator:ka,toStringTag:Qc}=Symbol,Oa=(t=>n=>{const r=Yp.call(n);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ln=t=>(t=t.toLowerCase(),n=>Oa(n)===t),Na=t=>n=>typeof n===t,{isArray:Gr}=Array,Br=Na("undefined");function Es(t){return t!==null&&!Br(t)&&t.constructor!==null&&!Br(t.constructor)&&Rt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Jc=ln("ArrayBuffer");function Gp(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Jc(t.buffer),n}const Kp=Na("string"),Rt=Na("function"),Xc=Na("number"),Rs=t=>t!==null&&typeof t=="object",Qp=t=>t===!0||t===!1,Zs=t=>{if(Oa(t)!=="object")return!1;const n=si(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Qc in t)&&!(ka in t)},Jp=t=>{if(!Rs(t)||Es(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Xp=ln("Date"),Zp=ln("File"),ef=ln("Blob"),tf=ln("FileList"),nf=t=>Rs(t)&&Rt(t.pipe),rf=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||Rt(t.append)&&((n=Oa(t))==="formdata"||n==="object"&&Rt(t.toString)&&t.toString()==="[object FormData]"))},sf=ln("URLSearchParams"),[af,of,lf,cf]=["ReadableStream","Request","Response","Headers"].map(ln),df=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function As(t,n,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,a;if(typeof t!="object"&&(t=[t]),Gr(t))for(s=0,a=t.length;s<a;s++)n.call(null,t[s],s,t);else{if(Es(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let l;for(s=0;s<i;s++)l=o[s],n.call(null,t[l],l,t)}}function Zc(t,n){if(Es(t))return null;n=n.toLowerCase();const r=Object.keys(t);let s=r.length,a;for(;s-- >0;)if(a=r[s],n===a.toLowerCase())return a;return null}const er=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ed=t=>!Br(t)&&t!==er;function Mo(){const{caseless:t,skipUndefined:n}=ed(this)&&this||{},r={},s=(a,o)=>{const i=t&&Zc(r,o)||o;Zs(r[i])&&Zs(a)?r[i]=Mo(r[i],a):Zs(a)?r[i]=Mo({},a):Gr(a)?r[i]=a.slice():(!n||!Br(a))&&(r[i]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&As(arguments[a],s);return r}const uf=(t,n,r,{allOwnKeys:s}={})=>(As(n,(a,o)=>{r&&Rt(a)?t[o]=Kc(a,r):t[o]=a},{allOwnKeys:s}),t),hf=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mf=(t,n,r,s)=>{t.prototype=Object.create(n.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),r&&Object.assign(t.prototype,r)},pf=(t,n,r,s)=>{let a,o,i;const l={};if(n=n||{},t==null)return n;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)i=a[o],(!s||s(i,t,n))&&!l[i]&&(n[i]=t[i],l[i]=!0);t=r!==!1&&si(t)}while(t&&(!r||r(t,n))&&t!==Object.prototype);return n},ff=(t,n,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=n.length;const s=t.indexOf(n,r);return s!==-1&&s===r},xf=t=>{if(!t)return null;if(Gr(t))return t;let n=t.length;if(!Xc(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=t[n];return r},gf=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&si(Uint8Array)),yf=(t,n)=>{const s=(t&&t[ka]).call(t);let a;for(;(a=s.next())&&!a.done;){const o=a.value;n.call(t,o[0],o[1])}},jf=(t,n)=>{let r;const s=[];for(;(r=t.exec(n))!==null;)s.push(r);return s},bf=ln("HTMLFormElement"),vf=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),Zi=(({hasOwnProperty:t})=>(n,r)=>t.call(n,r))(Object.prototype),Sf=ln("RegExp"),td=(t,n)=>{const r=Object.getOwnPropertyDescriptors(t),s={};As(r,(a,o)=>{let i;(i=n(a,o,t))!==!1&&(s[o]=i||a)}),Object.defineProperties(t,s)},wf=t=>{td(t,(n,r)=>{if(Rt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(Rt(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Cf=(t,n)=>{const r={},s=a=>{a.forEach(o=>{r[o]=!0})};return Gr(t)?s(t):s(String(t).split(n)),r},Df=()=>{},Pf=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n;function If(t){return!!(t&&Rt(t.append)&&t[Qc]==="FormData"&&t[ka])}const Tf=t=>{const n=new Array(10),r=(s,a)=>{if(Rs(s)){if(n.indexOf(s)>=0)return;if(Es(s))return s;if(!("toJSON"in s)){n[a]=s;const o=Gr(s)?[]:{};return As(s,(i,l)=>{const c=r(i,a+1);!Br(c)&&(o[l]=c)}),n[a]=void 0,o}}return s};return r(t,0)},Ef=ln("AsyncFunction"),Rf=t=>t&&(Rs(t)||Rt(t))&&Rt(t.then)&&Rt(t.catch),nd=((t,n)=>t?setImmediate:n?((r,s)=>(er.addEventListener("message",({source:a,data:o})=>{a===er&&o===r&&s.length&&s.shift()()},!1),a=>{s.push(a),er.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Rt(er.postMessage)),Af=typeof queueMicrotask<"u"?queueMicrotask.bind(er):typeof process<"u"&&process.nextTick||nd,kf=t=>t!=null&&Rt(t[ka]),Q={isArray:Gr,isArrayBuffer:Jc,isBuffer:Es,isFormData:rf,isArrayBufferView:Gp,isString:Kp,isNumber:Xc,isBoolean:Qp,isObject:Rs,isPlainObject:Zs,isEmptyObject:Jp,isReadableStream:af,isRequest:of,isResponse:lf,isHeaders:cf,isUndefined:Br,isDate:Xp,isFile:Zp,isBlob:ef,isRegExp:Sf,isFunction:Rt,isStream:nf,isURLSearchParams:sf,isTypedArray:gf,isFileList:tf,forEach:As,merge:Mo,extend:uf,trim:df,stripBOM:hf,inherits:mf,toFlatObject:pf,kindOf:Oa,kindOfTest:ln,endsWith:ff,toArray:xf,forEachEntry:yf,matchAll:jf,isHTMLForm:bf,hasOwnProperty:Zi,hasOwnProp:Zi,reduceDescriptors:td,freezeMethods:wf,toObjectSet:Cf,toCamelCase:vf,noop:Df,toFiniteNumber:Pf,findKey:Zc,global:er,isContextDefined:ed,isSpecCompliantForm:If,toJSONObject:Tf,isAsyncFn:Ef,isThenable:Rf,setImmediate:nd,asap:Af,isIterable:kf};function ke(t,n,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Q.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const rd=ke.prototype,sd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sd[t]={value:t}});Object.defineProperties(ke,sd);Object.defineProperty(rd,"isAxiosError",{value:!0});ke.from=(t,n,r,s,a,o)=>{const i=Object.create(rd);Q.toFlatObject(t,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=n==null&&t?t.code:n;return ke.call(i,l,c,r,s,a),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const Of=null;function Lo(t){return Q.isPlainObject(t)||Q.isArray(t)}function ad(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function el(t,n,r){return t?t.concat(n).map(function(a,o){return a=ad(a),!r&&o?"["+a+"]":a}).join(r?".":""):n}function Nf(t){return Q.isArray(t)&&!t.some(Lo)}const Mf=Q.toFlatObject(Q,{},null,function(n){return/^is[A-Z]/.test(n)});function Ma(t,n,r){if(!Q.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,m){return!Q.isUndefined(m[v])});const s=r.metaTokens,a=r.visitor||u,o=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(n);if(!Q.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(Q.isDate(g))return g.toISOString();if(Q.isBoolean(g))return g.toString();if(!c&&Q.isBlob(g))throw new ke("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(g)||Q.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,m){let w=g;if(g&&!m&&typeof g=="object"){if(Q.endsWith(v,"{}"))v=s?v:v.slice(0,-2),g=JSON.stringify(g);else if(Q.isArray(g)&&Nf(g)||(Q.isFileList(g)||Q.endsWith(v,"[]"))&&(w=Q.toArray(g)))return v=ad(v),w.forEach(function(S,y){!(Q.isUndefined(S)||S===null)&&n.append(i===!0?el([v],y,o):i===null?v:v+"[]",d(S))}),!1}return Lo(g)?!0:(n.append(el(m,v,o),d(g)),!1)}const h=[],p=Object.assign(Mf,{defaultVisitor:u,convertValue:d,isVisitable:Lo});function x(g,v){if(!Q.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),Q.forEach(g,function(w,j){(!(Q.isUndefined(w)||w===null)&&a.call(n,w,Q.isString(j)?j.trim():j,v,p))===!0&&x(w,v?v.concat(j):[j])}),h.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return x(t),n}function tl(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function ai(t,n){this._pairs=[],t&&Ma(t,this,n)}const od=ai.prototype;od.append=function(n,r){this._pairs.push([n,r])};od.toString=function(n){const r=n?function(s){return n.call(this,s,tl)}:tl;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Lf(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function id(t,n,r){if(!n)return t;const s=r&&r.encode||Lf;Q.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(n,r):o=Q.isURLSearchParams(n)?n.toString():new ai(n,r).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class nl{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Q.forEach(this.handlers,function(s){s!==null&&n(s)})}}const ld={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ff=typeof URLSearchParams<"u"?URLSearchParams:ai,_f=typeof FormData<"u"?FormData:null,$f=typeof Blob<"u"?Blob:null,Vf={isBrowser:!0,classes:{URLSearchParams:Ff,FormData:_f,Blob:$f},protocols:["http","https","file","blob","url","data"]},oi=typeof window<"u"&&typeof document<"u",Fo=typeof navigator=="object"&&navigator||void 0,Bf=oi&&(!Fo||["ReactNative","NativeScript","NS"].indexOf(Fo.product)<0),Wf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uf=oi&&window.location.href||"http://localhost",zf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oi,hasStandardBrowserEnv:Bf,hasStandardBrowserWebWorkerEnv:Wf,navigator:Fo,origin:Uf},Symbol.toStringTag,{value:"Module"})),bt={...zf,...Vf};function Hf(t,n){return Ma(t,new bt.classes.URLSearchParams,{visitor:function(r,s,a,o){return bt.isNode&&Q.isBuffer(r)?(this.append(s,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...n})}function qf(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Yf(t){const n={},r=Object.keys(t);let s;const a=r.length;let o;for(s=0;s<a;s++)o=r[s],n[o]=t[o];return n}function cd(t){function n(r,s,a,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=r.length;return i=!i&&Q.isArray(a)?a.length:i,c?(Q.hasOwnProp(a,i)?a[i]=[a[i],s]:a[i]=s,!l):((!a[i]||!Q.isObject(a[i]))&&(a[i]=[]),n(r,s,a[i],o)&&Q.isArray(a[i])&&(a[i]=Yf(a[i])),!l)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const r={};return Q.forEachEntry(t,(s,a)=>{n(qf(s),a,r,0)}),r}return null}function Gf(t,n,r){if(Q.isString(t))try{return(n||JSON.parse)(t),Q.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}const ks={transitional:ld,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,o=Q.isObject(n);if(o&&Q.isHTMLForm(n)&&(n=new FormData(n)),Q.isFormData(n))return a?JSON.stringify(cd(n)):n;if(Q.isArrayBuffer(n)||Q.isBuffer(n)||Q.isStream(n)||Q.isFile(n)||Q.isBlob(n)||Q.isReadableStream(n))return n;if(Q.isArrayBufferView(n))return n.buffer;if(Q.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Hf(n,this.formSerializer).toString();if((l=Q.isFileList(n))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ma(l?{"files[]":n}:n,c&&new c,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),Gf(n)):n}],transformResponse:[function(n){const r=this.transitional||ks.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Q.isResponse(n)||Q.isReadableStream(n))return n;if(n&&Q.isString(n)&&(s&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(n,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?ke.from(l,ke.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bt.classes.FormData,Blob:bt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{ks.headers[t]={}});const Kf=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qf=t=>{const n={};let r,s,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),s=i.substring(a+1).trim(),!(!r||n[r]&&Kf[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},rl=Symbol("internals");function es(t){return t&&String(t).trim().toLowerCase()}function ea(t){return t===!1||t==null?t:Q.isArray(t)?t.map(ea):String(t)}function Jf(t){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)n[s[1]]=s[2];return n}const Xf=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function io(t,n,r,s,a){if(Q.isFunction(s))return s.call(this,n,r);if(a&&(n=r),!!Q.isString(n)){if(Q.isString(s))return n.indexOf(s)!==-1;if(Q.isRegExp(s))return s.test(n)}}function Zf(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function ex(t,n){const r=Q.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(a,o,i){return this[s].call(this,n,a,o,i)},configurable:!0})})}let At=class{constructor(n){n&&this.set(n)}set(n,r,s){const a=this;function o(l,c,d){const u=es(c);if(!u)throw new Error("header name must be a non-empty string");const h=Q.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=ea(l))}const i=(l,c)=>Q.forEach(l,(d,u)=>o(d,u,c));if(Q.isPlainObject(n)||n instanceof this.constructor)i(n,r);else if(Q.isString(n)&&(n=n.trim())&&!Xf(n))i(Qf(n),r);else if(Q.isObject(n)&&Q.isIterable(n)){let l={},c,d;for(const u of n){if(!Q.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?Q.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,r)}else n!=null&&o(r,n,s);return this}get(n,r){if(n=es(n),n){const s=Q.findKey(this,n);if(s){const a=this[s];if(!r)return a;if(r===!0)return Jf(a);if(Q.isFunction(r))return r.call(this,a,s);if(Q.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=es(n),n){const s=Q.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||io(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let a=!1;function o(i){if(i=es(i),i){const l=Q.findKey(s,i);l&&(!r||io(s,s[l],l,r))&&(delete s[l],a=!0)}}return Q.isArray(n)?n.forEach(o):o(n),a}clear(n){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const o=r[s];(!n||io(this,this[o],o,n,!0))&&(delete this[o],a=!0)}return a}normalize(n){const r=this,s={};return Q.forEach(this,(a,o)=>{const i=Q.findKey(s,o);if(i){r[i]=ea(a),delete r[o];return}const l=n?Zf(o):String(o).trim();l!==o&&delete r[o],r[l]=ea(a),s[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return Q.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=n&&Q.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(a=>s.set(a)),s}static accessor(n){const s=(this[rl]=this[rl]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=es(i);s[l]||(ex(a,i),s[l]=!0)}return Q.isArray(n)?n.forEach(o):o(n),this}};At.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(At.prototype,({value:t},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(s){this[r]=s}}});Q.freezeMethods(At);function lo(t,n){const r=this||ks,s=n||r,a=At.from(s.headers);let o=s.data;return Q.forEach(t,function(l){o=l.call(r,o,a.normalize(),n?n.status:void 0)}),a.normalize(),o}function dd(t){return!!(t&&t.__CANCEL__)}function Kr(t,n,r){ke.call(this,t??"canceled",ke.ERR_CANCELED,n,r),this.name="CanceledError"}Q.inherits(Kr,ke,{__CANCEL__:!0});function ud(t,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):n(new ke("Request failed with status code "+r.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function tx(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function nx(t,n){t=t||10;const r=new Array(t),s=new Array(t);let a=0,o=0,i;return n=n!==void 0?n:1e3,function(c){const d=Date.now(),u=s[o];i||(i=d),r[a]=c,s[a]=d;let h=o,p=0;for(;h!==a;)p+=r[h++],h=h%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),d-i<n)return;const x=u&&d-u;return x?Math.round(p*1e3/x):void 0}}function rx(t,n){let r=0,s=1e3/n,a,o;const i=(d,u=Date.now())=>{r=u,a=null,o&&(clearTimeout(o),o=null),t(...d)};return[(...d)=>{const u=Date.now(),h=u-r;h>=s?i(d,u):(a=d,o||(o=setTimeout(()=>{o=null,i(a)},s-h)))},()=>a&&i(a)]}const ja=(t,n,r=3)=>{let s=0;const a=nx(50,250);return rx(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-s,d=a(c),u=i<=l;s=i;const h={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[n?"download":"upload"]:!0};t(h)},r)},sl=(t,n)=>{const r=t!=null;return[s=>n[0]({lengthComputable:r,total:t,loaded:s}),n[1]]},al=t=>(...n)=>Q.asap(()=>t(...n)),sx=bt.hasStandardBrowserEnv?((t,n)=>r=>(r=new URL(r,bt.origin),t.protocol===r.protocol&&t.host===r.host&&(n||t.port===r.port)))(new URL(bt.origin),bt.navigator&&/(msie|trident)/i.test(bt.navigator.userAgent)):()=>!0,ax=bt.hasStandardBrowserEnv?{write(t,n,r,s,a,o,i){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(n)}`];Q.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Q.isString(s)&&l.push(`path=${s}`),Q.isString(a)&&l.push(`domain=${a}`),o===!0&&l.push("secure"),Q.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ox(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ix(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function hd(t,n,r){let s=!ox(n);return t&&(s||r==!1)?ix(t,n):n}const ol=t=>t instanceof At?{...t}:t;function mr(t,n){n=n||{};const r={};function s(d,u,h,p){return Q.isPlainObject(d)&&Q.isPlainObject(u)?Q.merge.call({caseless:p},d,u):Q.isPlainObject(u)?Q.merge({},u):Q.isArray(u)?u.slice():u}function a(d,u,h,p){if(Q.isUndefined(u)){if(!Q.isUndefined(d))return s(void 0,d,h,p)}else return s(d,u,h,p)}function o(d,u){if(!Q.isUndefined(u))return s(void 0,u)}function i(d,u){if(Q.isUndefined(u)){if(!Q.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in n)return s(d,u);if(h in t)return s(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,h)=>a(ol(d),ol(u),h,!0)};return Q.forEach(Object.keys({...t,...n}),function(u){const h=c[u]||a,p=h(t[u],n[u],u);Q.isUndefined(p)&&h!==l||(r[u]=p)}),r}const md=t=>{const n=mr({},t);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=n;if(n.headers=i=At.from(i),n.url=id(hd(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Q.isFormData(r)){if(bt.hasStandardBrowserEnv||bt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Q.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&i.set(u,h)})}}if(bt.hasStandardBrowserEnv&&(s&&Q.isFunction(s)&&(s=s(n)),s||s!==!1&&sx(n.url))){const c=a&&o&&ax.read(o);c&&i.set(a,c)}return n},lx=typeof XMLHttpRequest<"u",cx=lx&&function(t){return new Promise(function(r,s){const a=md(t);let o=a.data;const i=At.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,h,p,x,g;function v(){x&&x(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(a.method.toUpperCase(),a.url,!0),m.timeout=a.timeout;function w(){if(!m)return;const S=At.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:S,config:t,request:m};ud(function(I){r(I),v()},function(I){s(I),v()},E),m=null}"onloadend"in m?m.onloadend=w:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(w)},m.onabort=function(){m&&(s(new ke("Request aborted",ke.ECONNABORTED,t,m)),m=null)},m.onerror=function(y){const E=y&&y.message?y.message:"Network Error",D=new ke(E,ke.ERR_NETWORK,t,m);D.event=y||null,s(D),m=null},m.ontimeout=function(){let y=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||ld;a.timeoutErrorMessage&&(y=a.timeoutErrorMessage),s(new ke(y,E.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,t,m)),m=null},o===void 0&&i.setContentType(null),"setRequestHeader"in m&&Q.forEach(i.toJSON(),function(y,E){m.setRequestHeader(E,y)}),Q.isUndefined(a.withCredentials)||(m.withCredentials=!!a.withCredentials),l&&l!=="json"&&(m.responseType=a.responseType),d&&([p,g]=ja(d,!0),m.addEventListener("progress",p)),c&&m.upload&&([h,x]=ja(c),m.upload.addEventListener("progress",h),m.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(u=S=>{m&&(s(!S||S.type?new Kr(null,t,m):S),m.abort(),m=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const j=tx(a.url);if(j&&bt.protocols.indexOf(j)===-1){s(new ke("Unsupported protocol "+j+":",ke.ERR_BAD_REQUEST,t));return}m.send(o||null)})},dx=(t,n)=>{const{length:r}=t=t?t.filter(Boolean):[];if(n||r){let s=new AbortController,a;const o=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof ke?u:new Kr(u instanceof Error?u.message:u))}};let i=n&&setTimeout(()=>{i=null,o(new ke(`timeout ${n} of ms exceeded`,ke.ETIMEDOUT))},n);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>Q.asap(l),c}},ux=function*(t,n){let r=t.byteLength;if(r<n){yield t;return}let s=0,a;for(;s<r;)a=s+n,yield t.slice(s,a),s=a},hx=async function*(t,n){for await(const r of mx(t))yield*ux(r,n)},mx=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:r,value:s}=await n.read();if(r)break;yield s}}finally{await n.cancel()}},il=(t,n,r,s)=>{const a=hx(t,n);let o=0,i,l=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let h=u.byteLength;if(r){let p=o+=h;r(p)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},ll=64*1024,{isFunction:Hs}=Q,px=(({Request:t,Response:n})=>({Request:t,Response:n}))(Q.global),{ReadableStream:cl,TextEncoder:dl}=Q.global,ul=(t,...n)=>{try{return!!t(...n)}catch{return!1}},fx=t=>{t=Q.merge.call({skipUndefined:!0},px,t);const{fetch:n,Request:r,Response:s}=t,a=n?Hs(n):typeof fetch=="function",o=Hs(r),i=Hs(s);if(!a)return!1;const l=a&&Hs(cl),c=a&&(typeof dl=="function"?(g=>v=>g.encode(v))(new dl):async g=>new Uint8Array(await new r(g).arrayBuffer())),d=o&&l&&ul(()=>{let g=!1;const v=new r(bt.origin,{body:new cl,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),u=i&&l&&ul(()=>Q.isReadableStream(new s("").body)),h={stream:u&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(v,m)=>{let w=v&&v[g];if(w)return w.call(v);throw new ke(`Response type '${g}' is not supported`,ke.ERR_NOT_SUPPORT,m)})});const p=async g=>{if(g==null)return 0;if(Q.isBlob(g))return g.size;if(Q.isSpecCompliantForm(g))return(await new r(bt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(g)||Q.isArrayBuffer(g))return g.byteLength;if(Q.isURLSearchParams(g)&&(g=g+""),Q.isString(g))return(await c(g)).byteLength},x=async(g,v)=>{const m=Q.toFiniteNumber(g.getContentLength());return m??p(v)};return async g=>{let{url:v,method:m,data:w,signal:j,cancelToken:S,timeout:y,onDownloadProgress:E,onUploadProgress:D,responseType:I,headers:A,withCredentials:z="same-origin",fetchOptions:O}=md(g),F=n||fetch;I=I?(I+"").toLowerCase():"text";let H=dx([j,S&&S.toAbortSignal()],y),Y=null;const M=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let R;try{if(D&&d&&m!=="get"&&m!=="head"&&(R=await x(A,w))!==0){let Z=new r(v,{method:"POST",body:w,duplex:"half"}),se;if(Q.isFormData(w)&&(se=Z.headers.get("content-type"))&&A.setContentType(se),Z.body){const[ee,te]=sl(R,ja(al(D)));w=il(Z.body,ll,ee,te)}}Q.isString(z)||(z=z?"include":"omit");const T=o&&"credentials"in r.prototype,k={...O,signal:H,method:m.toUpperCase(),headers:A.normalize().toJSON(),body:w,duplex:"half",credentials:T?z:void 0};Y=o&&new r(v,k);let N=await(o?F(Y,O):F(v,k));const W=u&&(I==="stream"||I==="response");if(u&&(E||W&&M)){const Z={};["status","statusText","headers"].forEach(X=>{Z[X]=N[X]});const se=Q.toFiniteNumber(N.headers.get("content-length")),[ee,te]=E&&sl(se,ja(al(E),!0))||[];N=new s(il(N.body,ll,ee,()=>{te&&te(),M&&M()}),Z)}I=I||"text";let q=await h[Q.findKey(h,I)||"text"](N,g);return!W&&M&&M(),await new Promise((Z,se)=>{ud(Z,se,{data:q,headers:At.from(N.headers),status:N.status,statusText:N.statusText,config:g,request:Y})})}catch(T){throw M&&M(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,g,Y),{cause:T.cause||T}):ke.from(T,T&&T.code,g,Y)}}},xx=new Map,pd=t=>{let n=t&&t.env||{};const{fetch:r,Request:s,Response:a}=n,o=[s,a,r];let i=o.length,l=i,c,d,u=xx;for(;l--;)c=o[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:fx(n)),u=d;return d};pd();const ii={http:Of,xhr:cx,fetch:{get:pd}};Q.forEach(ii,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const hl=t=>`- ${t}`,gx=t=>Q.isFunction(t)||t===null||t===!1;function yx(t,n){t=Q.isArray(t)?t:[t];const{length:r}=t;let s,a;const o={};for(let i=0;i<r;i++){s=t[i];let l;if(a=s,!gx(s)&&(a=ii[(l=String(s)).toLowerCase()],a===void 0))throw new ke(`Unknown adapter '${l}'`);if(a&&(Q.isFunction(a)||(a=a.get(n))))break;o[l||"#"+i]=a}if(!a){const i=Object.entries(o).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(hl).join(`
`):" "+hl(i[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const fd={getAdapter:yx,adapters:ii};function co(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Kr(null,t)}function ml(t){return co(t),t.headers=At.from(t.headers),t.data=lo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fd.getAdapter(t.adapter||ks.adapter,t)(t).then(function(s){return co(t),s.data=lo.call(t,t.transformResponse,s),s.headers=At.from(s.headers),s},function(s){return dd(s)||(co(t),s&&s.response&&(s.response.data=lo.call(t,t.transformResponse,s.response),s.response.headers=At.from(s.response.headers))),Promise.reject(s)})}const xd="1.13.2",La={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{La[t]=function(s){return typeof s===t||"a"+(n<1?"n ":" ")+t}});const pl={};La.transitional=function(n,r,s){function a(o,i){return"[Axios v"+xd+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,l)=>{if(n===!1)throw new ke(a(i," has been removed"+(r?" in "+r:"")),ke.ERR_DEPRECATED);return r&&!pl[i]&&(pl[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(o,i,l):!0}};La.spelling=function(n){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${n}`),!0)};function jx(t,n,r){if(typeof t!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let a=s.length;for(;a-- >0;){const o=s[a],i=n[o];if(i){const l=t[o],c=l===void 0||i(l,o,t);if(c!==!0)throw new ke("option "+o+" must be "+c,ke.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ke("Unknown option "+o,ke.ERR_BAD_OPTION)}}const ta={assertOptions:jx,validators:La},dn=ta.validators;let ir=class{constructor(n){this.defaults=n||{},this.interceptors={request:new nl,response:new nl}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=mr(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:o}=r;s!==void 0&&ta.assertOptions(s,{silentJSONParsing:dn.transitional(dn.boolean),forcedJSONParsing:dn.transitional(dn.boolean),clarifyTimeoutError:dn.transitional(dn.boolean)},!1),a!=null&&(Q.isFunction(a)?r.paramsSerializer={serialize:a}:ta.assertOptions(a,{encode:dn.function,serialize:dn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ta.assertOptions(r,{baseUrl:dn.spelling("baseURL"),withXsrfToken:dn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&Q.merge(o.common,o[r.method]);o&&Q.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),r.headers=At.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,h=0,p;if(!c){const g=[ml.bind(this),void 0];for(g.unshift(...l),g.push(...d),p=g.length,u=Promise.resolve(r);h<p;)u=u.then(g[h++],g[h++]);return u}p=l.length;let x=r;for(;h<p;){const g=l[h++],v=l[h++];try{x=g(x)}catch(m){v.call(this,m);break}}try{u=ml.call(this,x)}catch(g){return Promise.reject(g)}for(h=0,p=d.length;h<p;)u=u.then(d[h++],d[h++]);return u}getUri(n){n=mr(this.defaults,n);const r=hd(n.baseURL,n.url,n.allowAbsoluteUrls);return id(r,n.params,n.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(n){ir.prototype[n]=function(r,s){return this.request(mr(s||{},{method:n,url:r,data:(s||{}).data}))}});Q.forEach(["post","put","patch"],function(n){function r(s){return function(o,i,l){return this.request(mr(l||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}ir.prototype[n]=r(),ir.prototype[n+"Form"]=r(!0)});let bx=class gd{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const s=this;this.promise.then(a=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](a);s._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{s.subscribe(l),o=l}).then(a);return i.cancel=function(){s.unsubscribe(o)},i},n(function(o,i,l){s.reason||(s.reason=new Kr(o,i,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const n=new AbortController,r=s=>{n.abort(s)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new gd(function(a){n=a}),cancel:n}}};function vx(t){return function(r){return t.apply(null,r)}}function Sx(t){return Q.isObject(t)&&t.isAxiosError===!0}const _o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_o).forEach(([t,n])=>{_o[n]=t});function yd(t){const n=new ir(t),r=Kc(ir.prototype.request,n);return Q.extend(r,ir.prototype,n,{allOwnKeys:!0}),Q.extend(r,n,null,{allOwnKeys:!0}),r.create=function(a){return yd(mr(t,a))},r}const st=yd(ks);st.Axios=ir;st.CanceledError=Kr;st.CancelToken=bx;st.isCancel=dd;st.VERSION=xd;st.toFormData=Ma;st.AxiosError=ke;st.Cancel=st.CanceledError;st.all=function(n){return Promise.all(n)};st.spread=vx;st.isAxiosError=Sx;st.mergeConfig=mr;st.AxiosHeaders=At;st.formToJSON=t=>cd(Q.isHTMLForm(t)?new FormData(t):t);st.getAdapter=fd.getAdapter;st.HttpStatusCode=_o;st.default=st;const{Axios:MC,AxiosError:LC,CanceledError:FC,isCancel:_C,CancelToken:$C,VERSION:VC,all:BC,Cancel:WC,isAxiosError:UC,spread:zC,toFormData:HC,AxiosHeaders:qC,HttpStatusCode:YC,formToJSON:GC,getAdapter:KC,mergeConfig:QC}=st,$=st.create({baseURL:"/api",headers:{"Content-Type":"application/json"},timeout:3e4});$.interceptors.request.use(t=>{const n="dev-medico-api-key-change-in-production-12345678";t.headers["X-API-Key"]=n;const r=localStorage.getItem("token");return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>Promise.reject(t));$.interceptors.response.use(t=>t,t=>{var r;const{response:n}=t;if(!n)return J.error("Network error. Please check your connection."),Promise.reject(t);switch(n.status){case 401:{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",J.error("Session expired. Please login again.");break}case 403:{J.error("You do not have permission to perform this action.");break}case 404:{J.error("Resource not found.");break}case 500:{J.error("Server error. Please try again later.");break}default:{const s=((r=n.data)==null?void 0:r.message)||"An error occurred";J.error(s)}}return Promise.reject(t)});const Fa={login:async t=>{const n=await $.post("/auth/login",t);if(n.data.token){localStorage.setItem("token",n.data.token);const{...r}=n.data;localStorage.setItem("user",JSON.stringify(r))}return n.data},register:async t=>(await $.post("/auth/register",t)).data,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"},getCurrentUser:()=>{const t=localStorage.getItem("user");return t?JSON.parse(t):null},isAuthenticated:()=>!!localStorage.getItem("token"),getToken:()=>localStorage.getItem("token"),refreshToken:async()=>{const t=await $.post("/auth/refresh");return t.data.token&&localStorage.setItem("token",t.data.token),t.data}},fl=()=>{try{const t=Fa.getCurrentUser();return t&&typeof t=="object"?t:null}catch(t){return console.error("Error loading user from localStorage:",t),localStorage.removeItem("user"),localStorage.removeItem("token"),null}},wx={user:fl(),isAuthenticated:Fa.isAuthenticated()&&fl()!==null,loading:!1,error:null},jd=Gc({name:"auth",initialState:wx,reducers:{loginStart:t=>{t.loading=!0,t.error=null},loginSuccess:(t,n)=>{t.loading=!1,t.isAuthenticated=!0,t.user=n.payload,t.error=null},loginFailure:(t,n)=>{t.loading=!1,t.isAuthenticated=!1,t.user=null,t.error=n.payload},logout:t=>{t.isAuthenticated=!1,t.user=null,t.error=null,Fa.logout()},clearError:t=>{t.error=null}}}),{loginStart:Cx,loginSuccess:Dx,loginFailure:Px,logout:Ix,clearError:JC}=jd.actions,Tx=jd.reducer;function Ex({onMenuClick:t}){var j;const n=Rc(),r=Me(),{user:s}=Rn(S=>S.auth),[a,o]=f.useState(null),[i,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState([{id:1,message:"New appointment booked",read:!1},{id:2,message:"Low stock alert: Aspirin",read:!1},{id:3,message:"Patient discharge completed",read:!1}]),p=S=>{o(S.currentTarget)},x=S=>{l(S.currentTarget)},g=S=>{d(S.currentTarget)},v=()=>{o(null),l(null),d(null)},m=()=>{h([])},w=()=>{n(Ix()),r("/login")};return e.jsx(Ru,{position:"fixed",sx:{zIndex:S=>S.zIndex.drawer+1,bgcolor:"white",color:"text.primary",boxShadow:1},children:e.jsxs(Au,{children:[e.jsx(Pe,{edge:"start",color:"inherit","aria-label":"menu",onClick:t,sx:{mr:2,display:{sm:"block"}},children:e.jsx(ku,{})}),e.jsxs(L,{sx:{display:"flex",alignItems:"center",flexGrow:1},children:[s!=null&&s.hospitalLogoUrl?e.jsx(Xn,{src:s.hospitalLogoUrl,alt:s.hospitalName||"Hospital",variant:"rounded",sx:{width:40,height:40,mr:1.5}}):e.jsx(L,{sx:{width:40,height:40,borderRadius:1,bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",mr:1.5},children:e.jsx(b,{sx:{fontSize:20},children:""})}),e.jsxs(L,{children:[e.jsx(b,{variant:"h6",component:"div",sx:{fontWeight:700,lineHeight:1.2,background:"linear-gradient(45deg, #2196f3 30%, #21cbf3 90%)",backgroundClip:"text",textFillColor:"transparent",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:(s==null?void 0:s.hospitalName)||"Medico"}),e.jsx(b,{variant:"caption",sx:{display:{xs:"none",sm:"block"},lineHeight:1},color:"text.secondary",children:s!=null&&s.hospitalCode?`Code: ${s.hospitalCode}`:"Hospital Management System"})]})]}),e.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Qa,{title:"Notifications",children:e.jsx(Pe,{color:"inherit",onClick:x,children:e.jsx(Ou,{badgeContent:u.length,color:"error",children:e.jsx(bi,{})})})}),e.jsx(Qa,{title:"Settings",children:e.jsx(Pe,{color:"inherit",onClick:g,children:e.jsx(Ja,{})})}),e.jsx(Qa,{title:"Account",children:e.jsx(Pe,{onClick:p,sx:{p:0,ml:1},children:e.jsx(Xn,{sx:{bgcolor:"primary.main"},children:((j=s==null?void 0:s.name)==null?void 0:j.charAt(0))||"U"})})})]}),e.jsxs(Xa,{anchorEl:i,open:!!i,onClose:v,PaperProps:{sx:{width:320,maxHeight:400}},children:[e.jsxs(L,{sx:{px:2,py:1.5,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(b,{variant:"h6",fontWeight:600,children:"Notifications"}),u.length>0&&e.jsx(re,{size:"small",startIcon:e.jsx(Nu,{}),onClick:S=>{S.stopPropagation(),m()},children:"Clear All"})]}),e.jsx(He,{}),u.length===0?e.jsx(ve,{disabled:!0,children:e.jsx(b,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",width:"100%",py:2},children:"No notifications"})}):u.map(S=>e.jsx(ve,{onClick:v,children:e.jsx(b,{variant:"body2",children:S.message})},S.id))]}),e.jsxs(Xa,{anchorEl:c,open:!!c,onClose:v,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsxs(ve,{onClick:v,children:[e.jsx(vi,{sx:{mr:1}})," Account Settings"]}),e.jsxs(ve,{onClick:v,children:[e.jsx(bi,{sx:{mr:1}})," Notification Preferences"]}),e.jsx(He,{}),e.jsxs(ve,{onClick:v,children:[e.jsx(Ja,{sx:{mr:1}})," System Settings"]})]}),e.jsxs(Xa,{anchorEl:a,open:!!a,onClose:v,onClick:v,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsx(ve,{disabled:!0,children:e.jsxs(L,{children:[e.jsx(b,{variant:"subtitle2",children:(s==null?void 0:s.name)||"User"}),e.jsx(b,{variant:"caption",color:"text.secondary",children:(s==null?void 0:s.email)||"user@example.com"})]})}),e.jsxs(ve,{children:[e.jsx(vi,{sx:{mr:1}})," Profile"]}),e.jsxs(ve,{children:[e.jsx(Ja,{sx:{mr:1}})," Settings"]}),e.jsxs(ve,{onClick:w,children:[e.jsx(Mu,{sx:{mr:1}})," Logout"]})]})]})})}const Rx=(t,n)=>!n||!Array.isArray(n)?!1:n.includes(t),Ax=(t,n)=>!n||!Array.isArray(n)?!1:t.some(r=>n.includes(r)),kx=(t,n)=>!n||!Array.isArray(n)?!1:t.every(r=>n.includes(r)),Ox=(t,n)=>n===t,Nx=(t,n)=>t.includes(n),fe={VIEW_ALL_PATIENTS:"VIEW_ALL_PATIENTS",VIEW_ASSIGNED_PATIENTS:"VIEW_ASSIGNED_PATIENTS",ADD_PATIENT:"ADD_PATIENT",EDIT_PATIENT:"EDIT_PATIENT",DELETE_PATIENT:"DELETE_PATIENT",VIEW_PATIENT_DETAILS:"VIEW_PATIENT_DETAILS",VIEW_PATIENT_REPORTS:"VIEW_PATIENT_REPORTS",VIEW_DOCTORS:"VIEW_DOCTORS",ADD_DOCTOR:"ADD_DOCTOR",EDIT_DOCTOR:"EDIT_DOCTOR",DELETE_DOCTOR:"DELETE_DOCTOR",VIEW_NURSES:"VIEW_NURSES",ADD_NURSE:"ADD_NURSE",EDIT_NURSE:"EDIT_NURSE",DELETE_NURSE:"DELETE_NURSE",VIEW_LAB_TECHNICIANS:"VIEW_LAB_TECHNICIANS",ADD_LAB_TECHNICIAN:"ADD_LAB_TECHNICIAN",EDIT_LAB_TECHNICIAN:"EDIT_LAB_TECHNICIAN",DELETE_LAB_TECHNICIAN:"DELETE_LAB_TECHNICIAN",VIEW_RECEPTIONISTS:"VIEW_RECEPTIONISTS",ADD_RECEPTIONIST:"ADD_RECEPTIONIST",EDIT_RECEPTIONIST:"EDIT_RECEPTIONIST",DELETE_RECEPTIONIST:"DELETE_RECEPTIONIST",VIEW_PHARMACISTS:"VIEW_PHARMACISTS",ADD_PHARMACIST:"ADD_PHARMACIST",EDIT_PHARMACIST:"EDIT_PHARMACIST",DELETE_PHARMACIST:"DELETE_PHARMACIST",ASSIGN_DOCTOR_TO_PATIENT:"ASSIGN_DOCTOR_TO_PATIENT",REMOVE_DOCTOR_FROM_PATIENT:"REMOVE_DOCTOR_FROM_PATIENT",VIEW_ASSIGNMENTS:"VIEW_ASSIGNMENTS",VIEW_APPOINTMENTS:"VIEW_APPOINTMENTS",BOOK_APPOINTMENT:"BOOK_APPOINTMENT",CANCEL_APPOINTMENT:"CANCEL_APPOINTMENT",RESCHEDULE_APPOINTMENT:"RESCHEDULE_APPOINTMENT",VIEW_MEDICATIONS:"VIEW_MEDICATIONS",ADD_MEDICATION:"ADD_MEDICATION",EDIT_MEDICATION:"EDIT_MEDICATION",DELETE_MEDICATION:"DELETE_MEDICATION",PRESCRIBE_MEDICATION:"PRESCRIBE_MEDICATION",VIEW_MEDICATION_REQUESTS:"VIEW_MEDICATION_REQUESTS",CREATE_MEDICATION_REQUEST:"CREATE_MEDICATION_REQUEST",APPROVE_MEDICATION_REQUEST:"APPROVE_MEDICATION_REQUEST",VIEW_FOLLOW_UPS:"VIEW_FOLLOW_UPS",ADD_FOLLOW_UP:"ADD_FOLLOW_UP",EDIT_FOLLOW_UP:"EDIT_FOLLOW_UP",DELETE_FOLLOW_UP:"DELETE_FOLLOW_UP",VIEW_LAB_TESTS:"VIEW_LAB_TESTS",ORDER_LAB_TEST:"ORDER_LAB_TEST",UPLOAD_LAB_RESULTS:"UPLOAD_LAB_RESULTS",VIEW_LAB_RESULTS:"VIEW_LAB_RESULTS",VIEW_NOTIFICATIONS:"VIEW_NOTIFICATIONS",VIEW_MONITORING:"VIEW_MONITORING",VIEW_SYSTEM_STATS:"VIEW_SYSTEM_STATS",VIEW_PROFILE:"VIEW_PROFILE",EDIT_PROFILE:"EDIT_PROFILE",VIEW_OWN_PROFILE:"VIEW_OWN_PROFILE",VIEW_OWN_APPOINTMENTS:"VIEW_OWN_APPOINTMENTS",VIEW_OWN_LAB_TESTS:"VIEW_OWN_LAB_TESTS",VIEW_OWN_PRESCRIPTIONS:"VIEW_OWN_PRESCRIPTIONS",VIEW_OWN_MEDICAL_RECORDS:"VIEW_OWN_MEDICAL_RECORDS",VIEW_PENDING_REGISTRATIONS:"VIEW_PENDING_REGISTRATIONS",APPROVE_DOCTOR_REGISTRATION:"APPROVE_DOCTOR_REGISTRATION",APPROVE_NURSE_REGISTRATION:"APPROVE_NURSE_REGISTRATION",APPROVE_RECEPTIONIST_REGISTRATION:"APPROVE_RECEPTIONIST_REGISTRATION",APPROVE_SUPERVISOR_REGISTRATION:"APPROVE_SUPERVISOR_REGISTRATION",REJECT_REGISTRATION:"REJECT_REGISTRATION"},wr={DOCTOR:"DOCTOR",DOCTOR_SUPERVISOR:"DOCTOR_SUPERVISOR",NURSE:"NURSE",NURSE_MANAGER:"NURSE_MANAGER",NURSE_SUPERVISOR:"NURSE_SUPERVISOR",RECEPTIONIST:"RECEPTIONIST"},St=()=>{const t=Rn(s=>s.auth.user),n=(t==null?void 0:t.permissions)||[],r=t==null?void 0:t.role;return{can:s=>Rx(s,n),canAny:s=>Ax(s,n),canAll:s=>kx(s,n),isRole:s=>Ox(s,r),isAnyRole:s=>Nx(s,r),getPermissions:()=>n,getRole:()=>r,isAuthenticated:()=>!!t}},bd={getDashboardStats:async()=>(await $.get("/dashboard/stats")).data},uo=260;function Mx({open:t}){const n=Me(),r=Ic(),{can:s,canAny:a,isAnyRole:o}=St(),[i,l]=f.useState({totalPatients:0,todayAppointments:0});f.useEffect(()=>{c()},[]);const c=async()=>{try{const p=await bd.getDashboardStats();l({totalPatients:p.totalPatients||0,todayAppointments:p.todayAppointments||0})}catch(p){console.error("Error fetching sidebar stats:",p)}},d=p=>{n(p)},h=[{text:"Dashboard",icon:e.jsx(yc,{}),path:"/dashboard",show:!0},{text:"Patients",icon:e.jsx(Zn,{}),path:"/patients",show:a([fe.VIEW_ALL_PATIENTS,fe.VIEW_ASSIGNED_PATIENTS,fe.VIEW_OWN_PROFILE])},{text:"Doctors",icon:e.jsx(sn,{}),path:"/doctors",show:s(fe.VIEW_DOCTORS)},{text:"Nurses",icon:e.jsx(ps,{}),path:"/nurses",show:s(fe.VIEW_NURSES)},{text:"Pharmacists",icon:e.jsx(Xr,{}),path:"/pharmacists",show:s(fe.VIEW_PHARMACISTS)},{text:"Lab Technicians",icon:e.jsx(yo,{}),path:"/lab-technicians",show:s(fe.VIEW_LAB_TECHNICIANS)},{text:"Receptionists",icon:e.jsx(Xr,{}),path:"/receptionists",show:s(fe.VIEW_RECEPTIONISTS)},{text:"Doctor Assignments",icon:e.jsx(Xr,{}),path:"/doctor-assignments",show:s(fe.ASSIGN_DOCTOR_TO_PATIENT)},{text:"Nurse Assignments",icon:e.jsx(Xr,{}),path:"/nurse-assignments",show:s(fe.ASSIGN_DOCTOR_TO_PATIENT)},{text:"Appointments",icon:e.jsx(qo,{}),path:"/appointments",show:a([fe.VIEW_APPOINTMENTS,fe.VIEW_OWN_APPOINTMENTS])},{text:"Medications",icon:e.jsx(fs,{}),path:"/medications",show:s(fe.VIEW_MEDICATIONS)||o(["PHARMACIST","ADMIN"])},{text:"Med Requests",icon:e.jsx(Xr,{}),path:"/medication-requests",show:a([fe.VIEW_MEDICATION_REQUESTS,fe.CREATE_MEDICATION_REQUEST,fe.APPROVE_MEDICATION_REQUEST])||o(["DOCTOR","DOCTOR_SUPERVISOR","PHARMACIST","ADMIN"])},{text:"Medicine Orders",icon:e.jsx(Lu,{}),path:"/medicine-orders",show:o(["PATIENT","PHARMACIST","RECEPTIONIST","ADMIN"])},{text:"Payment Collection",icon:e.jsx(wa,{}),path:"/medicine-orders/payments",show:o(["RECEPTIONIST","PHARMACIST","ADMIN"])},{text:"Lab Tests",icon:e.jsx(yo,{}),path:"/lab-tests",show:a([fe.VIEW_LAB_TESTS,fe.VIEW_OWN_LAB_TESTS,fe.UPLOAD_LAB_RESULTS])},{text:"OT Requests",icon:e.jsx(jc,{}),path:"/ot-requests",show:o(["DOCTOR","NURSE","ADMIN"])},{text:"Emergency",icon:e.jsx(bc,{}),path:"/emergency",show:o(["DOCTOR","NURSE","ADMIN"])},{text:"Pending Approvals",icon:e.jsx(Fu,{}),path:"/approvals",show:s(fe.VIEW_PENDING_REGISTRATIONS)},{text:"Reports",icon:e.jsx(_u,{}),path:"/reports",show:a([fe.VIEW_PATIENT_REPORTS,fe.VIEW_MONITORING])}].filter(p=>p.show);return e.jsxs($u,{variant:"permanent",sx:{width:t?uo:0,flexShrink:0,"& .MuiDrawer-paper":{width:uo,boxSizing:"border-box",bgcolor:"background.paper",borderRight:"1px solid",borderColor:"divider",transform:t?"translateX(0)":`translateX(-${uo}px)`,transition:p=>p.transitions.create("transform",{easing:p.transitions.easing.sharp,duration:p.transitions.duration.enteringScreen})}},children:[e.jsx(L,{sx:{height:64}}),e.jsxs(L,{sx:{overflow:"auto",pt:2},children:[e.jsx(b,{variant:"caption",sx:{px:3,py:1,color:"text.secondary",fontWeight:600},children:"MAIN MENU"}),e.jsx(Ca,{children:h.map(p=>{const x=r.pathname===p.path;return e.jsxs(Vu,{onClick:()=>d(p.path),sx:{mx:1.5,mb:.5,borderRadius:2,bgcolor:x?"primary.main":"transparent",color:x?"white":"text.primary","&:hover":{bgcolor:x?"primary.dark":"action.hover"},"& .MuiListItemIcon-root":{color:x?"white":"text.secondary"}},children:[e.jsx(vc,{sx:{minWidth:40},children:p.icon}),e.jsx(Yo,{primary:p.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:x?600:500}})]},p.text)})}),e.jsx(He,{sx:{my:2}}),e.jsxs(L,{sx:{px:3,py:2},children:[e.jsx(b,{variant:"caption",color:"text.secondary",fontWeight:600,children:"QUICK STATS"}),e.jsxs(L,{sx:{mt:2,display:"flex",flexDirection:"column",gap:1.5},children:[e.jsxs(L,{sx:{p:2,borderRadius:2,bgcolor:"primary.50",border:"1px solid",borderColor:"primary.100"},children:[e.jsx(b,{variant:"h4",color:"primary.main",fontWeight:700,children:i.totalPatients}),e.jsx(b,{variant:"caption",color:"text.secondary",children:"Total Patients"})]}),e.jsxs(L,{sx:{p:2,borderRadius:2,bgcolor:"success.50",border:"1px solid",borderColor:"success.100"},children:[e.jsx(b,{variant:"h4",color:"success.main",fontWeight:700,children:i.todayAppointments}),e.jsx(b,{variant:"caption",color:"text.secondary",children:"Today's Appointments"})]})]})]})]})]})}function Lx(){const t=Me(),n=Ic(),r=()=>{const a=n.pathname;return a.startsWith("/dashboard")?0:a.startsWith("/patients")?1:a.startsWith("/medications")?2:a.startsWith("/appointments")?3:a.startsWith("/doctors")?4:0},s=(a,o)=>{t(["/dashboard","/patients","/medications","/appointments","/doctors"][o])};return e.jsx(Oe,{sx:{position:"fixed",bottom:0,left:0,right:0,zIndex:1e3},elevation:3,children:e.jsxs(Bu,{value:r(),onChange:s,showLabels:!0,children:[e.jsx(Zr,{label:"Dashboard",icon:e.jsx(yc,{})}),e.jsx(Zr,{label:"Patients",icon:e.jsx(Zn,{})}),e.jsx(Zr,{label:"Meds",icon:e.jsx(fs,{})}),e.jsx(Zr,{label:"Appts",icon:e.jsx(qo,{})}),e.jsx(Zr,{label:"Doctors",icon:e.jsx(sn,{})})]})})}function Fx(){const t=Go(),n=Ko(t.breakpoints.down("md")),[r,s]=f.useState(!n),a=()=>{s(!r)};return e.jsxs(L,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[!n&&e.jsx(Mx,{open:r,onToggle:a}),e.jsxs(L,{component:"main",sx:{flexGrow:1,display:"flex",flexDirection:"column",width:"100%",minHeight:"100vh"},children:[e.jsx(Ex,{onMenuClick:a}),e.jsx(L,{sx:{flexGrow:1,p:{xs:2,sm:3},mt:{xs:7,sm:8},mb:{xs:7,sm:0}},children:e.jsx(Th,{})})]}),n&&e.jsx(Lx,{})]})}function _x(){const t=Me(),n=Rc(),[r,s]=f.useState(!1),[a,o]=f.useState(!1),[i,l]=f.useState(""),[c,d]=f.useState({email:"",password:""}),u=p=>{d({...c,[p.target.name]:p.target.value}),l("")},h=async p=>{var x,g;p.preventDefault(),l(""),o(!0),n(Cx());try{const v=await Fa.login({email:c.email,password:c.password}),{...m}=v;n(Dx(m)),J.success("Login successful!"),t("/dashboard")}catch(v){const m=((g=(x=v.response)==null?void 0:x.data)==null?void 0:g.message)||"Login failed. Please check your credentials.";l(m),n(Px(m)),J.error(m)}finally{o(!1)}};return e.jsx(L,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",p:2},children:e.jsx(Se,{sx:{maxWidth:450,width:"100%",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:e.jsxs(we,{sx:{p:4},children:[e.jsxs(L,{sx:{textAlign:"center",mb:4},children:[e.jsx(L,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",bgcolor:"primary.main",mb:2},children:e.jsx(sn,{sx:{fontSize:48,color:"white"}})}),e.jsx(b,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Welcome to Medico"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Hospital & Pharmacy Management System"})]}),i&&e.jsx(Be,{severity:"error",sx:{mb:3},children:i}),e.jsxs("form",{onSubmit:h,children:[e.jsx(U,{fullWidth:!0,label:"Email Address",name:"email",type:"email",value:c.email,onChange:u,required:!0,autoComplete:"email",autoFocus:!0,sx:{mb:2}}),e.jsx(U,{fullWidth:!0,label:"Password",name:"password",type:r?"text":"password",value:c.password,onChange:u,required:!0,autoComplete:"current-password",InputProps:{endAdornment:e.jsx(yn,{position:"end",children:e.jsx(Pe,{onClick:()=>s(!r),edge:"end",children:r?e.jsx(Qo,{}):e.jsx(it,{})})})},sx:{mb:1}}),e.jsx(L,{sx:{textAlign:"right",mb:3},children:e.jsx(us,{href:"#",underline:"hover",variant:"body2",sx:{color:"primary.main"},children:"Forgot Password?"})}),e.jsx(re,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:a,sx:{py:1.5,fontSize:"1rem",fontWeight:600,textTransform:"none",mb:2},children:a?e.jsx(Ne,{size:24}):"Sign In"}),e.jsxs(L,{sx:{textAlign:"center"},children:[e.jsxs(b,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",e.jsx(us,{href:"/register",underline:"hover",sx:{color:"primary.main",fontWeight:600},children:"Sign Up"})]}),e.jsxs(b,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Want to register your hospital?"," ",e.jsx(us,{href:"/hospital-registration",underline:"hover",sx:{color:"secondary.main",fontWeight:600},children:"Start Free Trial"})]})]})]}),e.jsxs(L,{sx:{mt:4,p:2.5,bgcolor:"grey.50",borderRadius:2,border:"1px solid",borderColor:"grey.200"},children:[e.jsxs(L,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[e.jsx(Wu,{sx:{fontSize:20,color:"primary.main",mr:1}}),e.jsx(b,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"Support & Grievances"})]}),e.jsxs(L,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Uu,{sx:{fontSize:18,color:"text.secondary",mr:1.5}}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"admin@medico.com"})]}),e.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(zu,{sx:{fontSize:18,color:"text.secondary",mr:1.5}}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"+91 81684 81271"})]})]}),e.jsxs(L,{sx:{mt:2,p:2.5,bgcolor:"info.lighter",borderRadius:2,border:"1px solid",borderColor:"info.light"},children:[e.jsx(b,{variant:"subtitle2",fontWeight:600,color:"info.dark",gutterBottom:!0,sx:{mb:2},children:"Test Users (Development)"}),e.jsxs(L,{sx:{display:"grid",gap:1},children:[e.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Hu,{sx:{fontSize:16,color:"info.dark",mr:1}}),e.jsxs(b,{variant:"caption",sx:{fontFamily:"monospace"},children:[e.jsx("strong",{children:"Admin:"})," admin / admin123"]})]}),e.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(jc,{sx:{fontSize:16,color:"info.dark",mr:1}}),e.jsxs(b,{variant:"caption",sx:{fontFamily:"monospace"},children:[e.jsx("strong",{children:"Doctor:"})," doctor / doctor123"]})]}),e.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Sc,{sx:{fontSize:16,color:"info.dark",mr:1}}),e.jsxs(b,{variant:"caption",sx:{fontFamily:"monospace"},children:[e.jsx("strong",{children:"Nurse:"})," nurse / nurse123"]})]}),e.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(yo,{sx:{fontSize:16,color:"info.dark",mr:1}}),e.jsxs(b,{variant:"caption",sx:{fontFamily:"monospace"},children:[e.jsx("strong",{children:"Lab Tech:"})," labtech / labtech123"]})]}),e.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(qu,{sx:{fontSize:16,color:"info.dark",mr:1}}),e.jsxs(b,{variant:"caption",sx:{fontFamily:"monospace"},children:[e.jsx("strong",{children:"Receptionist:"})," receptionist / receptionist123"]})]})]})]})]})})})}const na={getAllPendingUsers:async()=>(await $.get("/pending-users")).data,getPendingUsersByRole:async t=>(await $.get(`/pending-users/role/${t}`)).data,getPendingUserById:async t=>(await $.get(`/pending-users/${t}`)).data,approveRegistration:async t=>(await $.post(`/pending-users/${t}/approve`)).data,rejectRegistration:async(t,n)=>(await $.post(`/pending-users/${t}/reject`,{reason:n})).data,getDocuments:async t=>(await $.get(`/pending-users/${t}/documents`)).data,registerWithDocuments:async t=>(await $.post("/auth/register-with-documents",t,{headers:{"Content-Type":"multipart/form-data"}})).data};function $x(){const t=Me(),[n,r]=f.useState(!1),[s,a]=f.useState(!1),[o,i]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState([]),[h,p]=f.useState({username:"",firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",role:""}),x=[{value:wr.DOCTOR,label:"Doctor"},{value:wr.DOCTOR_SUPERVISOR,label:"Doctor Supervisor"},{value:wr.NURSE,label:"Nurse"},{value:wr.NURSE_MANAGER,label:"Nurse Manager"},{value:wr.NURSE_SUPERVISOR,label:"Nurse Supervisor"},{value:wr.RECEPTIONIST,label:"Receptionist"}],g=S=>{p({...h,[S.target.name]:S.target.value}),i("")},v=S=>{const y=Array.from(S.target.files);u([...d,...y]),i("")},m=S=>{u(d.filter((y,E)=>E!==S))},w=S=>S<1024?S+" B":S<1024*1024?(S/1024).toFixed(2)+" KB":(S/(1024*1024)).toFixed(2)+" MB",j=async S=>{var y,E;if(S.preventDefault(),i(""),c(""),!h.role){i("Please select a role");return}if(h.password!==h.confirmPassword){i("Passwords do not match");return}if(h.password.length<6){i("Password must be at least 6 characters");return}if(d.length<2){i("Please upload at least 2 government ID documents");return}a(!0);try{const D=new FormData;D.append("username",h.username),D.append("password",h.password),D.append("email",h.email),D.append("firstName",h.firstName),D.append("lastName",h.lastName),D.append("phone",h.phone),D.append("role",h.role),d.forEach(A=>{D.append("documents",A)});const I=await na.registerWithDocuments(D);c(I.message||"Registration submitted successfully! Your account is pending approval. You will be notified once approved."),J.success("Registration submitted for approval!"),p({username:"",firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",role:""}),u([]),setTimeout(()=>{t("/login")},3e3)}catch(D){const I=((E=(y=D.response)==null?void 0:y.data)==null?void 0:E.message)||"Registration failed. Please try again.";i(I),J.error(I)}finally{a(!1)}};return e.jsx(L,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",p:2},children:e.jsx(Se,{sx:{maxWidth:700,width:"100%",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:e.jsxs(we,{sx:{p:4},children:[e.jsxs(L,{sx:{textAlign:"center",mb:3},children:[e.jsx(L,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:64,height:64,borderRadius:"50%",bgcolor:"primary.main",mb:2},children:e.jsx(sn,{sx:{fontSize:36,color:"white"}})}),e.jsx(b,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Staff Registration"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Join Medico Hospital Management System"})]}),l&&e.jsx(Be,{severity:"success",sx:{mb:3},children:l}),o&&e.jsx(Be,{severity:"error",sx:{mb:3},children:o}),e.jsxs("form",{onSubmit:j,children:[e.jsxs(C,{container:!0,spacing:2,children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Username",name:"username",value:h.username,onChange:g,required:!0,autoFocus:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsxs(fn,{fullWidth:!0,required:!0,children:[e.jsx(xn,{children:"Role"}),e.jsx(In,{name:"role",value:h.role,onChange:g,label:"Role",children:x.map(S=>e.jsx(ve,{value:S.value,children:S.label},S.value))}),e.jsx(jo,{children:"Select your role (requires approval)"})]})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"First Name",name:"firstName",value:h.firstName,onChange:g,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Last Name",name:"lastName",value:h.lastName,onChange:g,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Email Address",name:"email",type:"email",value:h.email,onChange:g,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Phone Number",name:"phone",value:h.phone,onChange:g})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Password",name:"password",type:n?"text":"password",value:h.password,onChange:g,required:!0,InputProps:{endAdornment:e.jsx(yn,{position:"end",children:e.jsx(Pe,{onClick:()=>r(!n),edge:"end",children:n?e.jsx(Qo,{}):e.jsx(it,{})})})}})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:n?"text":"password",value:h.confirmPassword,onChange:g,required:!0})}),e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",gutterBottom:!0,children:"Upload Government ID Documents (Minimum 2 required)"}),e.jsxs(re,{variant:"outlined",component:"label",startIcon:e.jsx(hs,{}),fullWidth:!0,sx:{mb:2},children:["Upload Documents",e.jsx("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*,.pdf",onChange:v})]}),d.length>0&&e.jsx(Ca,{dense:!0,children:d.map((S,y)=>e.jsxs(Jo,{secondaryAction:e.jsx(Pe,{edge:"end",onClick:()=>m(y),size:"small",children:e.jsx(Nt,{})}),children:[e.jsx(vc,{children:e.jsx(bo,{})}),e.jsx(Yo,{primary:S.name,secondary:w(S.size)})]},y))}),e.jsx(jo,{children:e.jsx(Ee,{label:`${d.length} document(s) uploaded`,size:"small",color:d.length>=2?"success":"default"})})]})]}),e.jsx(re,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:s||d.length<2,sx:{mt:3,py:1.5,fontSize:"1rem",fontWeight:600,textTransform:"none"},children:s?e.jsx(Ne,{size:24}):"Submit Registration"}),e.jsx(L,{sx:{textAlign:"center",mt:2},children:e.jsxs(b,{variant:"body2",color:"text.secondary",children:["Already have an account?"," ",e.jsx(us,{href:"/login",underline:"hover",sx:{color:"primary.main",fontWeight:600},children:"Sign In"})]})})]})]})})})}const xl={register:async t=>(await $.post("/hospitals/register",t)).data,getSubscriptionPlans:async()=>(await $.get("/hospitals/subscription-plans")).data,getById:async t=>(await $.get(`/hospitals/${t}`)).data,getByCode:async t=>(await $.get(`/hospitals/code/${t}`)).data,update:async(t,n)=>(await $.put(`/hospitals/${t}`,n)).data,upgradePlan:async(t,n)=>(await $.post(`/hospitals/${t}/upgrade?plan=${n}`)).data,getStatistics:async t=>(await $.get(`/hospitals/${t}/statistics`)).data,checkCodeAvailability:async t=>{try{return await $.get(`/hospitals/code/${t}`),!1}catch{return!0}},uploadLogo:async(t,n)=>{const r=new FormData;return r.append("file",n),(await $.post(`/hospitals/${t}/logo`,r,{headers:{"Content-Type":"multipart/form-data"}})).data},deleteLogo:async t=>(await $.delete(`/hospitals/${t}/logo`)).data},gl=["Hospital Details","Admin Account","Review & Start Trial"],Vx=[{name:"TRIAL",displayName:"10-Day Free Trial",price:0,maxUsers:10,maxPatients:100,features:["Basic Features","10 Staff Members","100 Patients","Email Support"],icon:e.jsx(Ju,{}),color:"warning",recommended:!1},{name:"BASIC",displayName:"Basic",price:99,maxUsers:25,maxPatients:500,features:["All Trial Features","25 Staff Members","500 Patients","Priority Support","Reports"],icon:e.jsx(Xu,{}),color:"info",recommended:!1},{name:"PROFESSIONAL",displayName:"Professional",price:299,maxUsers:100,maxPatients:5e3,features:["All Basic Features","100 Staff Members","5000 Patients","AI Features","FHIR Integration","API Access"],icon:e.jsx(an,{}),color:"success",recommended:!0},{name:"ENTERPRISE",displayName:"Enterprise",price:999,maxUsers:-1,maxPatients:-1,features:["All Professional Features","Unlimited Staff","Unlimited Patients","24/7 Support","Custom Integrations","Dedicated Account Manager"],icon:e.jsx(Zu,{}),color:"secondary",recommended:!1}];function Bx(){const t=Me(),[n,r]=f.useState(0),[s,a]=f.useState(!1),[o,i]=f.useState(!1),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,p]=f.useState({name:"",code:"",email:"",phone:"",address:"",city:"",state:"",country:"",postalCode:"",registrationNumber:"",taxId:"",website:""}),[x,g]=f.useState(null),[v,m]=f.useState(null),[w,j]=f.useState({username:"",firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:""}),S=R=>{const{name:T,value:k}=R.target;if(p(N=>({...N,[T]:k})),c(""),T==="name"&&!h.code){const N=k.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,10);p(W=>({...W,code:N}))}},y=R=>{const{name:T,value:k}=R.target;j(N=>({...N,[T]:k})),c("")},E=R=>{const T=R.target.files[0];if(T){if(!T.type.startsWith("image/")){c("Please select an image file (PNG, JPG, etc.)");return}if(T.size>2*1024*1024){c("Logo file must be less than 2MB");return}g(T),m(URL.createObjectURL(T)),c("")}},D=()=>{g(null),v&&URL.revokeObjectURL(v),m(null)},I=R=>{if(R===0){if(!h.name||!h.code||!h.email)return c("Please fill in all required hospital fields"),!1;if(!/^[A-Z0-9]+$/.test(h.code))return c("Hospital code must contain only uppercase letters and numbers"),!1}else if(R===1){if(!w.username||!w.email||!w.password||!w.firstName||!w.lastName)return c("Please fill in all required admin fields"),!1;if(w.password!==w.confirmPassword)return c("Passwords do not match"),!1;if(w.password.length<6)return c("Password must be at least 6 characters"),!1}return!0},A=()=>{I(n)&&(r(R=>R+1),c(""))},z=()=>{r(R=>R-1),c("")},O=async()=>{var R,T;c(""),u(""),i(!0);try{const k={hospital:h,admin:{username:w.username,firstName:w.firstName,lastName:w.lastName,email:w.email,password:w.password,phone:w.phone}},N=await xl.register(k);if(x&&(N!=null&&N.id))try{await xl.uploadLogo(N.id,x),J.success("Logo uploaded successfully!")}catch(W){console.error("Logo upload failed:",W),J.warning("Hospital registered but logo upload failed. You can upload it later.")}u("Hospital registered successfully! Your 10-day trial has started. You can now login with your admin credentials."),J.success("Hospital registered successfully!"),setTimeout(()=>{t("/login")},3e3)}catch(k){const N=((T=(R=k.response)==null?void 0:R.data)==null?void 0:T.message)||"Registration failed. Please try again.";c(N),J.error(N)}finally{i(!1)}},F=()=>e.jsxs(C,{container:!0,spacing:2,children:[e.jsx(C,{item:!0,xs:12,children:e.jsxs(b,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Qu,{color:"primary"}),"Hospital Information"]})}),e.jsx(C,{item:!0,xs:12,sm:8,children:e.jsx(U,{fullWidth:!0,label:"Hospital Name",name:"name",value:h.name,onChange:S,required:!0,autoFocus:!0,placeholder:"e.g., City General Hospital"})}),e.jsx(C,{item:!0,xs:12,sm:4,children:e.jsx(U,{fullWidth:!0,label:"Hospital Code",name:"code",value:h.code,onChange:S,required:!0,placeholder:"e.g., CGH001",helperText:"Unique identifier (uppercase letters & numbers)",inputProps:{style:{textTransform:"uppercase"}}})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Hospital Email",name:"email",type:"email",value:h.email,onChange:S,required:!0,placeholder:"hospital@example.com"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Phone Number",name:"phone",value:h.phone,onChange:S,placeholder:"+1 234 567 8900"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Address",name:"address",value:h.address,onChange:S,placeholder:"Street address",multiline:!0,rows:2})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"City",name:"city",value:h.city,onChange:S})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"State/Province",name:"state",value:h.state,onChange:S})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Country",name:"country",value:h.country,onChange:S})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Postal Code",name:"postalCode",value:h.postalCode,onChange:S})}),e.jsxs(C,{item:!0,xs:12,children:[e.jsx(He,{sx:{my:1}}),e.jsx(b,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Optional Information"})]}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Registration Number",name:"registrationNumber",value:h.registrationNumber,onChange:S,placeholder:"Business registration number"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Tax ID",name:"taxId",value:h.taxId,onChange:S,placeholder:"Tax identification number"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Website",name:"website",value:h.website,onChange:S,placeholder:"https://www.hospital.com"})}),e.jsxs(C,{item:!0,xs:12,children:[e.jsx(He,{sx:{my:1}}),e.jsx(b,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Hospital Logo"})]}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[v?e.jsx(Xn,{src:v,alt:"Hospital Logo",sx:{width:100,height:100,border:"2px solid",borderColor:"primary.main"},variant:"rounded"}):e.jsx(Xn,{sx:{width:100,height:100,bgcolor:"grey.200"},variant:"rounded",children:e.jsx(sn,{sx:{fontSize:48,color:"grey.400"}})}),e.jsxs(L,{children:[e.jsx("input",{accept:"image/*",style:{display:"none"},id:"logo-upload",type:"file",onChange:E}),e.jsx("label",{htmlFor:"logo-upload",children:e.jsx(re,{variant:"outlined",component:"span",startIcon:e.jsx(hs,{}),size:"small",children:"Upload Logo"})}),x&&e.jsx(re,{variant:"text",color:"error",onClick:D,startIcon:e.jsx(Nt,{}),size:"small",sx:{ml:1},children:"Remove"}),e.jsx(b,{variant:"caption",display:"block",color:"text.secondary",sx:{mt:.5},children:"PNG, JPG up to 2MB. Recommended: 200x200 pixels."})]})]})})]}),H=()=>e.jsxs(C,{container:!0,spacing:2,children:[e.jsxs(C,{item:!0,xs:12,children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Sc,{color:"primary"}),"Hospital Admin Account"]}),e.jsx(b,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"This account will have full administrative access to manage your hospital"})]}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Username",name:"username",value:w.username,onChange:y,required:!0,autoFocus:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Email",name:"email",type:"email",value:w.email,onChange:y,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"First Name",name:"firstName",value:w.firstName,onChange:y,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Last Name",name:"lastName",value:w.lastName,onChange:y,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Phone",name:"phone",value:w.phone,onChange:y})}),e.jsx(C,{item:!0,xs:12,sm:6}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Password",name:"password",type:s?"text":"password",value:w.password,onChange:y,required:!0,InputProps:{endAdornment:e.jsx(yn,{position:"end",children:e.jsx(Pe,{onClick:()=>a(!s),edge:"end",children:s?e.jsx(Qo,{}):e.jsx(it,{})})})}})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:s?"text":"password",value:w.confirmPassword,onChange:y,required:!0})})]}),Y=()=>e.jsxs(L,{children:[e.jsxs(b,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(an,{color:"success"}),"Review & Start Your Free Trial"]}),e.jsxs(L,{sx:{mb:4},children:[e.jsx(b,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Available Plans (Upgrade Anytime)"}),e.jsx(C,{container:!0,spacing:2,children:Vx.map(R=>e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(Oe,{elevation:R.recommended?8:1,sx:{p:2,height:"100%",border:R.recommended?2:1,borderColor:R.recommended?"success.main":"divider",position:"relative"},children:[R.recommended&&e.jsx(Ee,{label:"Recommended",color:"success",size:"small",sx:{position:"absolute",top:-10,right:10}}),e.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[R.icon,e.jsx(b,{variant:"subtitle1",fontWeight:600,children:R.displayName})]}),e.jsxs(b,{variant:"h5",color:"primary",fontWeight:700,children:["$",R.price,e.jsx(b,{component:"span",variant:"body2",color:"text.secondary",children:"/month"})]}),e.jsx(L,{sx:{mt:1},children:R.features.slice(0,3).map((T,k)=>e.jsx(b,{variant:"caption",display:"block",color:"text.secondary",children:T},k))})]})},R.name))})]}),e.jsx(He,{sx:{my:3}}),e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Oe,{sx:{p:2,bgcolor:"grey.50"},children:e.jsxs(L,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[v?e.jsx(Xn,{src:v,alt:"Hospital Logo",sx:{width:60,height:60},variant:"rounded"}):e.jsx(Xn,{sx:{width:60,height:60,bgcolor:"primary.main"},variant:"rounded",children:e.jsx(sn,{sx:{fontSize:32}})}),e.jsxs(L,{children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Hospital Details"}),e.jsx(b,{variant:"body1",fontWeight:600,children:h.name}),e.jsxs(b,{variant:"body2",color:"text.secondary",children:["Code: ",h.code]}),e.jsx(b,{variant:"body2",color:"text.secondary",children:h.email}),h.phone&&e.jsx(b,{variant:"body2",color:"text.secondary",children:h.phone}),h.city&&e.jsxs(b,{variant:"body2",color:"text.secondary",children:[h.city,", ",h.state," ",h.country]})]})]})})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(Oe,{sx:{p:2,bgcolor:"grey.50"},children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Admin Account"}),e.jsxs(b,{variant:"body1",fontWeight:600,children:[w.firstName," ",w.lastName]}),e.jsxs(b,{variant:"body2",color:"text.secondary",children:["Username: ",w.username]}),e.jsx(b,{variant:"body2",color:"text.secondary",children:w.email}),w.phone&&e.jsx(b,{variant:"body2",color:"text.secondary",children:w.phone})]})})]}),e.jsx(Be,{severity:"info",sx:{mt:3},children:e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"10-Day Free Trial:"})," Your trial starts immediately upon registration. No credit card required. You can upgrade to a paid plan at any time to unlock more features."]})})]}),M=R=>{switch(R){case 0:return F();case 1:return H();case 2:return Y();default:return null}};return e.jsx(L,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1a237e 0%, #0d47a1 50%, #01579b 100%)",p:2,py:4},children:e.jsx(Se,{sx:{maxWidth:900,width:"100%",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:e.jsxs(we,{sx:{p:4},children:[e.jsxs(L,{sx:{textAlign:"center",mb:4},children:[e.jsx(L,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",bgcolor:"primary.main",mb:2},children:e.jsx(sn,{sx:{fontSize:48,color:"white"}})}),e.jsx(b,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Register Your Hospital"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Start your 10-day free trial of Medico Hospital Management System"})]}),e.jsx(Yu,{activeStep:n,sx:{mb:4},children:gl.map(R=>e.jsx(Gu,{children:e.jsx(Ku,{children:R})},R))}),d&&e.jsx(Be,{severity:"success",sx:{mb:3},children:d}),l&&e.jsx(Be,{severity:"error",sx:{mb:3},children:l}),e.jsx(L,{sx:{mb:4},children:M(n)}),e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[e.jsx(re,{disabled:n===0,onClick:z,variant:"outlined",children:"Back"}),n===gl.length-1?e.jsx(re,{variant:"contained",onClick:O,disabled:o,size:"large",sx:{minWidth:200},children:o?e.jsx(Ne,{size:24}):"Start Free Trial"}):e.jsx(re,{variant:"contained",onClick:A,children:"Next"})]}),e.jsx(L,{sx:{textAlign:"center",mt:3},children:e.jsxs(b,{variant:"body2",color:"text.secondary",children:["Already have an account?"," ",e.jsx(us,{href:"/login",underline:"hover",sx:{color:"primary.main",fontWeight:600},children:"Sign In"})]})})]})})})}const kt={getAllPatients:async(t={})=>(await $.get("/patients",{params:t})).data,getPatientById:async t=>(await $.get(`/patients/${t}`)).data,searchPatients:async t=>(await $.get("/patients/search",{params:{query:t}})).data,getPatientsByName:async t=>(await $.get(`/patients/name/${t}`)).data,getPatientsByPhone:async t=>(await $.get(`/patients/phone/${t}`)).data,createPatient:async t=>(await $.post("/patients",t)).data,updatePatient:async(t,n)=>(await $.put(`/patients/${t}`,n)).data,deletePatient:async t=>(await $.delete(`/patients/${t}`)).data,getPatientStatistics:async()=>(await $.get("/async/patients/statistics")).data,createPatientsBatch:async t=>(await $.post("/async/patients/batch",t)).data},Ir={getAllAppointments:async(t={})=>(await $.get("/appointments",{params:t})).data,getAppointmentById:async t=>(await $.get(`/appointments/${t}`)).data,getAppointmentsByPatient:async t=>(await $.get(`/appointments/patient/${t}`)).data,getAppointmentsByDoctor:async t=>(await $.get(`/appointments/doctor/${t}`)).data,getAppointmentsByStatus:async t=>(await $.get(`/appointments/status/${t}`)).data,getTodaysAppointments:async()=>(await $.get("/appointments/today")).data,getUpcomingAppointments:async()=>(await $.get("/appointments/upcoming")).data,createAppointment:async t=>(await $.post("/appointments",t)).data,updateAppointment:async(t,n)=>(await $.put(`/appointments/${t}`,n)).data,updateAppointmentStatus:async(t,n)=>(await $.patch(`/appointments/${t}/status`,{status:n})).data,cancelAppointment:async t=>(await $.delete(`/appointments/${t}`)).data},yl=["#2196f3","#4caf50","#ff9800","#f44336","#9c27b0"];function Wx(){const t=Me(),{can:n,canAny:r}=St(),[s,a]=f.useState(!0),[o,i]=f.useState({totalPatients:0,totalDoctors:0,todayAppointments:0,lowStockMedications:0}),[l,c]=f.useState([]),[d,u]=f.useState([]),[h,p]=f.useState([]),[x,g]=f.useState([]),v=f.useCallback(async()=>{try{const w=[],j=[];n(fe.VIEW_SYSTEM_STATS)&&(w.push(bd.getDashboardStats()),j.push("stats")),r([fe.VIEW_ALL_PATIENTS,fe.VIEW_ASSIGNED_PATIENTS])&&(w.push(kt.getAllPatients({limit:5})),j.push("patients")),n(fe.VIEW_APPOINTMENTS)&&(w.push(Ir.getTodaysAppointments()),j.push("appointments")),(await Promise.all(w)).forEach((y,E)=>{const D=j[E];D==="stats"?(i({totalPatients:y.totalPatients||0,totalDoctors:y.totalDoctors||0,todayAppointments:y.todayAppointments||0,lowStockMedications:y.lowStockMedications||0}),p(y.monthlyPatients||[]),g(y.appointmentsByType||[])):D==="patients"?c(y.slice(0,5)||[]):D==="appointments"&&u(y.slice(0,5)||[])})}catch(w){console.error("Error fetching dashboard data:",w)}finally{a(!1)}},[n,r]);f.useEffect(()=>{v()},[v]);const m=({title:w,value:j,icon:S,color:y,trend:E})=>e.jsx(Se,{sx:{height:"100%",position:"relative",overflow:"visible"},children:e.jsx(we,{children:e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(L,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",gutterBottom:!0,children:w}),e.jsx(b,{variant:"h4",fontWeight:700,children:j}),E&&e.jsxs(L,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsx(vo,{sx:{fontSize:16,color:"success.main",mr:.5}}),e.jsx(b,{variant:"caption",color:"success.main",children:E})]})]}),e.jsx(L,{sx:{width:60,height:60,borderRadius:2,bgcolor:`${y}.50`,display:"flex",alignItems:"center",justifyContent:"center"},children:S})]})})});return s?e.jsx(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{sx:{mb:4},children:[e.jsx(b,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Dashboard"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Welcome back! Here's what's happening today."})]}),n(fe.VIEW_SYSTEM_STATS)&&e.jsxs(C,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(m,{title:"Total Patients",value:o.totalPatients,icon:e.jsx(Zn,{sx:{fontSize:32,color:"primary.main"}}),color:"primary"})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(m,{title:"Total Doctors",value:o.totalDoctors,icon:e.jsx(sn,{sx:{fontSize:32,color:"success.main"}}),color:"success"})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(m,{title:"Today's Appointments",value:o.todayAppointments,icon:e.jsx(qo,{sx:{fontSize:32,color:"warning.main"}}),color:"warning"})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(m,{title:"Low Stock Alerts",value:o.lowStockMedications,icon:e.jsx(fs,{sx:{fontSize:32,color:"error.main"}}),color:"error"})})]}),n(fe.VIEW_SYSTEM_STATS)&&e.jsxs(C,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(C,{item:!0,xs:12,md:8,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Patient Trends"}),e.jsx(Ii,{width:"100%",height:300,children:e.jsxs(kh,{data:h,children:[e.jsx(Oh,{strokeDasharray:"3 3"}),e.jsx(Nh,{dataKey:"month"}),e.jsx(Mh,{}),e.jsx(Ti,{}),e.jsx(Lh,{}),e.jsx(Fh,{type:"monotone",dataKey:"patients",stroke:"#2196f3",strokeWidth:2})]})})]})})}),e.jsx(C,{item:!0,xs:12,md:4,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Appointments by Type"}),e.jsx(Ii,{width:"100%",height:300,children:e.jsxs(_h,{children:[e.jsx($h,{data:x,cx:"50%",cy:"50%",labelLine:!1,label:w=>w.name,outerRadius:80,fill:"#8884d8",dataKey:"value",children:x.map((w,j)=>e.jsx(Vh,{fill:yl[j%yl.length]},`cell-${j}`))}),e.jsx(Ti,{})]})})]})})})]}),e.jsxs(C,{container:!0,spacing:3,children:[r([fe.VIEW_ALL_PATIENTS,fe.VIEW_ASSIGNED_PATIENTS])&&e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(b,{variant:"h6",fontWeight:600,children:"Recent Patients"}),e.jsx(Pe,{size:"small",onClick:()=>t("/patients"),children:e.jsx(it,{})})]}),e.jsx(Ye,{children:e.jsxs(Ge,{size:"small",children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Name"}),e.jsx(P,{children:"Age"}),e.jsx(P,{children:"Phone"}),e.jsx(P,{children:"Status"})]})}),e.jsx(Ke,{children:l.length>0?l.map(w=>e.jsxs(je,{hover:!0,children:[e.jsx(P,{children:w.name}),e.jsx(P,{children:w.age}),e.jsx(P,{children:w.phone}),e.jsx(P,{children:e.jsx(Ee,{label:"Active",size:"small",color:"success"})})]},w.id)):e.jsx(je,{children:e.jsx(P,{colSpan:4,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",children:"No recent patients"})})})})]})})]})})}),n(fe.VIEW_APPOINTMENTS)&&e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(b,{variant:"h6",fontWeight:600,children:"Upcoming Appointments"}),e.jsx(Pe,{size:"small",onClick:()=>t("/appointments"),children:e.jsx(it,{})})]}),e.jsx(Ye,{children:e.jsxs(Ge,{size:"small",children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Patient"}),e.jsx(P,{children:"Doctor"}),e.jsx(P,{children:"Time"}),e.jsx(P,{children:"Status"})]})}),e.jsx(Ke,{children:d.length>0?d.map(w=>e.jsxs(je,{hover:!0,children:[e.jsx(P,{children:w.patientName}),e.jsx(P,{children:w.doctorName}),e.jsx(P,{children:w.time}),e.jsx(P,{children:e.jsx(Ee,{label:w.status,size:"small",color:w.status==="SCHEDULED"?"primary":"default"})})]},w.id)):e.jsx(je,{children:e.jsx(P,{colSpan:4,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",children:"No upcoming appointments"})})})})]})})]})})})]})]})}const Ux=({bloodGroup:t,size:n="medium"})=>{if(!t)return null;const r=c=>c.replace("_POSITIVE","+").replace("_NEGATIVE","-"),s=c=>{const d=c.split("_")[0];return{A:"#ef4444",B:"#3b82f6",AB:"#8b5cf6",O:"#22c55e"}[d]||"#6b7280"},a={small:32,medium:40,large:48},o={small:"0.75rem",medium:"0.875rem",large:"1rem"},i=r(t),l=s(t);return e.jsxs(L,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",width:a[n],height:a[n],borderRadius:"50%",bgcolor:`${l}15`,border:`2px solid ${l}`},children:[e.jsx(eh,{sx:{position:"absolute",fontSize:a[n]*.5,color:`${l}40`}}),e.jsx(b,{sx:{fontSize:o[n],fontWeight:700,color:l,position:"relative",zIndex:1,textShadow:"0 0 2px rgba(255,255,255,0.8)"},children:i})]})};function zx(){const t=Me(),{can:n}=St(),[r,s]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState("");f.useEffect(()=>{c()},[]);const c=async()=>{try{const h=await kt.getAllPatients();s(h)}catch(h){J.error("Failed to fetch patients"),console.error(h)}finally{o(!1)}},d=async h=>{if(window.confirm("Are you sure you want to delete this patient?"))try{await kt.deletePatient(h),J.success("Patient deleted successfully"),c()}catch{J.error("Failed to delete patient")}},u=r.filter(h=>{var p,x,g;return((p=h.name)==null?void 0:p.toLowerCase().includes(i.toLowerCase()))||((x=h.phone)==null?void 0:x.includes(i))||((g=h.email)==null?void 0:g.toLowerCase().includes(i.toLowerCase()))});return a?e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs("div",{children:[e.jsx(b,{variant:"h4",fontWeight:700,children:"Patients"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Manage patient records"})]}),n(fe.ADD_PATIENT)&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>t("/patients/new"),children:"Add Patient"})]}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(U,{fullWidth:!0,placeholder:"Search patients by name, phone, or email...",value:i,onChange:h=>l(h.target.value),InputProps:{startAdornment:e.jsx(yn,{position:"start",children:e.jsx(Is,{})})},sx:{mb:3}}),e.jsx(Ye,{children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"ID"}),e.jsx(P,{children:"Name"}),e.jsx(P,{children:"Age"}),e.jsx(P,{children:"Gender"}),e.jsx(P,{children:"Phone"}),e.jsx(P,{children:"Email"}),e.jsx(P,{children:"Blood Group"}),e.jsx(P,{align:"right",children:"Actions"})]})}),e.jsx(Ke,{children:u.length>0?u.map(h=>e.jsxs(je,{hover:!0,children:[e.jsx(P,{children:h.id}),e.jsx(P,{children:e.jsx(b,{fontWeight:600,children:h.name})}),e.jsx(P,{children:h.age}),e.jsx(P,{children:e.jsx(Ee,{label:h.gender,size:"small",color:h.gender==="MALE"?"primary":"secondary"})}),e.jsx(P,{children:h.phone}),e.jsx(P,{children:h.email}),e.jsx(P,{children:e.jsx(Ux,{bloodGroup:h.bloodGroup,size:"small"})}),e.jsxs(P,{align:"right",children:[n(fe.VIEW_PATIENT_DETAILS)&&e.jsx(Pe,{size:"small",onClick:()=>t(`/patients/${h.id}`),color:"primary",children:e.jsx(it,{})}),n(fe.EDIT_PATIENT)&&e.jsx(Pe,{size:"small",onClick:()=>t(`/patients/${h.id}/edit`),color:"info",children:e.jsx(on,{})}),n(fe.DELETE_PATIENT)&&e.jsx(Pe,{size:"small",onClick:()=>d(h.id),color:"error",children:e.jsx(Nt,{})})]})]},h.id)):e.jsx(je,{children:e.jsx(P,{colSpan:8,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No patients found"})})})})]})})]})})]})}function Hx(){var c;const{id:t}=Bt(),n=Me(),[r,s]=f.useState(null),[a,o]=f.useState(!0),i=f.useCallback(async()=>{try{const d=await kt.getPatientById(t);s(d)}catch(d){J.error("Failed to fetch patient details"),console.error(d)}finally{o(!1)}},[t]);if(f.useEffect(()=>{i()},[i]),a)return e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})});if(!r)return e.jsxs(L,{sx:{p:4,textAlign:"center"},children:[e.jsx(b,{children:"Patient not found"}),e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/patients"),sx:{mt:2},children:"Back to Patients"})]});const l=({label:d,value:u})=>e.jsxs(L,{sx:{py:1.5},children:[e.jsx(b,{variant:"caption",color:"text.secondary",display:"block",children:d}),e.jsx(b,{variant:"body1",fontWeight:500,children:u||"N/A"})]});return e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/patients"),children:"Back to Patients"}),e.jsx(re,{variant:"contained",startIcon:e.jsx(on,{}),onClick:()=>n(`/patients/${t}/edit`),children:"Edit Patient"})]}),e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,md:4,children:e.jsx(Se,{children:e.jsxs(we,{sx:{textAlign:"center"},children:[e.jsx(Xn,{sx:{width:120,height:120,mx:"auto",mb:2,bgcolor:"primary.main",fontSize:48},children:(c=r.name)==null?void 0:c.charAt(0)}),e.jsx(b,{variant:"h5",fontWeight:700,gutterBottom:!0,children:r.name}),e.jsx(Ee,{label:`${r.age} years`,size:"small",sx:{mr:1}}),e.jsx(Ee,{label:r.gender,size:"small",color:r.gender==="MALE"?"primary":"secondary"})]})})}),e.jsxs(C,{item:!0,xs:12,md:8,children:[e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Personal Information"}),e.jsx(He,{sx:{mb:2}}),e.jsxs(C,{container:!0,spacing:2,children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(l,{label:"Patient ID",value:r.id})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(l,{label:"Blood Group",value:r.bloodGroup})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(l,{label:"Phone",value:r.phone})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(l,{label:"Email",value:r.email})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(l,{label:"Address",value:r.address})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(l,{label:"Created Date",value:new Date(r.createdAt).toLocaleDateString()})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(l,{label:"Last Updated",value:new Date(r.updatedAt).toLocaleDateString()})})]})]})}),e.jsx(Se,{sx:{mt:3},children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Medical History"}),e.jsx(He,{sx:{mb:2}}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Medical history will be displayed here..."})]})})]})]})]})}const qx=["A_POSITIVE","A_NEGATIVE","B_POSITIVE","B_NEGATIVE","AB_POSITIVE","AB_NEGATIVE","O_POSITIVE","O_NEGATIVE"],Yx=["MALE","FEMALE","OTHER"];function jl(){const{id:t}=Bt(),n=Me(),[r,s]=f.useState(!1),[a,o]=f.useState({patientId:"",firstName:"",lastName:"",dateOfBirth:"",gender:"MALE",phone:"",email:"",address:"",emergencyContact:"",emergencyContactPhone:"",bloodGroup:"O_POSITIVE",allergies:"",chronicConditions:""}),i=f.useCallback(async()=>{try{const d=await kt.getPatientById(t);o(d)}catch{J.error("Failed to fetch patient details")}},[t]);f.useEffect(()=>{t&&i()},[t,i]);const l=d=>{o({...a,[d.target.name]:d.target.value})},c=async d=>{d.preventDefault(),s(!0);try{t?(await kt.updatePatient(t,a),J.success("Patient updated successfully")):(await kt.createPatient(a),J.success("Patient created successfully")),n("/patients")}catch{J.error(t?"Failed to update patient":"Failed to create patient")}finally{s(!1)}};return e.jsxs(L,{children:[e.jsx(L,{sx:{display:"flex",alignItems:"center",mb:3},children:e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/patients"),children:"Back to Patients"})}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h5",fontWeight:700,gutterBottom:!0,children:t?"Edit Patient":"Add New Patient"}),e.jsx(b,{variant:"body2",color:"text.secondary",sx:{mb:3},children:t?"Update patient information":"Enter patient details"}),e.jsx("form",{onSubmit:c,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Patient ID",name:"patientId",value:a.patientId,onChange:l,required:!0,disabled:t,helperText:"Unique identifier for the patient"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"First Name",name:"firstName",value:a.firstName,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Last Name",name:"lastName",value:a.lastName,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Date of Birth",name:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:l,required:!0,InputLabelProps:{shrink:!0}})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,select:!0,label:"Gender",name:"gender",value:a.gender,onChange:l,required:!0,children:Yx.map(d=>e.jsx(ve,{value:d,children:d},d))})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,select:!0,label:"Blood Group",name:"bloodGroup",value:a.bloodGroup,onChange:l,children:qx.map(d=>e.jsx(ve,{value:d,children:d.replace("_"," ")},d))})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Phone",name:"phone",value:a.phone,onChange:l})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Email",name:"email",type:"email",value:a.email,onChange:l})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Address",name:"address",value:a.address,onChange:l,multiline:!0,rows:3})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Emergency Contact Name",name:"emergencyContact",value:a.emergencyContact,onChange:l})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Emergency Contact Phone",name:"emergencyContactPhone",value:a.emergencyContactPhone,onChange:l})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Allergies",name:"allergies",value:a.allergies,onChange:l,multiline:!0,rows:2,helperText:"List any known allergies"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Chronic Conditions",name:"chronicConditions",value:a.chronicConditions,onChange:l,multiline:!0,rows:2,helperText:"List any chronic medical conditions"})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(re,{variant:"outlined",onClick:()=>n("/patients"),disabled:r,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",startIcon:r?e.jsx(Ne,{size:20}):e.jsx(fr,{}),disabled:r,children:t?"Update Patient":"Create Patient"})]})})]})})]})})]})}const lr={getAllMedications:async(t={})=>(await $.get("/medications",{params:t})).data,getMedicationById:async t=>(await $.get(`/medications/${t}`)).data,searchMedications:async t=>(await $.get("/medications/search",{params:{query:t}})).data,getLowStockMedications:async(t=10)=>(await $.get("/medications/low-stock",{params:{threshold:t}})).data,getMedicationsByCategory:async t=>(await $.get(`/medications/category/${t}`)).data,createMedication:async t=>(await $.post("/medications",t)).data,updateMedication:async(t,n)=>(await $.put(`/medications/${t}`,n)).data,deleteMedication:async t=>(await $.delete(`/medications/${t}`)).data,updateStock:async(t,n)=>(await $.patch(`/medications/${t}/stock`,{quantity:n})).data,getInventoryAlerts:async()=>(await $.get("/async/medications/inventory-alerts")).data,importMedicationsBatch:async t=>(await $.post("/async/medications/batch-import",t)).data};function Gx(){const t=Me(),{can:n,isAnyRole:r}=St(),[s,a]=f.useState([]),[o,i]=f.useState(!0),[l,c]=f.useState(""),[d,u]=f.useState(0);f.useEffect(()=>{h(),p()},[]);const h=async()=>{try{const m=await lr.getAllMedications();a(m)}catch(m){J.error("Failed to fetch medications"),console.error(m)}finally{i(!1)}},p=async()=>{try{const m=await lr.getLowStockMedications(10);u(m.length)}catch(m){console.error(m)}},x=async m=>{if(window.confirm("Are you sure you want to delete this medication?"))try{await lr.deleteMedication(m),J.success("Medication deleted successfully"),h()}catch{J.error("Failed to delete medication")}},g=m=>m===0?{label:"Out of Stock",color:"error"}:m<10?{label:"Low Stock",color:"warning"}:{label:"In Stock",color:"success"},v=s.filter(m=>{var w,j,S;return((w=m.name)==null?void 0:w.toLowerCase().includes(l.toLowerCase()))||((j=m.manufacturer)==null?void 0:j.toLowerCase().includes(l.toLowerCase()))||((S=m.category)==null?void 0:S.toLowerCase().includes(l.toLowerCase()))});return o?e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs("div",{children:[e.jsx(b,{variant:"h4",fontWeight:700,children:"Medication Inventory"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Manage medications and stock levels"})]}),(n(fe.ADD_MEDICATION)||r(["PHARMACIST","ADMIN"]))&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>t("/medications/new"),children:"Add Medication"})]}),d>0&&e.jsxs(Be,{severity:"warning",icon:e.jsx(Xs,{}),sx:{mb:3},children:[e.jsx("strong",{children:d})," medication(s) are running low on stock!"]}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(U,{fullWidth:!0,placeholder:"Search medications by name, manufacturer, or category...",value:l,onChange:m=>c(m.target.value),InputProps:{startAdornment:e.jsx(yn,{position:"start",children:e.jsx(Is,{})})},sx:{mb:3}}),e.jsx(Ye,{children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"ID"}),e.jsx(P,{children:"Name"}),e.jsx(P,{children:"Category"}),e.jsx(P,{children:"Manufacturer"}),e.jsx(P,{children:"Quantity"}),e.jsx(P,{children:"Price"}),e.jsx(P,{children:"Status"}),e.jsx(P,{align:"right",children:"Actions"})]})}),e.jsx(Ke,{children:v.length>0?v.map(m=>{var j;const w=g(m.quantity);return e.jsxs(je,{hover:!0,children:[e.jsx(P,{children:m.id}),e.jsx(P,{children:e.jsx(b,{fontWeight:600,children:m.name})}),e.jsx(P,{children:e.jsx(Ee,{label:m.category,size:"small",variant:"outlined"})}),e.jsx(P,{children:m.manufacturer}),e.jsx(P,{children:e.jsx(b,{fontWeight:600,color:m.quantity<10?"error":"text.primary",children:m.quantity})}),e.jsxs(P,{children:["$",(j=m.price)==null?void 0:j.toFixed(2)]}),e.jsx(P,{children:e.jsx(Ee,{label:w.label,size:"small",color:w.color})}),e.jsxs(P,{align:"right",children:[n(fe.EDIT_MEDICATION)&&e.jsx(Pe,{size:"small",onClick:()=>t(`/medications/${m.id}/edit`),color:"info",children:e.jsx(on,{})}),n(fe.DELETE_MEDICATION)&&e.jsx(Pe,{size:"small",onClick:()=>x(m.id),color:"error",children:e.jsx(Nt,{})})]})]},m.id)}):e.jsx(je,{children:e.jsx(P,{colSpan:8,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No medications found"})})})})]})})]})})]})}const bl=["ANTIBIOTIC","PAINKILLER","VITAMIN","ANTIHISTAMINE","ANTACID","ANTISEPTIC","ANTI_INFLAMMATORY","OTHER","General"],vl=["TABLET","CAPSULE","SYRUP","INJECTION","CREAM","OINTMENT","DROPS","INHALER","OTHER","Tablet"];function Sl(){const{id:t}=Bt(),n=Me(),[r,s]=f.useState(!1),[a,o]=f.useState({medicationCode:"",name:"",genericName:"",category:"ANTIBIOTIC",manufacturer:"",description:"",dosageForm:"TABLET",strength:"",unitPrice:"",stockQuantity:"",reorderLevel:"",reorderQuantity:"",expiryDate:"",batchNumber:"",requiresPrescription:!1,sideEffects:"",contraindications:"",storageInstructions:""}),i=f.useCallback(async()=>{try{const d=await lr.getMedicationById(t),u=d.category||"OTHER",h=d.dosageForm||"TABLET";o({medicationCode:d.medicationCode||"",name:d.name||"",genericName:d.genericName||"",category:bl.includes(u)?u:"OTHER",manufacturer:d.manufacturer||"",description:d.description||"",dosageForm:vl.includes(h)?h:"OTHER",strength:d.strength||"",unitPrice:d.unitPrice||"",stockQuantity:d.stockQuantity??"",reorderLevel:d.reorderLevel||"",reorderQuantity:d.reorderQuantity||"",expiryDate:d.expiryDate||"",batchNumber:d.batchNumber||"",requiresPrescription:d.requiresPrescription||!1,sideEffects:d.sideEffects||"",contraindications:d.contraindications||"",storageInstructions:d.storageInstructions||""})}catch(d){J.error("Failed to fetch medication details"),console.error("Error fetching medication:",d)}},[t]);f.useEffect(()=>{t&&i()},[t,i]);const l=d=>{const{name:u,value:h,type:p,checked:x}=d.target;o({...a,[u]:p==="checkbox"?x:h})},c=async d=>{var u,h;d.preventDefault(),s(!0);try{const p={...a,unitPrice:parseFloat(a.unitPrice),stockQuantity:parseInt(a.stockQuantity),reorderLevel:a.reorderLevel?parseInt(a.reorderLevel):null,reorderQuantity:a.reorderQuantity?parseInt(a.reorderQuantity):null};t?(await lr.updateMedication(t,p),J.success("Medication updated successfully")):(await lr.createMedication(p),J.success("Medication created successfully")),n("/medications")}catch(p){const x=((h=(u=p.response)==null?void 0:u.data)==null?void 0:h.message)||p.message||"An error occurred";J.error(t?`Failed to update medication: ${x}`:`Failed to create medication: ${x}`),console.error("Error saving medication:",p)}finally{s(!1)}};return e.jsxs(L,{children:[e.jsx(L,{sx:{display:"flex",alignItems:"center",mb:3},children:e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/medications"),children:"Back to Medications"})}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h5",fontWeight:700,gutterBottom:!0,children:t?"Edit Medication":"Add New Medication"}),e.jsx(b,{variant:"body2",color:"text.secondary",sx:{mb:3},children:t?"Update medication information":"Enter medication details"}),e.jsx("form",{onSubmit:c,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Medication Code",name:"medicationCode",value:a.medicationCode,onChange:l,required:!0,disabled:!!t,helperText:t?"Cannot change medication code":"Unique identifier for this medication"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Medication Name",name:"name",value:a.name,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Generic Name",name:"genericName",value:a.genericName,onChange:l})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,select:!0,label:"Category",name:"category",value:a.category,onChange:l,required:!0,children:bl.map(d=>e.jsx(ve,{value:d,children:d.replace("_"," ")},d))})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,select:!0,label:"Dosage Form",name:"dosageForm",value:a.dosageForm,onChange:l,required:!0,children:vl.map(d=>e.jsx(ve,{value:d,children:d},d))})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Strength",name:"strength",value:a.strength,onChange:l,placeholder:"e.g., 500mg, 10ml"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Manufacturer",name:"manufacturer",value:a.manufacturer,onChange:l})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Batch Number",name:"batchNumber",value:a.batchNumber,onChange:l})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Unit Price",name:"unitPrice",type:"number",inputProps:{step:"0.01",min:"0"},value:a.unitPrice,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Stock Quantity",name:"stockQuantity",type:"number",inputProps:{min:"0"},value:a.stockQuantity,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Reorder Level",name:"reorderLevel",type:"number",inputProps:{min:"0"},value:a.reorderLevel,onChange:l,helperText:"Alert when stock falls below this level"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Reorder Quantity",name:"reorderQuantity",type:"number",inputProps:{min:"0"},value:a.reorderQuantity,onChange:l,helperText:"Suggested reorder amount"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Expiry Date",name:"expiryDate",type:"date",value:a.expiryDate,onChange:l,InputLabelProps:{shrink:!0}})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(ua,{control:e.jsx(wc,{checked:a.requiresPrescription,onChange:l,name:"requiresPrescription"}),label:"Requires Prescription"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Description",name:"description",value:a.description,onChange:l,multiline:!0,rows:2})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Side Effects",name:"sideEffects",value:a.sideEffects,onChange:l,multiline:!0,rows:2,placeholder:"List common side effects..."})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Contraindications",name:"contraindications",value:a.contraindications,onChange:l,multiline:!0,rows:2,placeholder:"List contraindications and warnings..."})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Storage Instructions",name:"storageInstructions",value:a.storageInstructions,onChange:l,multiline:!0,rows:2,placeholder:"Storage temperature, conditions, etc..."})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(re,{variant:"outlined",onClick:()=>n("/medications"),disabled:r,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",startIcon:r?e.jsx(Ne,{size:20}):e.jsx(fr,{}),disabled:r,children:t?"Update Medication":"Create Medication"})]})})]})})]})})]})}function Kx(){const t=Me(),{can:n}=St(),[r,s]=f.useState([]),[a,o]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const d=await Ir.getAllAppointments();s(d)}catch{J.error("Failed to fetch appointments")}finally{o(!1)}},l=async d=>{if(window.confirm("Are you sure you want to cancel this appointment?"))try{await Ir.cancelAppointment(d),J.success("Appointment cancelled successfully"),i()}catch(u){J.error("Failed to cancel appointment"),console.error("Error cancelling appointment:",u)}},c=d=>{switch(d){case"SCHEDULED":return"primary";case"COMPLETED":return"success";case"CANCELLED":return"error";default:return"default"}};return a?e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs("div",{children:[e.jsx(b,{variant:"h4",fontWeight:700,children:"Appointments"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Manage patient appointments"})]}),n(fe.BOOK_APPOINTMENT)&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>t("/appointments/new"),children:"Book Appointment"})]}),e.jsx(Se,{children:e.jsx(we,{children:e.jsx(Ye,{component:Oe,elevation:0,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:e.jsx("strong",{children:"ID"})}),e.jsx(P,{children:e.jsx("strong",{children:"Patient"})}),e.jsx(P,{children:e.jsx("strong",{children:"Doctor"})}),e.jsx(P,{children:e.jsx("strong",{children:"Date & Time"})}),e.jsx(P,{children:e.jsx("strong",{children:"Type"})}),e.jsx(P,{children:e.jsx("strong",{children:"Status"})}),e.jsx(P,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(Ke,{children:r.length>0?r.map(d=>e.jsxs(je,{hover:!0,children:[e.jsxs(P,{children:["#",d.id]}),e.jsx(P,{children:d.patientName||"N/A"}),e.jsx(P,{children:d.doctorName||"N/A"}),e.jsx(P,{children:new Date(d.appointmentDateTime).toLocaleString()}),e.jsx(P,{children:e.jsx(Ee,{label:d.type,size:"small",variant:"outlined"})}),e.jsx(P,{children:e.jsx(Ee,{label:d.status,size:"small",color:c(d.status)})}),e.jsx(P,{align:"center",children:e.jsxs(L,{display:"flex",gap:.5,justifyContent:"center",children:[e.jsx(Pe,{size:"small",color:"primary",onClick:()=>t(`/appointments/${d.id}`),title:"View Details",children:e.jsx(it,{})}),n(fe.EDIT_APPOINTMENT)&&e.jsx(Pe,{size:"small",color:"primary",onClick:()=>t(`/appointments/edit/${d.id}`),title:"Edit Appointment",children:e.jsx(on,{})}),n(fe.CANCEL_APPOINTMENT)&&e.jsx(Pe,{size:"small",color:"error",onClick:()=>l(d.id),title:"Cancel Appointment",children:e.jsx(Nt,{})})]})})]},d.id)):e.jsx(je,{children:e.jsx(P,{colSpan:7,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No appointments found"})})})})]})})})})]})}const pn=(t,n)=>t.length!==n.length?!1:n.every(r=>t.includes(r)),Qx=({openTo:t,defaultOpenTo:n,views:r,defaultViews:s})=>{const a=r??s;let o;if(t!=null)o=t;else if(a.includes(n))o=n;else if(a.length>0)o=a[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:a,openTo:o}},ba=(t,n,r)=>{let s=n;return s=t.setHours(s,t.getHours(r)),s=t.setMinutes(s,t.getMinutes(r)),s=t.setSeconds(s,t.getSeconds(r)),s=t.setMilliseconds(s,t.getMilliseconds(r)),s},ms=({date:t,disableFuture:n,disablePast:r,maxDate:s,minDate:a,isDateDisabled:o,utils:i,timezone:l})=>{const c=ba(i,i.date(void 0,l),t);r&&i.isBefore(a,c)&&(a=c),n&&i.isAfter(s,c)&&(s=c);let d=t,u=t;for(i.isBefore(t,a)&&(d=a,u=null),i.isAfter(t,s)&&(u&&(u=s),d=null);d||u;){if(d&&i.isAfter(d,s)&&(d=null),u&&i.isBefore(u,a)&&(u=null),d){if(!o(d))return d;d=i.addDays(d,1)}if(u){if(!o(u))return u;u=i.addDays(u,-1)}}return null},Jx=(t,n)=>n==null||!t.isValid(n)?null:n,Ht=(t,n,r)=>n==null||!t.isValid(n)?r:n,Xx=(t,n,r)=>!t.isValid(n)&&n!=null&&!t.isValid(r)&&r!=null?!0:t.isEqual(n,r),li=(t,n)=>{const s=[t.startOfYear(n)];for(;s.length<12;){const a=s[s.length-1];s.push(t.addMonths(a,1))}return s},ci=(t,n,r)=>r==="date"?t.startOfDay(t.date(void 0,n)):t.date(void 0,n),wn=(t,n)=>{const r=t.setHours(t.date(),n==="am"?2:14);return t.format(r,"meridiem")},Zx=["year","month","day"],Wr=t=>Zx.includes(t),wl=(t,{format:n,views:r},s)=>{if(n!=null)return n;const a=t.formats;return pn(r,["year"])?a.year:pn(r,["month"])?a.month:pn(r,["day"])?a.dayOfMonth:pn(r,["month","year"])?`${a.month} ${a.year}`:pn(r,["day","month"])?`${a.month} ${a.dayOfMonth}`:a.keyboardDate},eg=(t,n)=>{const r=t.startOfWeek(n);return[0,1,2,3,4,5,6].map(s=>t.addDays(r,s))},vd=["hours","minutes","seconds"],Ur=t=>vd.includes(t),cs=t=>vd.includes(t)||t==="meridiem",tg=(t,n)=>t?n.getHours(t)>=12?"pm":"am":null,vs=(t,n,r)=>r&&(t>=12?"pm":"am")!==n?n==="am"?t-12:t+12:t,ng=(t,n,r,s)=>{const a=vs(s.getHours(t),n,r);return s.setHours(t,a)},Cl=(t,n)=>n.getHours(t)*3600+n.getMinutes(t)*60+n.getSeconds(t),Os=(t,n)=>(r,s)=>t?n.isAfter(r,s):Cl(r,n)>Cl(s,n),Dl=(t,{format:n,views:r,ampm:s})=>{if(n!=null)return n;const a=t.formats;return pn(r,["hours"])?s?`${a.hours12h} ${a.meridiem}`:a.hours24h:pn(r,["minutes"])?a.minutes:pn(r,["seconds"])?a.seconds:pn(r,["minutes","seconds"])?`${a.minutes}:${a.seconds}`:pn(r,["hours","minutes","seconds"])?s?`${a.hours12h}:${a.minutes}:${a.seconds} ${a.meridiem}`:`${a.hours24h}:${a.minutes}:${a.seconds}`:s?`${a.hours12h}:${a.minutes} ${a.meridiem}`:`${a.hours24h}:${a.minutes}`},nn={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},rg=t=>Math.max(...t.map(n=>nn[n.type]??1)),ts=(t,n,r)=>{if(n===nn.year)return t.startOfYear(r);if(n===nn.month)return t.startOfMonth(r);if(n===nn.day)return t.startOfDay(r);let s=r;return n<nn.minutes&&(s=t.setMinutes(s,0)),n<nn.seconds&&(s=t.setSeconds(s,0)),n<nn.milliseconds&&(s=t.setMilliseconds(s,0)),s},sg=({props:t,utils:n,granularity:r,timezone:s,getTodayDate:a})=>{let o=a?a():ts(n,r,ci(n,s));t.minDate!=null&&n.isAfterDay(t.minDate,o)&&(o=ts(n,r,t.minDate)),t.maxDate!=null&&n.isBeforeDay(t.maxDate,o)&&(o=ts(n,r,t.maxDate));const i=Os(t.disableIgnoringDatePartForTimeValidation??!1,n);return t.minTime!=null&&i(t.minTime,o)&&(o=ts(n,r,t.disableIgnoringDatePartForTimeValidation?t.minTime:ba(n,o,t.minTime))),t.maxTime!=null&&i(o,t.maxTime)&&(o=ts(n,r,t.disableIgnoringDatePartForTimeValidation?t.maxTime:ba(n,o,t.maxTime))),o},Sd=(t,n)=>{const r=t.formatTokenMap[n];if(r==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},ag=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},_a=(t,n)=>{const r=[],s=t.date(void 0,"default"),a=t.startOfWeek(s),o=t.endOfWeek(s);let i=a;for(;t.isBefore(i,o);)r.push(i),i=t.addDays(i,1);return r.map(l=>t.formatByString(l,n))},wd=(t,n,r,s)=>{switch(r){case"month":return li(t,t.date(void 0,n)).map(a=>t.formatByString(a,s));case"weekDay":return _a(t,s);case"meridiem":{const a=t.date(void 0,n);return[t.startOfDay(a),t.endOfDay(a)].map(o=>t.formatByString(o,s))}default:return[]}},Pl="s",og=["0","1","2","3","4","5","6","7","8","9"],ig=t=>{const n=t.date(void 0);return t.formatByString(t.setSeconds(n,0),Pl)==="0"?og:Array.from({length:10}).map((s,a)=>t.formatByString(t.setSeconds(n,a),Pl))},pr=(t,n)=>{if(n[0]==="0")return t;const r=[];let s="";for(let a=0;a<t.length;a+=1){s+=t[a];const o=n.indexOf(s);o>-1&&(r.push(o.toString()),s="")}return r.join("")},di=(t,n)=>n[0]==="0"?t:t.split("").map(r=>n[Number(r)]).join(""),Il=(t,n)=>{const r=pr(t,n);return r!==" "&&!Number.isNaN(Number(r))},Cd=(t,n)=>{let r=t;for(r=Number(r).toString();r.length<n;)r=`0${r}`;return r},Dd=(t,n,r,s,a)=>{if(a.type==="day"&&a.contentType==="digit-with-letter"){const i=t.setDate(r.longestMonth,n);return t.formatByString(i,a.format)}let o=n.toString();return a.hasLeadingZerosInInput&&(o=Cd(o,a.maxLength)),di(o,s)},lg=(t,n,r,s,a,o,i,l)=>{const c=ag(s),d=s==="Home",u=s==="End",h=r.value===""||d||u,p=()=>{const g=a[r.type]({currentDate:i,format:r.format,contentType:r.contentType}),v=j=>Dd(t,j,g,o,r),m=r.type==="minutes"&&(l!=null&&l.minutesStep)?l.minutesStep:1;let w;if(h){if(r.type==="year"&&!u&&!d)return t.formatByString(t.date(void 0,n),r.format);c>0||d?w=g.minimum:w=g.maximum}else w=parseInt(pr(r.value,o),10)+c*m;return w%m!==0&&((c<0||d)&&(w+=m-(m+w)%m),(c>0||u)&&(w-=w%m)),w>g.maximum?v(g.minimum+(w-g.maximum-1)%(g.maximum-g.minimum+1)):w<g.minimum?v(g.maximum-(g.minimum-w-1)%(g.maximum-g.minimum+1)):v(w)},x=()=>{const g=wd(t,n,r.type,r.format);if(g.length===0)return r.value;if(h)return c>0||d?g[0]:g[g.length-1];const w=((g.indexOf(r.value)+c)%g.length+g.length)%g.length;return g[w]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?p():x()},ui=(t,n,r)=>{let s=t.value||t.placeholder;const a=n==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return n==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(s=Number(pr(s,r)).toString()),["input-rtl","input-ltr"].includes(n)&&t.contentType==="digit"&&!a&&s.length===1&&(s=`${s}`),n==="input-rtl"&&(s=`${s}`),s},Tl=(t,n,r,s)=>t.formatByString(t.parse(n,r),s),cg=(t,n)=>t.formatByString(t.date(void 0,"system"),n).length===4,Pd=(t,n,r,s)=>{if(n!=="digit")return!1;const a=t.date(void 0,"default");switch(r){case"year":return t.lib==="dayjs"&&s==="YY"?!0:t.formatByString(t.setYear(a,1),s).startsWith("0");case"month":return t.formatByString(t.startOfYear(a),s).length>1;case"day":return t.formatByString(t.startOfMonth(a),s).length>1;case"weekDay":return t.formatByString(t.startOfWeek(a),s).length>1;case"hours":return t.formatByString(t.setHours(a,1),s).length>1;case"minutes":return t.formatByString(t.setMinutes(a,1),s).length>1;case"seconds":return t.formatByString(t.setSeconds(a,1),s).length>1;default:throw new Error("Invalid section type")}},dg=(t,n,r)=>{const s=n.some(c=>c.type==="day"),a=[],o=[];for(let c=0;c<n.length;c+=1){const d=n[c];s&&d.type==="weekDay"||(a.push(d.format),o.push(ui(d,"non-input",r)))}const i=a.join(" "),l=o.join(" ");return t.parse(l,i)},ug=t=>t.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),hg=(t,n,r)=>{const a=t.map(o=>{const i=ui(o,r?"input-rtl":"input-ltr",n);return`${o.startSeparator}${i}${o.endSeparator}`}).join("");return r?`${a}`:a},mg=(t,n,r)=>{const s=t.date(void 0,r),a=t.endOfYear(s),o=t.endOfDay(s),{maxDaysInMonth:i,longestMonth:l}=li(t,s).reduce((c,d)=>{const u=t.getDaysInMonth(d);return u>c.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:d}:c},{maxDaysInMonth:0,longestMonth:null});return{year:({format:c})=>({minimum:0,maximum:cg(t,c)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(a)+1}),day:({currentDate:c})=>({minimum:1,maximum:c!=null&&t.isValid(c)?t.getDaysInMonth(c):i,longestMonth:l}),weekDay:({format:c,contentType:d})=>{if(d==="digit"){const u=_a(t,c).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:c})=>{const d=t.getHours(o);return pr(t.formatByString(t.endOfDay(s),c),n)!==d.toString()?{minimum:1,maximum:Number(pr(t.formatByString(t.startOfDay(s),c),n))}:{minimum:0,maximum:d}},minutes:()=>({minimum:0,maximum:t.getMinutes(o)}),seconds:()=>({minimum:0,maximum:t.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},pg=(t,n,r,s)=>{switch(n.type){case"year":return t.setYear(s,t.getYear(r));case"month":return t.setMonth(s,t.getMonth(r));case"weekDay":{const a=_a(t,n.format),o=t.formatByString(r,n.format),i=a.indexOf(o),c=a.indexOf(n.value)-i;return t.addDays(r,c)}case"day":return t.setDate(s,t.getDate(r));case"meridiem":{const a=t.getHours(r)<12,o=t.getHours(s);return a&&o>=12?t.addHours(s,-12):!a&&o<12?t.addHours(s,12):s}case"hours":return t.setHours(s,t.getHours(r));case"minutes":return t.setMinutes(s,t.getMinutes(r));case"seconds":return t.setSeconds(s,t.getSeconds(r));default:return s}},El={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Rl=(t,n,r,s,a)=>[...r].sort((o,i)=>El[o.type]-El[i.type]).reduce((o,i)=>!a||i.modified?pg(t,i,n,o):o,s),fg=()=>navigator.userAgent.toLowerCase().includes("android"),xg=(t,n)=>{const r={};if(!n)return t.forEach((c,d)=>{const u=d===0?null:d-1,h=d===t.length-1?null:d+1;r[d]={leftIndex:u,rightIndex:h}}),{neighbors:r,startIndex:0,endIndex:t.length-1};const s={},a={};let o=0,i=0,l=t.length-1;for(;l>=0;){i=t.findIndex((c,d)=>{var u;return d>=o&&((u=c.endSeparator)==null?void 0:u.includes(" "))&&c.endSeparator!==" / "}),i===-1&&(i=t.length-1);for(let c=i;c>=o;c-=1)a[c]=l,s[l]=c,l-=1;o=i+1}return t.forEach((c,d)=>{const u=a[d],h=u===0?null:s[u-1],p=u===t.length-1?null:s[u+1];r[d]={leftIndex:h,rightIndex:p}}),{neighbors:r,startIndex:s[0],endIndex:s[t.length-1]}},$o=(t,n)=>{if(t==null)return null;if(t==="all")return"all";if(typeof t=="string"){const r=n.findIndex(s=>s.type===t);return r===-1?null:r}return t},gg=(t,n)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return n.format(n.setMonth(n.date(),Number(t.value)-1),"month");const r=n.parse(t.value,t.format);return r?n.format(r,"month"):void 0}case"day":return t.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},yg=(t,n)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const r=n.parse(`01:00 ${t.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${t.format}`);return r?n.getHours(r)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const r=n.parse(t.value,t.format);return r?n.getMonth(r)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},jg=["value","referenceDate"],vt={emptyValue:null,getTodayValue:ci,getInitialReferenceValue:t=>{let{value:n,referenceDate:r}=t,s=Te(t,jg);return n!=null&&s.utils.isValid(n)?n:r??sg(s)},cleanValue:Jx,areValuesEqual:Xx,isSameError:(t,n)=>t===n,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,n)=>n==null||!t.isValid(n)?null:t.getTimezone(n),setTimezone:(t,n,r)=>r==null?null:t.setTimezone(r,n)},bg={updateReferenceValue:(t,n,r)=>n==null||!t.isValid(n)?r:n,getSectionsFromValue:(t,n,r,s)=>!t.isValid(n)&&!!r?r:s(n),getV7HiddenInputValueFromSections:ug,getV6InputValueFromSections:hg,getActiveDateManager:(t,n)=>({date:n.value,referenceDate:n.referenceValue,getSections:r=>r,getNewValuesFromNewActiveDate:r=>({value:r,referenceValue:r==null||!t.isValid(r)?n.referenceValue:r})}),parseValueStr:(t,n,r)=>r(t.trim(),n)},hi=({props:t,value:n,timezone:r,adapter:s})=>{if(n===null)return null;const{shouldDisableDate:a,shouldDisableMonth:o,shouldDisableYear:i,disablePast:l,disableFuture:c}=t,d=s.utils.date(void 0,r),u=Ht(s.utils,t.minDate,s.defaultDates.minDate),h=Ht(s.utils,t.maxDate,s.defaultDates.maxDate);switch(!0){case!s.utils.isValid(n):return"invalidDate";case!!(a&&a(n)):return"shouldDisableDate";case!!(o&&o(n)):return"shouldDisableMonth";case!!(i&&i(n)):return"shouldDisableYear";case!!(c&&s.utils.isAfterDay(n,d)):return"disableFuture";case!!(l&&s.utils.isBeforeDay(n,d)):return"disablePast";case!!(u&&s.utils.isBeforeDay(n,u)):return"minDate";case!!(h&&s.utils.isAfterDay(n,h)):return"maxDate";default:return null}};hi.valueManager=vt;const Id=({adapter:t,value:n,timezone:r,props:s})=>{if(n===null)return null;const{minTime:a,maxTime:o,minutesStep:i,shouldDisableTime:l,disableIgnoringDatePartForTimeValidation:c=!1,disablePast:d,disableFuture:u}=s,h=t.utils.date(void 0,r),p=Os(c,t.utils);switch(!0){case!t.utils.isValid(n):return"invalidDate";case!!(a&&p(a,n)):return"minTime";case!!(o&&p(n,o)):return"maxTime";case!!(u&&t.utils.isAfter(n,h)):return"disableFuture";case!!(d&&t.utils.isBefore(n,h)):return"disablePast";case!!(l&&l(n,"hours")):return"shouldDisableTime-hours";case!!(l&&l(n,"minutes")):return"shouldDisableTime-minutes";case!!(l&&l(n,"seconds")):return"shouldDisableTime-seconds";case!!(i&&t.utils.getMinutes(n)%i!==0):return"minutesStep";default:return null}};Id.valueManager=vt;const $a=({adapter:t,value:n,timezone:r,props:s})=>{const a=hi({adapter:t,value:n,timezone:r,props:s});return a!==null?a:Id({adapter:t,value:n,timezone:r,props:s})};$a.valueManager=vt;const Td=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Ed=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Rd=["minDateTime","maxDateTime"],vg=[...Td,...Ed,...Rd],Ad=t=>vg.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{}),Sg=["localeText"],Vo=f.createContext(null),mi=function(n){const{localeText:r}=n,s=Te(n,Sg),{utils:a,localeText:o}=f.useContext(Vo)??{utils:void 0,localeText:void 0},i=Fe({props:s,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:d,dateLibInstance:u,adapterLocale:h,localeText:p}=i,x=f.useMemo(()=>_({},p,o,r),[p,o,r]),g=f.useMemo(()=>{if(!c)return a||null;const w=new c({locale:h,formats:d,instance:u});if(!w.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return w},[c,h,d,u,a]),v=f.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),m=f.useMemo(()=>({utils:g,defaultDates:v,localeText:x}),[v,g,x]);return e.jsx(Vo.Provider,{value:m,children:l})},wg=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:_({},t)}}}}),kd=t=>{const{utils:n,formatKey:r,contextTranslation:s,propsTranslation:a}=t;return o=>{const i=o!==null&&n.isValid(o)?n.format(o,r):null;return(a??s)(o,n,i)}},Od={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,n,r,s)=>`Select ${t}. ${!s&&(n===null||!r.isValid(n))?"No time selected":`Selected time is ${s??r.format(n,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,n,r)=>r||t!==null&&n.isValid(t)?`Choose date, selected date is ${r??n.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,n,r)=>r||t!==null&&n.isValid(t)?`Choose time, selected time is ${r??n.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Cg=Od;wg(Od);const gr=()=>{const t=f.useContext(Vo);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=f.useMemo(()=>_({},Cg,t.localeText),[t.localeText]);return f.useMemo(()=>_({},t,{localeText:n}),[t,n])},ze=()=>gr().utils,Ns=()=>gr().defaultDates,yr=t=>{const n=ze(),r=f.useRef(void 0);return r.current===void 0&&(r.current=n.date(void 0,t)),r.current};function Nd(t){const{props:n,validator:r,value:s,timezone:a,onError:o}=t,i=gr(),l=f.useRef(r.valueManager.defaultErrorState),c=r({adapter:i,value:s,timezone:a,props:n}),d=r.valueManager.hasError(c);f.useEffect(()=>{o&&!r.valueManager.isSameError(c,l.current)&&o(c,s),l.current=c},[r,o,c,s]);const u=De(h=>r({adapter:i,value:h,timezone:a,props:n}));return{validationError:c,hasValidationError:d,getValidationErrorForNewValue:u}}const Mt=()=>gr().localeText,Dg=({utils:t,format:n})=>{let r=10,s=n,a=t.expandFormat(n);for(;a!==s;)if(s=a,a=t.expandFormat(s),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return a},Pg=({utils:t,expandedFormat:n})=>{const r=[],{start:s,end:a}=t.escapedCharacters,o=new RegExp(`(\\${s}[^\\${a}]*\\${a})+`,"g");let i=null;for(;i=o.exec(n);)r.push({start:i.index,end:o.lastIndex-1});return r},Ig=(t,n,r,s)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,"default"),s).length,format:s});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:s});case"day":return n.fieldDayPlaceholder({format:s});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:s});case"hours":return n.fieldHoursPlaceholder({format:s});case"minutes":return n.fieldMinutesPlaceholder({format:s});case"seconds":return n.fieldSecondsPlaceholder({format:s});case"meridiem":return n.fieldMeridiemPlaceholder({format:s});default:return s}},Tg=({utils:t,date:n,shouldRespectLeadingZeros:r,localeText:s,localizedDigits:a,now:o,token:i,startSeparator:l})=>{if(i==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const c=Sd(t,i),d=Pd(t,c.contentType,c.type,i),u=r?d:c.contentType==="digit",h=n!=null&&t.isValid(n);let p=h?t.formatByString(n,i):"",x=null;if(u)if(d)x=p===""?t.formatByString(o,i).length:p.length;else{if(c.maxLength==null)throw new Error(`MUI X: The token ${i} should have a 'maxDigitNumber' property on it's adapter`);x=c.maxLength,h&&(p=di(Cd(pr(p,a),x),a))}return _({},c,{format:i,maxLength:x,value:p,placeholder:Ig(t,s,c,i),hasLeadingZerosInFormat:d,hasLeadingZerosInInput:u,startSeparator:l,endSeparator:"",modified:!1})},Eg=t=>{var x;const{utils:n,expandedFormat:r,escapedParts:s}=t,a=n.date(void 0),o=[];let i="";const l=Object.keys(n.formatTokenMap).sort((g,v)=>v.length-g.length),c=/^([a-zA-Z]+)/,d=new RegExp(`^(${l.join("|")})*$`),u=new RegExp(`^(${l.join("|")})`),h=g=>s.find(v=>v.start<=g&&v.end>=g);let p=0;for(;p<r.length;){const g=h(p),v=g!=null,m=(x=c.exec(r.slice(p)))==null?void 0:x[1];if(!v&&m!=null&&d.test(m)){let w=m;for(;w.length>0;){const j=u.exec(w)[1];w=w.slice(j.length),o.push(Tg(_({},t,{now:a,token:j,startSeparator:i}))),i=""}p+=m.length}else{const w=r[p];v&&(g==null?void 0:g.start)===p||(g==null?void 0:g.end)===p||(o.length===0?i+=w:o[o.length-1].endSeparator+=w),p+=1}}return o.length===0&&i.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:i,endSeparator:"",modified:!1}),o},Rg=({isRtl:t,formatDensity:n,sections:r})=>r.map(s=>{const a=o=>{let i=o;return t&&i!==null&&i.includes(" ")&&(i=`${i}`),n==="spacious"&&["/",".","-"].includes(i)&&(i=` ${i} `),i};return s.startSeparator=a(s.startSeparator),s.endSeparator=a(s.endSeparator),s}),Al=t=>{let n=Dg(t);t.isRtl&&t.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const r=Pg(_({},t,{expandedFormat:n})),s=Eg(_({},t,{expandedFormat:n,escapedParts:r}));return Rg(_({},t,{sections:s}))},pi=({timezone:t,value:n,defaultValue:r,referenceDate:s,onChange:a,valueManager:o})=>{const i=ze(),l=f.useRef(r),c=n??l.current??o.emptyValue,d=f.useMemo(()=>o.getTimezone(i,c),[i,o,c]),u=De(g=>d==null?g:o.setTimezone(i,d,g));let h;t?h=t:d?h=d:s?h=i.getTimezone(s):h="default";const p=f.useMemo(()=>o.setTimezone(i,h,c),[o,i,h,c]),x=De((g,...v)=>{const m=u(g);a==null||a(m,...v)});return{value:p,handleValueChange:x,timezone:h}},Qr=({name:t,timezone:n,value:r,defaultValue:s,referenceDate:a,onChange:o,valueManager:i})=>{const[l,c]=cr({name:t,state:"value",controlled:r,default:s??i.emptyValue}),d=De((u,...h)=>{c(u),o==null||o(u,...h)});return pi({timezone:n,value:l,defaultValue:void 0,referenceDate:a,onChange:d,valueManager:i})},Ag=t=>{const n=ze(),r=Mt(),s=gr(),a=qt(),{valueManager:o,fieldValueManager:i,valueType:l,validator:c,internalProps:d,internalProps:{value:u,defaultValue:h,referenceDate:p,onChange:x,format:g,formatDensity:v="dense",selectedSections:m,onSelectedSectionsChange:w,shouldRespectLeadingZeros:j=!1,timezone:S,enableAccessibleFieldDOMStructure:y=!1}}=t,{timezone:E,value:D,handleValueChange:I}=pi({timezone:S,value:u,defaultValue:h,referenceDate:p,onChange:x,valueManager:o}),A=f.useMemo(()=>ig(n),[n]),z=f.useMemo(()=>mg(n,A,E),[n,A,E]),O=f.useCallback((X,me=null)=>i.getSectionsFromValue(n,X,me,ae=>Al({utils:n,localeText:r,localizedDigits:A,format:g,date:ae,formatDensity:v,shouldRespectLeadingZeros:j,enableAccessibleFieldDOMStructure:y,isRtl:a})),[i,g,r,A,a,j,n,v,y]),[F,H]=f.useState(()=>{const X=O(D),me={sections:X,value:D,referenceValue:o.emptyValue,tempValueStrAndroid:null},ae=rg(X),B=o.getInitialReferenceValue({referenceDate:p,value:D,utils:n,props:d,granularity:ae,timezone:E});return _({},me,{referenceValue:B})}),[Y,M]=cr({controlled:m,default:null,name:"useField",state:"selectedSections"}),R=X=>{M(X),w==null||w(X)},T=f.useMemo(()=>$o(Y,F.sections),[Y,F.sections]),k=T==="all"?0:T,N=({value:X,referenceValue:me,sections:ae})=>{if(H(G=>_({},G,{sections:ae,value:X,referenceValue:me,tempValueStrAndroid:null})),o.areValuesEqual(n,F.value,X))return;const B={validationError:c({adapter:s,value:X,timezone:E,props:d})};I(X,B)},W=(X,me)=>{const ae=[...F.sections];return ae[X]=_({},ae[X],{value:me,modified:!0}),ae},q=()=>{N({value:o.emptyValue,referenceValue:F.referenceValue,sections:O(o.emptyValue)})},Z=()=>{if(k==null)return;const X=F.sections[k],me=i.getActiveDateManager(n,F,X),B=me.getSections(F.sections).filter(ce=>ce.value!=="").length===(X.value===""?0:1),G=W(k,""),le=B?null:n.getInvalidDate(),ue=me.getNewValuesFromNewActiveDate(le);N(_({},ue,{sections:G}))},se=X=>{const me=(G,le)=>{const ue=n.parse(G,g);if(ue==null||!n.isValid(ue))return null;const ce=Al({utils:n,localeText:r,localizedDigits:A,format:g,date:ue,formatDensity:v,shouldRespectLeadingZeros:j,enableAccessibleFieldDOMStructure:y,isRtl:a});return Rl(n,ue,ce,le,!1)},ae=i.parseValueStr(X,F.referenceValue,me),B=i.updateReferenceValue(n,ae,F.referenceValue);N({value:ae,referenceValue:B,sections:O(ae,F.sections)})},ee=({activeSection:X,newSectionValue:me,shouldGoToNextSection:ae})=>{ae&&k<F.sections.length-1&&R(k+1);const B=i.getActiveDateManager(n,F,X),G=W(k,me),le=B.getSections(G),ue=dg(n,le,A);let ce,K;if(ue!=null&&n.isValid(ue)){const xe=Rl(n,ue,le,B.referenceDate,!0);ce=B.getNewValuesFromNewActiveDate(xe),K=!0}else ce=B.getNewValuesFromNewActiveDate(ue),K=(ue!=null&&!n.isValid(ue))!=(B.date!=null&&!n.isValid(B.date));return K?N(_({},ce,{sections:G})):H(xe=>_({},xe,ce,{sections:G,tempValueStrAndroid:null}))},te=X=>H(me=>_({},me,{tempValueStrAndroid:X}));return f.useEffect(()=>{const X=O(F.value);H(me=>_({},me,{sections:X}))},[g,n.locale,a]),f.useEffect(()=>{let X;o.areValuesEqual(n,F.value,D)?X=o.getTimezone(n,F.value)!==o.getTimezone(n,D):X=!0,X&&H(me=>_({},me,{value:D,referenceValue:i.updateReferenceValue(n,D,me.referenceValue),sections:O(D)}))},[D]),{state:F,activeSectionIndex:k,parsedSelectedSections:T,setSelectedSections:R,clearValue:q,clearActiveSection:Z,updateSectionValue:ee,updateValueFromValueStr:se,setTempAndroidValueStr:te,getSectionsFromValue:O,sectionsValueBoundaries:z,localizedDigits:A,timezone:E}},kg=5e3,Cr=t=>t.saveQuery!=null,Og=({sections:t,updateSectionValue:n,sectionsValueBoundaries:r,localizedDigits:s,setTempAndroidValueStr:a,timezone:o})=>{const i=ze(),[l,c]=f.useState(null),d=De(()=>c(null));f.useEffect(()=>{var g;l!=null&&((g=t[l.sectionIndex])==null?void 0:g.type)!==l.sectionType&&d()},[t,l,d]),f.useEffect(()=>{if(l!=null){const g=setTimeout(()=>d(),kg);return()=>{clearTimeout(g)}}return()=>{}},[l,d]);const u=({keyPressed:g,sectionIndex:v},m,w)=>{const j=g.toLowerCase(),S=t[v];if(l!=null&&(!w||w(l.value))&&l.sectionIndex===v){const E=`${l.value}${j}`,D=m(E,S);if(!Cr(D))return c({sectionIndex:v,value:E,sectionType:S.type}),D}const y=m(j,S);return Cr(y)&&!y.saveQuery?(d(),null):(c({sectionIndex:v,value:j,sectionType:S.type}),Cr(y)?null:y)},h=g=>{const v=(j,S,y)=>{const E=S.filter(D=>D.toLowerCase().startsWith(y));return E.length===0?{saveQuery:!1}:{sectionValue:E[0],shouldGoToNextSection:E.length===1}},m=(j,S,y,E)=>{const D=I=>wd(i,o,S.type,I);if(S.contentType==="letter")return v(S.format,D(S.format),j);if(y&&E!=null&&Sd(i,y).contentType==="letter"){const I=D(y),A=v(y,I,j);return Cr(A)?{saveQuery:!1}:_({},A,{sectionValue:E(A.sectionValue,I)})}return{saveQuery:!1}};return u(g,(j,S)=>{switch(S.type){case"month":{const y=E=>Tl(i,E,i.formats.month,S.format);return m(j,S,i.formats.month,y)}case"weekDay":{const y=(E,D)=>D.indexOf(E).toString();return m(j,S,i.formats.weekday,y)}case"meridiem":return m(j,S);default:return{saveQuery:!1}}})},p=g=>{const v=(w,j)=>{const S=pr(w,s),y=Number(S),E=r[j.type]({currentDate:null,format:j.format,contentType:j.contentType});if(y>E.maximum)return{saveQuery:!1};if(y<E.minimum)return{saveQuery:!0};const D=y*10>E.maximum||S.length===E.maximum.toString().length;return{sectionValue:Dd(i,y,E,s,j),shouldGoToNextSection:D}};return u(g,(w,j)=>{if(j.contentType==="digit"||j.contentType==="digit-with-letter")return v(w,j);if(j.type==="month"){Pd(i,"digit","month","MM");const S=v(w,{type:j.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Cr(S))return S;const y=Tl(i,S.sectionValue,"MM",j.format);return _({},S,{sectionValue:y})}if(j.type==="weekDay"){const S=v(w,j);if(Cr(S))return S;const y=_a(i,j.format)[Number(S.sectionValue)-1];return _({},S,{sectionValue:y})}return{saveQuery:!1}},w=>Il(w,s))};return{applyCharacterEditing:De(g=>{const v=t[g.sectionIndex],w=Il(g.keyPressed,s)?p(_({},g,{keyPressed:di(g.keyPressed,s)})):h(g);if(w==null){a(null);return}n({activeSection:v,newSectionValue:w.sectionValue,shouldGoToNextSection:w.shouldGoToNextSection})}),resetCharacterQuery:d}};function Ng(t,n){return Array.isArray(n)?n.every(r=>t.indexOf(r)!==-1):t.indexOf(n)!==-1}const Mg=(t,n)=>r=>{(r.key==="Enter"||r.key===" ")&&(t(r),r.preventDefault(),r.stopPropagation())},It=(t=document)=>{const n=t.activeElement;return n?n.shadowRoot?It(n.shadowRoot):n:null},va=t=>Array.from(t.children).indexOf(It(document)),Lg="@media (pointer: fine)",Fg=t=>{const{internalProps:{disabled:n,readOnly:r=!1},forwardedProps:{sectionListRef:s,onBlur:a,onClick:o,onFocus:i,onInput:l,onPaste:c,focused:d,autoFocus:u=!1},fieldValueManager:h,applyCharacterEditing:p,resetCharacterQuery:x,setSelectedSections:g,parsedSelectedSections:v,state:m,clearActiveSection:w,clearValue:j,updateSectionValue:S,updateValueFromValueStr:y,sectionOrder:E,areAllSectionsEmpty:D,sectionsValueBoundaries:I}=t,A=f.useRef(null),z=Ot(s,A),O=Mt(),F=ze(),H=qr(),[Y,M]=f.useState(!1),R=f.useMemo(()=>({syncSelectionToDOM:()=>{if(!A.current)return;const K=document.getSelection();if(!K)return;if(v==null){K.rangeCount>0&&A.current.getRoot().contains(K.getRangeAt(0).startContainer)&&K.removeAllRanges(),Y&&A.current.getRoot().blur();return}if(!A.current.getRoot().contains(It(document)))return;const xe=new window.Range;let ge;v==="all"?ge=A.current.getRoot():m.sections[v].type==="empty"?ge=A.current.getSectionContainer(v):ge=A.current.getSectionContent(v),xe.selectNodeContents(ge),ge.focus(),K.removeAllRanges(),K.addRange(xe)},getActiveSectionIndexFromDOM:()=>{const K=It(document);return!K||!A.current||!A.current.getRoot().contains(K)?null:A.current.getSectionIndexFromDOMElement(K)},focusField:(K=0)=>{if(!A.current||R.getActiveSectionIndexFromDOM()!=null)return;const xe=$o(K,m.sections);M(!0),A.current.getSectionContent(xe).focus()},setSelectedSections:K=>{if(!A.current)return;const xe=$o(K,m.sections);M((xe==="all"?0:xe)!==null),g(K)},isFieldFocused:()=>{const K=It(document);return!!A.current&&A.current.getRoot().contains(K)}}),[v,g,m.sections,Y]),T=De(K=>{if(!A.current)return;const xe=m.sections[K];A.current.getSectionContent(K).innerHTML=xe.value||xe.placeholder,R.syncSelectionToDOM()}),k=De((K,...xe)=>{K.isDefaultPrevented()||!A.current||(M(!0),o==null||o(K,...xe),v==="all"?setTimeout(()=>{const ge=document.getSelection().getRangeAt(0).startOffset;if(ge===0){g(E.startIndex);return}let de=0,oe=0;for(;oe<ge&&de<m.sections.length;){const he=m.sections[de];de+=1,oe+=`${he.startSeparator}${he.value||he.placeholder}${he.endSeparator}`.length}g(de-1)}):Y?A.current.getRoot().contains(K.target)||g(E.startIndex):(M(!0),g(E.startIndex)))}),N=De(K=>{if(l==null||l(K),!A.current||v!=="all")return;const ge=K.target.textContent??"";A.current.getRoot().innerHTML=m.sections.map(de=>`${de.startSeparator}${de.value||de.placeholder}${de.endSeparator}`).join(""),R.syncSelectionToDOM(),ge.length===0||ge.charCodeAt(0)===10?(x(),j(),g("all")):ge.length>1?y(ge):(v==="all"&&g(0),p({keyPressed:ge,sectionIndex:0}))}),W=De(K=>{if(c==null||c(K),r||v!=="all"){K.preventDefault();return}const xe=K.clipboardData.getData("text");K.preventDefault(),x(),y(xe)}),q=De((...K)=>{if(i==null||i(...K),Y||!A.current)return;M(!0),A.current.getSectionIndexFromDOMElement(It(document))!=null||g(E.startIndex)}),Z=De((...K)=>{a==null||a(...K),setTimeout(()=>{if(!A.current)return;const xe=It(document);!A.current.getRoot().contains(xe)&&(M(!1),g(null))})}),se=De(K=>xe=>{xe.isDefaultPrevented()||g(K)}),ee=De(K=>{K.preventDefault()}),te=De(K=>()=>{g(K)}),X=De(K=>{if(K.preventDefault(),r||n||typeof v!="number")return;const xe=m.sections[v],ge=K.clipboardData.getData("text"),de=/^[a-zA-Z]+$/.test(ge),oe=/^[0-9]+$/.test(ge),he=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ge);xe.contentType==="letter"&&de||xe.contentType==="digit"&&oe||xe.contentType==="digit-with-letter"&&he?(x(),S({activeSection:xe,newSectionValue:ge,shouldGoToNextSection:!0})):!de&&!oe&&(x(),y(ge))}),me=De(K=>{K.preventDefault(),K.dataTransfer.dropEffect="none"}),ae=De(K=>{if(!A.current)return;const xe=K.target,ge=xe.textContent??"",de=A.current.getSectionIndexFromDOMElement(xe),oe=m.sections[de];if(r||!A.current){T(de);return}if(ge.length===0){if(oe.value===""){T(de);return}const he=K.nativeEvent.inputType;if(he==="insertParagraph"||he==="insertLineBreak"){T(de);return}x(),w();return}p({keyPressed:ge,sectionIndex:de}),T(de)});Tn(()=>{if(!(!Y||!A.current)){if(v==="all")A.current.getRoot().focus();else if(typeof v=="number"){const K=A.current.getSectionContent(v);K&&K.focus()}}},[v,Y]);const B=f.useMemo(()=>m.sections.reduce((K,xe)=>(K[xe.type]=I[xe.type]({currentDate:null,contentType:xe.contentType,format:xe.format}),K),{}),[I,m.sections]),G=v==="all",le=f.useMemo(()=>m.sections.map((K,xe)=>{const ge=!G&&!n&&!r;return{container:{"data-sectionindex":xe,onClick:se(xe)},content:{tabIndex:G||xe>0?-1:0,contentEditable:!G&&!n&&!r,role:"spinbutton",id:`${H}-${K.type}`,"aria-labelledby":`${H}-${K.type}`,"aria-readonly":r,"aria-valuenow":yg(K,F),"aria-valuemin":B[K.type].minimum,"aria-valuemax":B[K.type].maximum,"aria-valuetext":K.value?gg(K,F):O.empty,"aria-label":O[K.type],"aria-disabled":n,spellCheck:ge?!1:void 0,autoCapitalize:ge?"off":void 0,autoCorrect:ge?"off":void 0,[parseInt(f.version,10)>=17?"enterKeyHint":"enterkeyhint"]:ge?"next":void 0,children:K.value||K.placeholder,onInput:ae,onPaste:X,onFocus:te(xe),onDragOver:me,onMouseUp:ee,inputMode:K.contentType==="letter"?"text":"numeric"},before:{children:K.startSeparator},after:{children:K.endSeparator}}}),[m.sections,te,X,me,ae,se,ee,n,r,G,O,F,B,H]),ue=De(K=>{y(K.target.value)}),ce=f.useMemo(()=>D?"":h.getV7HiddenInputValueFromSections(m.sections),[D,m.sections,h]);return f.useEffect(()=>{if(A.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));u&&A.current&&A.current.getSectionContent(E.startIndex).focus()},[]),{interactions:R,returnedValue:{autoFocus:u,readOnly:r,focused:d??Y,sectionListRef:z,onBlur:Z,onClick:k,onFocus:q,onInput:N,onPaste:W,enableAccessibleFieldDOMStructure:!0,elements:le,tabIndex:v===0?-1:0,contentEditable:G,value:ce,onChange:ue,areAllSectionsEmpty:D}}},Pr=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),_g=(t,n,r)=>{let s=0,a=r?1:0;const o=[];for(let i=0;i<t.length;i+=1){const l=t[i],c=ui(l,r?"input-rtl":"input-ltr",n),d=`${l.startSeparator}${c}${l.endSeparator}`,u=Pr(d).length,h=d.length,p=Pr(c),x=a+(p===""?0:c.indexOf(p[0]))+l.startSeparator.length,g=x+p.length;o.push(_({},l,{start:s,end:s+u,startInInput:x,endInInput:g})),s+=u,a+=h}return o},$g=t=>{const n=qt(),r=f.useRef(void 0),s=f.useRef(void 0),{forwardedProps:{onFocus:a,onClick:o,onPaste:i,onBlur:l,inputRef:c,placeholder:d},internalProps:{readOnly:u=!1,disabled:h=!1},parsedSelectedSections:p,activeSectionIndex:x,state:g,fieldValueManager:v,valueManager:m,applyCharacterEditing:w,resetCharacterQuery:j,updateSectionValue:S,updateValueFromValueStr:y,clearActiveSection:E,clearValue:D,setTempAndroidValueStr:I,setSelectedSections:A,getSectionsFromValue:z,areAllSectionsEmpty:O,localizedDigits:F}=t,H=f.useRef(null),Y=Ot(c,H),M=f.useMemo(()=>_g(g.sections,F,n),[g.sections,F,n]),R=f.useMemo(()=>({syncSelectionToDOM:()=>{if(!H.current)return;if(p==null){H.current.scrollLeft&&(H.current.scrollLeft=0);return}if(H.current!==It(document))return;const ae=H.current.scrollTop;if(p==="all")H.current.select();else{const B=M[p],G=B.type==="empty"?B.startInInput-B.startSeparator.length:B.startInInput,le=B.type==="empty"?B.endInInput+B.endSeparator.length:B.endInInput;(G!==H.current.selectionStart||le!==H.current.selectionEnd)&&H.current===It(document)&&H.current.setSelectionRange(G,le),clearTimeout(s.current),s.current=setTimeout(()=>{H.current&&H.current===It(document)&&H.current.selectionStart===H.current.selectionEnd&&(H.current.selectionStart!==G||H.current.selectionEnd!==le)&&R.syncSelectionToDOM()})}H.current.scrollTop=ae},getActiveSectionIndexFromDOM:()=>{const ae=H.current.selectionStart??0,B=H.current.selectionEnd??0;if(ae===0&&B===0)return null;const G=ae<=M[0].startInInput?1:M.findIndex(le=>le.startInInput-le.startSeparator.length>ae);return G===-1?M.length-1:G-1},focusField:(ae=0)=>{var B;It(document)!==H.current&&((B=H.current)==null||B.focus(),A(ae))},setSelectedSections:ae=>A(ae),isFieldFocused:()=>H.current===It(document)}),[H,p,M,A]),T=()=>{const ae=H.current.selectionStart??0;let B;ae<=M[0].startInInput||ae>=M[M.length-1].endInInput?B=1:B=M.findIndex(le=>le.startInInput-le.startSeparator.length>ae);const G=B===-1?M.length-1:B-1;A(G)},k=De((...ae)=>{a==null||a(...ae);const B=H.current;clearTimeout(r.current),r.current=setTimeout(()=>{!B||B!==H.current||x==null&&(B.value.length&&Number(B.selectionEnd)-Number(B.selectionStart)===B.value.length?A("all"):T())})}),N=De((ae,...B)=>{ae.isDefaultPrevented()||(o==null||o(ae,...B),T())}),W=De(ae=>{if(i==null||i(ae),ae.preventDefault(),u||h)return;const B=ae.clipboardData.getData("text");if(typeof p=="number"){const G=g.sections[p],le=/^[a-zA-Z]+$/.test(B),ue=/^[0-9]+$/.test(B),ce=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(B);if(G.contentType==="letter"&&le||G.contentType==="digit"&&ue||G.contentType==="digit-with-letter"&&ce){j(),S({activeSection:G,newSectionValue:B,shouldGoToNextSection:!0});return}if(le||ue)return}j(),y(B)}),q=De((...ae)=>{l==null||l(...ae),A(null)}),Z=De(ae=>{if(u)return;const B=ae.target.value;if(B===""){j(),D();return}const G=ae.nativeEvent.data,le=G&&G.length>1,ue=le?G:B,ce=Pr(ue);if(p==="all"&&A(x),x==null||le){y(le?G:ce);return}let K;if(p==="all"&&ce.length===1)K=ce;else{const xe=Pr(v.getV6InputValueFromSections(M,F,n));let ge=-1,de=-1;for(let be=0;be<xe.length;be+=1)ge===-1&&xe[be]!==ce[be]&&(ge=be),de===-1&&xe[xe.length-be-1]!==ce[ce.length-be-1]&&(de=be);const oe=M[x];if(ge<oe.start||xe.length-de-1>oe.end)return;const pe=ce.length-xe.length+oe.end-Pr(oe.endSeparator||"").length;K=ce.slice(oe.start+Pr(oe.startSeparator||"").length,pe)}if(K.length===0){fg()&&I(ue),j(),E();return}w({keyPressed:K,sectionIndex:x})}),se=f.useMemo(()=>d!==void 0?d:v.getV6InputValueFromSections(z(m.emptyValue),F,n),[d,v,z,m.emptyValue,F,n]),ee=f.useMemo(()=>g.tempValueStrAndroid??v.getV6InputValueFromSections(g.sections,F,n),[g.sections,v,g.tempValueStrAndroid,F,n]);f.useEffect(()=>(H.current&&H.current===It(document)&&A("all"),()=>{clearTimeout(r.current),clearTimeout(s.current)}),[]);const te=f.useMemo(()=>x==null||g.sections[x].contentType==="letter"?"text":"numeric",[x,g.sections]),me=!(H.current&&H.current===It(document))&&O;return{interactions:R,returnedValue:{readOnly:u,onBlur:q,onClick:N,onFocus:k,onPaste:W,inputRef:Y,enableAccessibleFieldDOMStructure:!1,placeholder:se,inputMode:te,autoComplete:"off",value:me?"":ee,onChange:Z}}},Vg=t=>{const n=ze(),{internalProps:r,internalProps:{unstableFieldRef:s,minutesStep:a,enableAccessibleFieldDOMStructure:o=!1,disabled:i=!1,readOnly:l=!1},forwardedProps:{onKeyDown:c,error:d,clearable:u,onClear:h},fieldValueManager:p,valueManager:x,validator:g}=t,v=qt(),m=Ag(t),{state:w,activeSectionIndex:j,parsedSelectedSections:S,setSelectedSections:y,clearValue:E,clearActiveSection:D,updateSectionValue:I,setTempAndroidValueStr:A,sectionsValueBoundaries:z,localizedDigits:O,timezone:F}=m,H=Og({sections:w.sections,updateSectionValue:I,sectionsValueBoundaries:z,localizedDigits:O,setTempAndroidValueStr:A,timezone:F}),{resetCharacterQuery:Y}=H,M=x.areValuesEqual(n,w.value,x.emptyValue),R=o?Fg:$g,T=f.useMemo(()=>xg(w.sections,v&&!o),[w.sections,v,o]),{returnedValue:k,interactions:N}=R(_({},t,m,H,{areAllSectionsEmpty:M,sectionOrder:T})),W=De(X=>{if(c==null||c(X),!i)switch(!0){case((X.ctrlKey||X.metaKey)&&String.fromCharCode(X.keyCode)==="A"&&!X.shiftKey&&!X.altKey):{X.preventDefault(),y("all");break}case X.key==="ArrowRight":{if(X.preventDefault(),S==null)y(T.startIndex);else if(S==="all")y(T.endIndex);else{const me=T.neighbors[S].rightIndex;me!==null&&y(me)}break}case X.key==="ArrowLeft":{if(X.preventDefault(),S==null)y(T.endIndex);else if(S==="all")y(T.startIndex);else{const me=T.neighbors[S].leftIndex;me!==null&&y(me)}break}case X.key==="Delete":{if(X.preventDefault(),l)break;S==null||S==="all"?E():D(),Y();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(X.key):{if(X.preventDefault(),l||j==null)break;S==="all"&&y(j);const me=w.sections[j],ae=p.getActiveDateManager(n,w,me),B=lg(n,F,me,X.key,z,O,ae.date,{minutesStep:a});I({activeSection:me,newSectionValue:B,shouldGoToNextSection:!1});break}}});Tn(()=>{N.syncSelectionToDOM()});const{hasValidationError:q}=Nd({props:r,validator:g,timezone:F,value:w.value,onError:r.onError}),Z=f.useMemo(()=>d!==void 0?d:q,[q,d]);f.useEffect(()=>{!Z&&j==null&&Y()},[w.referenceValue,j,Z]),f.useEffect(()=>{w.tempValueStrAndroid!=null&&j!=null&&(Y(),D())},[w.sections]),f.useImperativeHandle(s,()=>({getSections:()=>w.sections,getActiveSectionIndex:N.getActiveSectionIndexFromDOM,setSelectedSections:N.setSelectedSections,focusField:N.focusField,isFieldFocused:N.isFieldFocused}));const se=De((X,...me)=>{X.preventDefault(),h==null||h(X,...me),E(),N.isFieldFocused()?y(T.startIndex):N.focusField(0)}),ee={onKeyDown:W,onClear:se,error:Z,clearable:!!(u&&!M&&!l&&!i)},te={disabled:i,readOnly:l};return _({},t.forwardedProps,ee,te,k)},Bg=zn(e.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Wg=zn(e.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Ug=zn(e.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),zg=zn(e.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");zn(e.jsxs(f.Fragment,{children:[e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");const Hg=zn(e.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),qg=zn(e.jsxs(f.Fragment,{children:[e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),Yg=zn(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Gg=["clearable","onClear","InputProps","sx","slots","slotProps"],Kg=["ownerState"],Qg=t=>{const n=Mt(),{clearable:r,onClear:s,InputProps:a,sx:o,slots:i,slotProps:l}=t,c=Te(t,Gg),d=(i==null?void 0:i.clearButton)??Pe,u=Ve({elementType:d,externalSlotProps:l==null?void 0:l.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:n.fieldClearLabel}}),h=Te(u,Kg),p=(i==null?void 0:i.clearIcon)??Yg,x=Ve({elementType:p,externalSlotProps:l==null?void 0:l.clearIcon,ownerState:{}});return _({},c,{InputProps:_({},a,{endAdornment:e.jsxs(f.Fragment,{children:[r&&e.jsx(yn,{position:"end",sx:{marginRight:a!=null&&a.endAdornment?-1:-1.5},children:e.jsx(d,_({},h,{onClick:s,children:e.jsx(p,_({fontSize:"small"},x))}))}),a==null?void 0:a.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(o)?o:[o]]})},Jg=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],Xg=(t,n)=>f.useMemo(()=>{const r=_({},t),s={},a=o=>{r.hasOwnProperty(o)&&(s[o]=r[o],delete r[o])};return Jg.forEach(a),Td.forEach(a),Ed.forEach(a),Rd.forEach(a),{forwardedProps:r,internalProps:s}},[t,n]),Zg=f.createContext(null);function Md(t){const{contextValue:n,localeText:r,children:s}=t;return e.jsx(Zg.Provider,{value:n,children:e.jsx(mi,{localeText:r,children:s})})}const ey=t=>{const n=ze(),r=Ns(),a=t.ampm??n.is12HourCycleInCurrentLocale()?n.formats.keyboardDateTime12h:n.formats.keyboardDateTime24h;return _({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??a,disableIgnoringDatePartForTimeValidation:!!(t.minDateTime||t.maxDateTime),minDate:Ht(n,t.minDateTime??t.minDate,r.minDate),maxDate:Ht(n,t.maxDateTime??t.maxDate,r.maxDate),minTime:t.minDateTime??t.minTime,maxTime:t.maxDateTime??t.maxTime})},ty=t=>{const n=ey(t),{forwardedProps:r,internalProps:s}=Xg(n,"date-time");return Vg({forwardedProps:r,internalProps:s,valueManager:vt,fieldValueManager:bg,validator:$a,valueType:"date-time"})};function ny(t){return We("MuiPickersTextField",t)}Ue("MuiPickersTextField",["root","focused","disabled","error","required"]);function ry(t){return We("MuiPickersInputBase",t)}const Tr=Ue("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function sy(t){return We("MuiPickersSectionList",t)}const ns=Ue("MuiPickersSectionList",["root","section","sectionContent"]),ay=["slots","slotProps","elements","sectionListRef"],Ld=ye("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,n)=>n.root})({direction:"ltr /*! @noflip */",outline:"none"}),Fd=ye("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,n)=>n.section})({}),_d=ye("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,n)=>n.sectionSeparator})({whiteSpace:"pre"}),$d=ye("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,n)=>n.sectionContent})({outline:"none"}),oy=t=>{const{classes:n}=t;return _e({root:["root"],section:["section"],sectionContent:["sectionContent"]},sy,n)};function iy(t){const{slots:n,slotProps:r,element:s,classes:a}=t,o=(n==null?void 0:n.section)??Fd,i=Ve({elementType:o,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:s.container,className:a.section,ownerState:{}}),l=(n==null?void 0:n.sectionContent)??$d,c=Ve({elementType:l,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:s.content,additionalProps:{suppressContentEditableWarning:!0},className:a.sectionContent,ownerState:{}}),d=(n==null?void 0:n.sectionSeparator)??_d,u=Ve({elementType:d,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.before,ownerState:{position:"before"}}),h=Ve({elementType:d,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.after,ownerState:{position:"after"}});return e.jsxs(o,_({},i,{children:[e.jsx(d,_({},u)),e.jsx(l,_({},c)),e.jsx(d,_({},h))]}))}const ly=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersSectionList"}),{slots:a,slotProps:o,elements:i,sectionListRef:l}=s,c=Te(s,ay),d=oy(s),u=f.useRef(null),h=Ot(r,u),p=v=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${v} before the mount of the component.`);return u.current};f.useImperativeHandle(l,()=>({getRoot(){return p("getRoot")},getSectionContainer(v){return p("getSectionContainer").querySelector(`.${ns.section}[data-sectionindex="${v}"]`)},getSectionContent(v){return p("getSectionContent").querySelector(`.${ns.section}[data-sectionindex="${v}"] .${ns.sectionContent}`)},getSectionIndexFromDOMElement(v){const m=p("getSectionIndexFromDOMElement");if(v==null||!m.contains(v))return null;let w=null;return v.classList.contains(ns.section)?w=v:v.classList.contains(ns.sectionContent)&&(w=v.parentElement),w==null?null:Number(w.dataset.sectionindex)}}));const x=(a==null?void 0:a.root)??Ld,g=Ve({elementType:x,externalSlotProps:o==null?void 0:o.root,externalForwardedProps:c,additionalProps:{ref:h,suppressContentEditableWarning:!0},className:d.root,ownerState:{}});return e.jsx(x,_({},g,{children:g.contentEditable?i.map(({content:v,before:m,after:w})=>`${m.children}${v.children}${w.children}`).join(""):e.jsx(f.Fragment,{children:i.map((v,m)=>e.jsx(iy,{slots:a,slotProps:o,element:v,classes:d},m))})}))}),cy=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],dy=t=>Math.round(t*1e5)/1e5,Va=ye("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>_({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${dy(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),fi=ye(Ld,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,n)=>n.sectionsContainer})(({theme:t})=>({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:n,focused:r,filled:s,label:a})=>!n&&!r&&!s&&a==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),uy=ye(Fd,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,n)=>n.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),hy=ye($d,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,n)=>n.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),my=ye(_d,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,n)=>n.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),py=ye("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,n)=>n.hiddenInput})(_({},nh)),fy=t=>{const{focused:n,disabled:r,error:s,classes:a,fullWidth:o,readOnly:i,color:l,size:c,endAdornment:d,startAdornment:u}=t,h={root:["root",n&&!r&&"focused",r&&"disabled",i&&"readOnly",s&&"error",o&&"fullWidth",`color${th(l)}`,c==="small"&&"inputSizeSmall",!!u&&"adornedStart",!!d&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return _e(h,ry,a)},xi=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersInputBase"}),{elements:a,areAllSectionsEmpty:o,value:i,onChange:l,id:c,endAdornment:d,startAdornment:u,renderSuffix:h,slots:p,slotProps:x,contentEditable:g,tabIndex:v,onInput:m,onPaste:w,onKeyDown:j,name:S,readOnly:y,inputProps:E,inputRef:D,sectionListRef:I}=s,A=Te(s,cy),z=f.useRef(null),O=Ot(r,z),F=Ot(E==null?void 0:E.ref,D),H=qt(),Y=Da();if(!Y)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const M=q=>{var Z;if(Y.disabled){q.stopPropagation();return}(Z=Y.onFocus)==null||Z.call(Y,q)};f.useEffect(()=>{Y&&Y.setAdornedStart(!!u)},[Y,u]),f.useEffect(()=>{Y&&(o?Y.onEmpty():Y.onFilled())},[Y,o]);const R=_({},s,Y,{isRtl:H}),T=fy(R),k=(p==null?void 0:p.root)||Va,N=Ve({elementType:k,externalSlotProps:x==null?void 0:x.root,externalForwardedProps:A,additionalProps:{"aria-invalid":Y.error,ref:O},className:T.root,ownerState:R}),W=(p==null?void 0:p.input)||fi;return e.jsxs(k,_({},N,{children:[u,e.jsx(ly,{sectionListRef:I,elements:a,contentEditable:g,tabIndex:v,className:T.sectionsContainer,onFocus:M,onBlur:Y.onBlur,onInput:m,onPaste:w,onKeyDown:j,slots:{root:W,section:uy,sectionContent:hy,sectionSeparator:my},slotProps:{root:{ownerState:R},sectionContent:{className:Tr.sectionContent},sectionSeparator:({position:q})=>({className:q==="before"?Tr.sectionBefore:Tr.sectionAfter})}}),d,h?h(_({},Y)):null,e.jsx(py,_({name:S,className:T.input,value:i,onChange:l,id:c,"aria-hidden":"true",tabIndex:-1,readOnly:y,required:Y.required,disabled:Y.disabled},E,{ref:F}))]}))});function xy(t){return We("MuiPickersOutlinedInput",t)}const Jt=_({},Tr,Ue("MuiPickersOutlinedInput",["root","notchedOutline","input"])),gy=["children","className","label","notched","shrink"],yy=ye("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,n)=>n.notchedOutline})(({theme:t})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),kl=ye("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),jy=ye("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function by(t){const{className:n,label:r}=t,s=Te(t,gy),a=r!=null&&r!=="",o=_({},t,{withLabel:a});return e.jsx(yy,_({"aria-hidden":!0,className:n},s,{ownerState:o,children:e.jsx(jy,{ownerState:o,children:a?e.jsx(kl,{children:r}):e.jsx(kl,{className:"notranslate",children:""})})}))}const vy=["label","autoFocus","ownerState","notched"],Sy=ye(Va,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Jt.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Jt.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Jt.focused} .${Jt.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Jt.disabled}`]:{[`& .${Jt.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${Jt.error} .${Jt.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(r=>{var s;return((s=(t.vars??t).palette[r])==null?void 0:s.main)??!1}).map(r=>({props:{color:r},style:{[`&.${Jt.focused}:not(.${Jt.error}) .${Jt.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}}))}}),wy=ye(fi,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,n)=>n.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),Cy=t=>{const{classes:n}=t,s=_e({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},xy,n);return _({},n,s)},Vd=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersOutlinedInput"}),{label:a,ownerState:o,notched:i}=s,l=Te(s,vy),c=Da(),d=_({},s,o,c,{color:(c==null?void 0:c.color)||"primary"}),u=Cy(d);return e.jsx(xi,_({slots:{root:Sy,input:wy},renderSuffix:h=>e.jsx(by,{shrink:!!(i||h.adornedStart||h.focused||h.filled),notched:!!(i||h.adornedStart||h.focused||h.filled),className:u.notchedOutline,label:a!=null&&a!==""&&(c!=null&&c.required)?e.jsxs(f.Fragment,{children:[a,"","*"]}):a,ownerState:d})},l,{label:a,classes:u,ref:r}))});Vd.muiName="Input";function Dy(t){return We("MuiPickersFilledInput",t)}const Gn=_({},Tr,Ue("MuiPickersFilledInput",["root","underline","input"])),Py=["label","autoFocus","disableUnderline","ownerState"],Iy=ye(Va,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,n)=>n.root,shouldForwardProp:t=>rh(t)&&t!=="disableUnderline"})(({theme:t})=>{const n=t.palette.mode==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Gn.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Gn.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[...Object.keys((t.vars??t).palette).filter(i=>(t.vars??t).palette[i].main).map(i=>{var l;return{props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(l=(t.vars||t).palette[i])==null?void 0:l.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gn.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gn.disabled}, .${Gn.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Gn.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:i})=>!!i,style:{paddingLeft:12}},{props:({endAdornment:i})=>!!i,style:{paddingRight:12}}]}}),Ty=ye(fi,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,n)=>n.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Ey=t=>{const{classes:n,disableUnderline:r}=t,a=_e({root:["root",!r&&"underline"],input:["input"]},Dy,n);return _({},n,a)},Bd=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersFilledInput"}),{label:a,disableUnderline:o=!1,ownerState:i}=s,l=Te(s,Py),c=Da(),d=_({},s,i,c,{color:(c==null?void 0:c.color)||"primary"}),u=Ey(d);return e.jsx(xi,_({slots:{root:Iy,input:Ty},slotProps:{root:{disableUnderline:o}}},l,{label:a,classes:u,ref:r}))});Bd.muiName="Input";function Ry(t){return We("MuiPickersFilledInput",t)}const rs=_({},Tr,Ue("MuiPickersInput",["root","input"])),Ay=["label","autoFocus","disableUnderline","ownerState"],ky=ye(Va,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(s=>(t.vars??t).palette[s].main).map(s=>({props:{color:s},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${rs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${rs.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${rs.disabled}, .${rs.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${rs.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),Oy=t=>{const{classes:n,disableUnderline:r}=t,a=_e({root:["root",!r&&"underline"],input:["input"]},Ry,n);return _({},n,a)},Wd=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersInput"}),{label:a,disableUnderline:o=!1,ownerState:i}=s,l=Te(s,Ay),c=Da(),d=_({},s,i,c,{disableUnderline:o,color:(c==null?void 0:c.color)||"primary"}),u=Oy(d);return e.jsx(xi,_({slots:{root:ky}},l,{label:a,classes:u,ref:r}))});Wd.muiName="Input";const Ny=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],My={standard:Wd,filled:Bd,outlined:Vd},Ly=ye(fn,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,n)=>n.root})({maxWidth:"100%"}),Fy=t=>{const{focused:n,disabled:r,classes:s,required:a}=t;return _e({root:["root",n&&!r&&"focused",r&&"disabled",a&&"required"]},ny,s)},_y=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersTextField"}),{onFocus:a,onBlur:o,className:i,color:l="primary",disabled:c=!1,error:d=!1,variant:u="outlined",required:h=!1,InputProps:p,inputProps:x,inputRef:g,sectionListRef:v,elements:m,areAllSectionsEmpty:w,onClick:j,onKeyDown:S,onKeyUp:y,onPaste:E,onInput:D,endAdornment:I,startAdornment:A,tabIndex:z,contentEditable:O,focused:F,value:H,onChange:Y,fullWidth:M,id:R,name:T,helperText:k,FormHelperTextProps:N,label:W,InputLabelProps:q}=s,Z=Te(s,Ny),se=f.useRef(null),ee=Ot(r,se),te=qr(R),X=k&&te?`${te}-helper-text`:void 0,me=W&&te?`${te}-label`:void 0,ae=_({},s,{color:l,disabled:c,error:d,focused:F,required:h,variant:u}),B=Fy(ae),G=My[u];return e.jsxs(Ly,_({className:$e(B.root,i),ref:ee,focused:F,onFocus:a,onBlur:o,disabled:c,variant:u,error:d,color:l,fullWidth:M,required:h,ownerState:ae},Z,{children:[e.jsx(xn,_({htmlFor:te,id:me},q,{children:W})),e.jsx(G,_({elements:m,areAllSectionsEmpty:w,onClick:j,onKeyDown:S,onKeyUp:y,onInput:D,onPaste:E,endAdornment:I,startAdornment:A,tabIndex:z,contentEditable:O,value:H,onChange:Y,id:te,fullWidth:M,inputProps:x,inputRef:g,sectionListRef:v,label:W,name:T,role:"group","aria-labelledby":me,"aria-describedby":X,"aria-live":X?"polite":void 0},p)),k&&e.jsx(jo,_({id:X},N,{children:k}))]}))}),$y=["enableAccessibleFieldDOMStructure"],Vy=["InputProps","readOnly"],By=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],Wy=t=>{let{enableAccessibleFieldDOMStructure:n}=t,r=Te(t,$y);if(n){const{InputProps:h,readOnly:p}=r,x=Te(r,Vy);return _({},x,{InputProps:_({},h??{},{readOnly:p})})}const{onPaste:s,onKeyDown:a,inputMode:o,readOnly:i,InputProps:l,inputProps:c,inputRef:d}=r,u=Te(r,By);return _({},u,{InputProps:_({},l??{},{readOnly:i}),inputProps:_({},c??{},{inputMode:o,onPaste:s,onKeyDown:a,ref:d})})},Uy=["slots","slotProps","InputProps","inputProps"],Ud=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiDateTimeField"}),{slots:a,slotProps:o,InputProps:i,inputProps:l}=s,c=Te(s,Uy),d=s,u=(a==null?void 0:a.textField)??(n.enableAccessibleFieldDOMStructure?_y:U),h=Ve({elementType:u,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:c,ownerState:d,additionalProps:{ref:r}});h.inputProps=_({},l,h.inputProps),h.InputProps=_({},i,h.InputProps);const p=ty(h),x=Wy(p),g=Qg(_({},x,{slots:a,slotProps:o}));return e.jsx(u,_({},g))});function zy(t){return We("MuiDateTimePickerTabs",t)}Ue("MuiDateTimePickerTabs",["root"]);const Hy=t=>Wr(t)?"date":"time",qy=t=>t==="date"?"day":"hours",Yy=t=>{const{classes:n}=t;return _e({root:["root"]},zy,n)},Gy=ye(Yr,{name:"MuiDateTimePickerTabs",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>({boxShadow:`0 -1px 0 0 inset ${(t.vars||t).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(t.vars||t).palette.divider}`,[`& .${sh.indicator}`]:{bottom:"auto",top:0}}})),Ky=function(n){const r=Fe({props:n,name:"MuiDateTimePickerTabs"}),{dateIcon:s=e.jsx(Hg,{}),onViewChange:a,timeIcon:o=e.jsx(qg,{}),view:i,hidden:l=typeof window>"u"||window.innerHeight<667,className:c,sx:d}=r,u=Mt(),h=Yy(r),p=(x,g)=>{a(qy(g))};return l?null:e.jsxs(Gy,{ownerState:r,variant:"fullWidth",value:Hy(i),onChange:p,className:$e(c,h.root),sx:d,children:[e.jsx(ft,{value:"date","aria-label":u.dateTableLabel,icon:e.jsx(f.Fragment,{children:s})}),e.jsx(ft,{value:"time","aria-label":u.timeTableLabel,icon:e.jsx(f.Fragment,{children:o})})]})};function Qy(t){return We("MuiPickersToolbarText",t)}const Bo=Ue("MuiPickersToolbarText",["root","selected"]),Jy=["className","selected","value"],Xy=t=>{const{classes:n,selected:r}=t;return _e({root:["root",r&&"selected"]},Qy,n)},Zy=ye(b,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(t,n)=>[n.root,{[`&.${Bo.selected}`]:n.selected}]})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,[`&.${Bo.selected}`]:{color:(t.vars||t).palette.text.primary}})),zd=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersToolbarText"}),{className:a,value:o}=s,i=Te(s,Jy),l=Xy(s);return e.jsx(Zy,_({ref:r,className:$e(l.root,a),component:"span"},i,{children:o}))});function Hd(t){return We("MuiPickersToolbar",t)}const ej=Ue("MuiPickersToolbar",["root","content"]),tj=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],nj=t=>{const{classes:n}=t;return _e({root:["root"],content:["content"]},Hd,n)},rj=ye("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),sj=ye("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,n)=>n.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),aj=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersToolbar"}),{children:a,className:o,toolbarTitle:i,hidden:l,titleId:c}=s,d=Te(s,tj),u=s,h=nj(u);return l?null:e.jsxs(rj,_({ref:r,className:$e(h.root,o),ownerState:u},d,{children:[e.jsx(b,{color:"text.secondary",variant:"overline",id:c,children:i}),e.jsx(sj,{className:h.content,ownerState:u,children:a})]}))}),oj=["align","className","selected","typographyClassName","value","variant","width"],ij=t=>{const{classes:n}=t;return _e({root:["root"]},Hd,n)},lj=ye(re,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(t,n)=>n.root})({padding:0,minWidth:16,textTransform:"none"}),Nn=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersToolbarButton"}),{align:a,className:o,selected:i,typographyClassName:l,value:c,variant:d,width:u}=s,h=Te(s,oj),p=ij(s);return e.jsx(lj,_({variant:"text",ref:r,className:$e(p.root,o)},u?{sx:{width:u}}:{},h,{children:e.jsx(zd,{align:a,className:l,variant:d,value:c,selected:i})}))});function cj(t){return We("MuiDateTimePickerToolbar",t)}const ho=Ue("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]);function dj(t,{disableFuture:n,maxDate:r,timezone:s}){const a=ze();return f.useMemo(()=>{const o=a.date(void 0,s),i=a.startOfMonth(n&&a.isBefore(o,r)?o:r);return!a.isAfter(i,t)},[n,r,t,a,s])}function uj(t,{disablePast:n,minDate:r,timezone:s}){const a=ze();return f.useMemo(()=>{const o=a.date(void 0,s),i=a.startOfMonth(n&&a.isAfter(o,r)?o:r);return!a.isBefore(i,t)},[n,r,t,a,s])}function gi(t,n,r,s){const a=ze(),o=tg(t,a),i=f.useCallback(l=>{const c=t==null?null:ng(t,l,!!n,a);r(c,s??"partial")},[n,t,r,s,a]);return{meridiemMode:o,handleMeridiemChange:i}}const Ss=36,Ba=2,Wa=320,hj=280,Ua=336,qd=232,ds=48,mj=["ampm","ampmInClock","value","onChange","view","isLandscape","onViewChange","toolbarFormat","toolbarPlaceholder","views","disabled","readOnly","toolbarVariant","toolbarTitle","className"],pj=t=>{const{classes:n,isLandscape:r,isRtl:s}=t;return _e({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",s&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",s&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",r&&"ampmLandscape"],ampmLabel:["ampmLabel"]},cj,n)},fj=ye(aj,{name:"MuiDateTimePickerToolbar",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,[`& .${ej.content} .${Bo.selected}`]:{color:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",isLandscape:!0},style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{paddingLeft:24,paddingRight:0}}]})),xj=ye("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer",overridesResolver:(t,n)=>n.dateContainer})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),gj=ye("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",overridesResolver:(t,n)=>n.timeContainer})({display:"flex",flexDirection:"row",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({isLandscape:t,toolbarVariant:n})=>t&&n!=="desktop",style:{flexDirection:"column"}},{props:({isLandscape:t,toolbarVariant:n,isRtl:r})=>t&&n!=="desktop"&&r,style:{flexDirection:"column-reverse"}}]}),yj=ye("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",overridesResolver:(t,n)=>n.timeDigitsContainer})({display:"flex",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),Ol=ye(zd,{name:"MuiDateTimePickerToolbar",slot:"Separator",overridesResolver:(t,n)=>n.separator})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),jj=ye("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,n)=>[{[`.${ho.ampmLabel}`]:n.ampmLabel},{[`&.${ho.ampmLandscape}`]:n.ampmLandscape},n.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${ho.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]});function bj(t){const n=Fe({props:t,name:"MuiDateTimePickerToolbar"}),{ampm:r,ampmInClock:s,value:a,onChange:o,view:i,isLandscape:l,onViewChange:c,toolbarFormat:d,toolbarPlaceholder:u="",views:h,disabled:p,readOnly:x,toolbarVariant:g="mobile",toolbarTitle:v,className:m}=n,w=Te(n,mj),j=qt(),S=_({},n,{isRtl:j}),y=ze(),{meridiemMode:E,handleMeridiemChange:D}=gi(a,r,o),I=!!(r&&!s),A=g==="desktop",z=Mt(),O=pj(S),F=v??z.dateTimePickerToolbarTitle,H=M=>r?y.format(M,"hours12h"):y.format(M,"hours24h"),Y=f.useMemo(()=>a?d?y.formatByString(a,d):y.format(a,"shortDate"):u,[a,d,u,y]);return e.jsxs(fj,_({isLandscape:l,className:$e(O.root,m),toolbarTitle:F},w,{ownerState:S,children:[e.jsxs(xj,{className:O.dateContainer,ownerState:S,children:[h.includes("year")&&e.jsx(Nn,{tabIndex:-1,variant:"subtitle1",onClick:()=>c("year"),selected:i==="year",value:a?y.format(a,"year"):""}),h.includes("day")&&e.jsx(Nn,{tabIndex:-1,variant:A?"h5":"h4",onClick:()=>c("day"),selected:i==="day",value:Y})]}),e.jsxs(gj,{className:O.timeContainer,ownerState:S,children:[e.jsxs(yj,{className:O.timeDigitsContainer,ownerState:S,children:[h.includes("hours")&&e.jsxs(f.Fragment,{children:[e.jsx(Nn,{variant:A?"h5":"h3",width:A&&!l?ds:void 0,onClick:()=>c("hours"),selected:i==="hours",value:a?H(a):"--"}),e.jsx(Ol,{variant:A?"h5":"h3",value:":",className:O.separator,ownerState:S}),e.jsx(Nn,{variant:A?"h5":"h3",width:A&&!l?ds:void 0,onClick:()=>c("minutes"),selected:i==="minutes"||!h.includes("minutes")&&i==="hours",value:a?y.format(a,"minutes"):"--",disabled:!h.includes("minutes")})]}),h.includes("seconds")&&e.jsxs(f.Fragment,{children:[e.jsx(Ol,{variant:A?"h5":"h3",value:":",className:O.separator,ownerState:S}),e.jsx(Nn,{variant:A?"h5":"h3",width:A&&!l?ds:void 0,onClick:()=>c("seconds"),selected:i==="seconds",value:a?y.format(a,"seconds"):"--"})]})]}),I&&!A&&e.jsxs(jj,{className:O.ampmSelection,ownerState:S,children:[e.jsx(Nn,{variant:"subtitle2",selected:E==="am",typographyClassName:O.ampmLabel,value:wn(y,"am"),onClick:x?void 0:()=>D("am"),disabled:p}),e.jsx(Nn,{variant:"subtitle2",selected:E==="pm",typographyClassName:O.ampmLabel,value:wn(y,"pm"),onClick:x?void 0:()=>D("pm"),disabled:p})]}),r&&A&&e.jsx(Nn,{variant:"h5",onClick:()=>c("meridiem"),selected:i==="meridiem",value:a&&E?wn(y,E):"--",width:ds})]})]}))}function Yd(t,n){var l;const r=ze(),s=Ns(),a=Fe({props:t,name:n}),o=a.ampm??r.is12HourCycleInCurrentLocale(),i=f.useMemo(()=>{var c;return((c=a.localeText)==null?void 0:c.toolbarTitle)==null?a.localeText:_({},a.localeText,{dateTimePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return _({},a,Qx({views:a.views,openTo:a.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{ampm:o,localeText:i,orientation:a.orientation??"portrait",disableIgnoringDatePartForTimeValidation:a.disableIgnoringDatePartForTimeValidation??!!(a.minDateTime||a.maxDateTime||a.disablePast||a.disableFuture),disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:Ht(r,a.minDateTime??a.minDate,s.minDate),maxDate:Ht(r,a.maxDateTime??a.maxDate,s.maxDate),minTime:a.minDateTime??a.minTime,maxTime:a.maxDateTime??a.maxTime,slots:_({toolbar:bj,tabs:Ky},a.slots),slotProps:_({},a.slotProps,{toolbar:_({ampm:o},(l=a.slotProps)==null?void 0:l.toolbar)})})}const Gd=({shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:a,disableFuture:o,disablePast:i,timezone:l})=>{const c=gr();return f.useCallback(d=>hi({adapter:c,value:d,timezone:l,props:{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:a,disableFuture:o,disablePast:i}})!==null,[c,t,n,r,s,a,o,i,l])},vj=(t,n,r)=>(s,a)=>{switch(a.type){case"changeMonth":return _({},s,{slideDirection:a.direction,currentMonth:a.newMonth,isMonthSwitchingAnimating:!t});case"changeMonthTimezone":{const o=a.newTimezone;if(r.getTimezone(s.currentMonth)===o)return s;let i=r.setTimezone(s.currentMonth,o);return r.getMonth(i)!==r.getMonth(s.currentMonth)&&(i=r.setMonth(i,r.getMonth(s.currentMonth))),_({},s,{currentMonth:i})}case"finishMonthSwitchingAnimation":return _({},s,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(s.focusedDay!=null&&a.focusedDay!=null&&r.isSameDay(a.focusedDay,s.focusedDay))return s;const o=a.focusedDay!=null&&!n&&!r.isSameMonth(s.currentMonth,a.focusedDay);return _({},s,{focusedDay:a.focusedDay,isMonthSwitchingAnimating:o&&!t&&!a.withoutMonthSwitchingAnimation,currentMonth:o?r.startOfMonth(a.focusedDay):s.currentMonth,slideDirection:a.focusedDay!=null&&r.isAfterDay(a.focusedDay,s.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Sj=t=>{const{value:n,referenceDate:r,disableFuture:s,disablePast:a,disableSwitchToMonthOnDayFocus:o=!1,maxDate:i,minDate:l,onMonthChange:c,reduceAnimations:d,shouldDisableDate:u,timezone:h}=t,p=ze(),x=f.useRef(vj(!!d,o,p)).current,g=f.useMemo(()=>vt.getInitialReferenceValue({value:n,utils:p,timezone:h,props:t,referenceDate:r,granularity:nn.day}),[r,h]),[v,m]=f.useReducer(x,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:p.startOfMonth(g),slideDirection:"left"});f.useEffect(()=>{m({type:"changeMonthTimezone",newTimezone:p.getTimezone(g)})},[g,p]);const w=f.useCallback(D=>{m(_({type:"changeMonth"},D)),c&&c(D.newMonth)},[c]),j=f.useCallback(D=>{const I=D;p.isSameMonth(I,v.currentMonth)||w({newMonth:p.startOfMonth(I),direction:p.isAfterDay(I,v.currentMonth)?"left":"right"})},[v.currentMonth,w,p]),S=Gd({shouldDisableDate:u,minDate:l,maxDate:i,disableFuture:s,disablePast:a,timezone:h}),y=f.useCallback(()=>{m({type:"finishMonthSwitchingAnimation"})},[]),E=De((D,I)=>{S(D)||m({type:"changeFocusedDay",focusedDay:D,withoutMonthSwitchingAnimation:I})});return{referenceDate:g,calendarState:v,changeMonth:j,changeFocusedDay:E,isDateDisabled:S,onMonthSwitchingAnimationEnd:y,handleChangeMonth:w}},wj=t=>We("MuiPickersFadeTransitionGroup",t);Ue("MuiPickersFadeTransitionGroup",["root"]);const Cj=t=>{const{classes:n}=t;return _e({root:["root"]},wj,n)},Dj=ye(Cc,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,n)=>n.root})({display:"block",position:"relative"});function Kd(t){const n=Fe({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:r,className:s,reduceAnimations:a,transKey:o}=n,i=Cj(n),l=Go();return a?r:e.jsx(Dj,{className:$e(i.root,s),children:e.jsx(Pa,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:r},o)})}function Pj(t){return We("MuiPickersDay",t)}const Kn=Ue("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Ij=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Tj=t=>{const{selected:n,disableMargin:r,disableHighlightToday:s,today:a,disabled:o,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:l,classes:c}=t,d=i&&!l;return _e({root:["root",n&&!d&&"selected",o&&"disabled",!r&&"dayWithMargin",!s&&a&&"today",i&&l&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Pj,c)},Qd=({theme:t})=>_({},t.typography.caption,{width:Ss,height:Ss,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:gn(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:gn(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Kn.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Kn.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Kn.disabled}:not(.${Kn.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Kn.disabled}&.${Kn.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Ba}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Kn.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),Jd=(t,n)=>{const{ownerState:r}=t;return[n.root,!r.disableMargin&&n.dayWithMargin,!r.disableHighlightToday&&r.today&&n.today,!r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,r.outsideCurrentMonth&&!r.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},Ej=ye(ah,{name:"MuiPickersDay",slot:"Root",overridesResolver:Jd})(Qd),Rj=ye("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Jd})(({theme:t})=>_({},Qd({theme:t}),{opacity:0,pointerEvents:"none"})),ss=()=>{},Aj=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersDay"}),{autoFocus:a=!1,className:o,day:i,disabled:l=!1,disableHighlightToday:c=!1,disableMargin:d=!1,isAnimating:u,onClick:h,onDaySelect:p,onFocus:x=ss,onBlur:g=ss,onKeyDown:v=ss,onMouseDown:m=ss,onMouseEnter:w=ss,outsideCurrentMonth:j,selected:S=!1,showDaysOutsideCurrentMonth:y=!1,children:E,today:D=!1}=s,I=Te(s,Ij),A=_({},s,{autoFocus:a,disabled:l,disableHighlightToday:c,disableMargin:d,selected:S,showDaysOutsideCurrentMonth:y,today:D}),z=Tj(A),O=ze(),F=f.useRef(null),H=Ot(F,r);Tn(()=>{a&&!l&&!u&&!j&&F.current.focus()},[a,l,u,j]);const Y=R=>{m(R),j&&R.preventDefault()},M=R=>{l||p(i),j&&R.currentTarget.focus(),h&&h(R)};return j&&!y?e.jsx(Rj,{className:$e(z.root,z.hiddenDaySpacingFiller,o),ownerState:A,role:I.role}):e.jsx(Ej,_({className:$e(z.root,o),ref:H,centerRipple:!0,disabled:l,tabIndex:S?0:-1,onKeyDown:R=>v(R,i),onFocus:R=>x(R,i),onBlur:R=>g(R,i),onMouseEnter:R=>w(R,i),onClick:M,onMouseDown:Y},I,{ownerState:A,children:E||O.format(i,"dayOfMonth")}))}),kj=f.memo(Aj),Oj=t=>We("MuiPickersSlideTransition",t),Ut=Ue("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Nj=["children","className","reduceAnimations","slideDirection","transKey","classes"],Mj=t=>{const{classes:n,slideDirection:r}=t,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return _e(s,Oj,n)},Lj=ye(Cc,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,n)=>[n.root,{[`.${Ut["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${Ut["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${Ut.slideEnterActive}`]:n.slideEnterActive},{[`.${Ut.slideExit}`]:n.slideExit},{[`.${Ut["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${Ut["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:t})=>{const n=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ut["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ut["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ut.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${Ut.slideExit}`]:{transform:"translate(0%)"},[`& .${Ut["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${Ut["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function Fj(t){const n=Fe({props:t,name:"MuiPickersSlideTransition"}),{children:r,className:s,reduceAnimations:a,transKey:o}=n,i=Te(n,Nj),l=Mj(n),c=Go();if(a)return e.jsx("div",{className:$e(l.root,s),children:r});const d={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return e.jsx(Lj,{className:$e(l.root,s),childFactory:u=>f.cloneElement(u,{classNames:d}),role:"presentation",children:e.jsx(oh,_({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:d},i,{children:r}),o)})}const _j=t=>We("MuiDayCalendar",t);Ue("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const $j=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Vj=["ownerState"],Bj=t=>{const{classes:n}=t;return _e({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},_j,n)},Xd=(Ss+Ba*2)*6,Wj=ye("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,n)=>n.root})({}),Uj=ye("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,n)=>n.header})({display:"flex",justifyContent:"center",alignItems:"center"}),zj=ye(b,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,n)=>n.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),Hj=ye(b,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,n)=>n.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),qj=ye(b,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,n)=>n.weekNumber})(({theme:t})=>_({},t.typography.caption,{width:Ss,height:Ss,padding:0,margin:`0 ${Ba}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Yj=ye("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,n)=>n.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Xd}),Gj=ye(Fj,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,n)=>n.slideTransition})({minHeight:Xd}),Kj=ye("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,n)=>n.monthContainer})({overflow:"hidden"}),Qj=ye("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,n)=>n.weekContainer})({margin:`${Ba}px 0`,display:"flex",justifyContent:"center"});function Jj(t){let{parentProps:n,day:r,focusableDay:s,selectedDays:a,isDateDisabled:o,currentMonthNumber:i,isViewFocused:l}=t,c=Te(t,$j);const{disabled:d,disableHighlightToday:u,isMonthSwitchingAnimating:h,showDaysOutsideCurrentMonth:p,slots:x,slotProps:g,timezone:v}=n,m=ze(),w=yr(v),j=s!==null&&m.isSameDay(r,s),S=a.some(H=>m.isSameDay(H,r)),y=m.isSameDay(r,w),E=(x==null?void 0:x.day)??kj,D=Ve({elementType:E,externalSlotProps:g==null?void 0:g.day,additionalProps:_({disableHighlightToday:u,showDaysOutsideCurrentMonth:p,role:"gridcell",isAnimating:h,"data-timestamp":m.toJsDate(r).valueOf()},c),ownerState:_({},n,{day:r,selected:S})}),I=Te(D,Vj),A=f.useMemo(()=>d||o(r),[d,o,r]),z=f.useMemo(()=>m.getMonth(r)!==i,[m,r,i]),O=f.useMemo(()=>{const H=m.startOfMonth(m.setMonth(r,i));return p?m.isSameDay(r,m.startOfWeek(H)):m.isSameDay(r,H)},[i,r,p,m]),F=f.useMemo(()=>{const H=m.endOfMonth(m.setMonth(r,i));return p?m.isSameDay(r,m.endOfWeek(H)):m.isSameDay(r,H)},[i,r,p,m]);return e.jsx(E,_({},I,{day:r,disabled:A,autoFocus:l&&j,today:y,outsideCurrentMonth:z,isFirstVisibleCell:O,isLastVisibleCell:F,selected:S,tabIndex:j?0:-1,"aria-selected":S,"aria-current":y?"date":void 0}))}function Xj(t){const n=Fe({props:t,name:"MuiDayCalendar"}),r=ze(),{onFocusedDayChange:s,className:a,currentMonth:o,selectedDays:i,focusedDay:l,loading:c,onSelectedDaysChange:d,onMonthSwitchingAnimationEnd:u,readOnly:h,reduceAnimations:p,renderLoading:x=()=>e.jsx("span",{children:"..."}),slideDirection:g,TransitionProps:v,disablePast:m,disableFuture:w,minDate:j,maxDate:S,shouldDisableDate:y,shouldDisableMonth:E,shouldDisableYear:D,dayOfWeekFormatter:I=de=>r.format(de,"weekdayShort").charAt(0).toUpperCase(),hasFocus:A,onFocusedViewChange:z,gridLabelId:O,displayWeekNumber:F,fixedWeekNumber:H,autoFocus:Y,timezone:M}=n,R=yr(M),T=Bj(n),k=qt(),N=Gd({shouldDisableDate:y,shouldDisableMonth:E,shouldDisableYear:D,minDate:j,maxDate:S,disablePast:m,disableFuture:w,timezone:M}),W=Mt(),[q,Z]=cr({name:"DayCalendar",state:"hasFocus",controlled:A,default:Y??!1}),[se,ee]=f.useState(()=>l||R),te=De(de=>{h||d(de)}),X=de=>{N(de)||(s(de),ee(de),z==null||z(!0),Z(!0))},me=De((de,oe)=>{switch(de.key){case"ArrowUp":X(r.addDays(oe,-7)),de.preventDefault();break;case"ArrowDown":X(r.addDays(oe,7)),de.preventDefault();break;case"ArrowLeft":{const he=r.addDays(oe,k?1:-1),pe=r.addMonths(oe,k?1:-1),be=ms({utils:r,date:he,minDate:k?he:r.startOfMonth(pe),maxDate:k?r.endOfMonth(pe):he,isDateDisabled:N,timezone:M});X(be||he),de.preventDefault();break}case"ArrowRight":{const he=r.addDays(oe,k?-1:1),pe=r.addMonths(oe,k?-1:1),be=ms({utils:r,date:he,minDate:k?r.startOfMonth(pe):he,maxDate:k?he:r.endOfMonth(pe),isDateDisabled:N,timezone:M});X(be||he),de.preventDefault();break}case"Home":X(r.startOfWeek(oe)),de.preventDefault();break;case"End":X(r.endOfWeek(oe)),de.preventDefault();break;case"PageUp":X(r.addMonths(oe,1)),de.preventDefault();break;case"PageDown":X(r.addMonths(oe,-1)),de.preventDefault();break}}),ae=De((de,oe)=>X(oe)),B=De((de,oe)=>{q&&r.isSameDay(se,oe)&&(z==null||z(!1))}),G=r.getMonth(o),le=r.getYear(o),ue=f.useMemo(()=>i.filter(de=>!!de).map(de=>r.startOfDay(de)),[r,i]),ce=`${le}-${G}`,K=f.useMemo(()=>f.createRef(),[ce]),xe=f.useMemo(()=>{const de=r.startOfMonth(o),oe=r.endOfMonth(o);return N(se)||r.isAfterDay(se,oe)||r.isBeforeDay(se,de)?ms({utils:r,date:se,minDate:de,maxDate:oe,disablePast:m,disableFuture:w,isDateDisabled:N,timezone:M}):se},[o,w,m,se,N,r,M]),ge=f.useMemo(()=>{const de=r.getWeekArray(o);let oe=r.addMonths(o,1);for(;H&&de.length<H;){const he=r.getWeekArray(oe),pe=r.isSameDay(de[de.length-1][0],he[0][0]);he.slice(pe?1:0).forEach(be=>{de.length<H&&de.push(be)}),oe=r.addMonths(oe,1)}return de},[o,H,r]);return e.jsxs(Wj,{role:"grid","aria-labelledby":O,className:T.root,children:[e.jsxs(Uj,{role:"row",className:T.header,children:[F&&e.jsx(Hj,{variant:"caption",role:"columnheader","aria-label":W.calendarWeekNumberHeaderLabel,className:T.weekNumberLabel,children:W.calendarWeekNumberHeaderText}),eg(r,R).map((de,oe)=>e.jsx(zj,{variant:"caption",role:"columnheader","aria-label":r.format(de,"weekday"),className:T.weekDayLabel,children:I(de)},oe.toString()))]}),c?e.jsx(Yj,{className:T.loadingContainer,children:x()}):e.jsx(Gj,_({transKey:ce,onExited:u,reduceAnimations:p,slideDirection:g,className:$e(a,T.slideTransition)},v,{nodeRef:K,children:e.jsx(Kj,{ref:K,role:"rowgroup",className:T.monthContainer,children:ge.map((de,oe)=>e.jsxs(Qj,{role:"row",className:T.weekContainer,"aria-rowindex":oe+1,children:[F&&e.jsx(qj,{className:T.weekNumber,role:"rowheader","aria-label":W.calendarWeekNumberAriaLabelText(r.getWeekNumber(de[0])),children:W.calendarWeekNumberText(r.getWeekNumber(de[0]))}),de.map((he,pe)=>e.jsx(Jj,{parentProps:n,day:he,selectedDays:ue,focusableDay:xe,onKeyDown:me,onFocus:ae,onBlur:B,onDaySelect:te,isDateDisabled:N,currentMonthNumber:G,isViewFocused:q,"aria-colindex":pe+1},he.toString()))]},`week-${de[0]}`))})}))]})}function Zj(t){return We("MuiPickersMonth",t)}const qs=Ue("MuiPickersMonth",["root","monthButton","disabled","selected"]),eb=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],tb=t=>{const{disabled:n,selected:r,classes:s}=t;return _e({root:["root"],monthButton:["monthButton",n&&"disabled",r&&"selected"]},Zj,s)},nb=ye("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,n)=>[n.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),rb=ye("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,n)=>[n.monthButton,{[`&.${qs.disabled}`]:n.disabled},{[`&.${qs.selected}`]:n.selected}]})(({theme:t})=>_({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:gn(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:gn(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${qs.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${qs.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),sb=f.memo(function(n){const r=Fe({props:n,name:"MuiPickersMonth"}),{autoFocus:s,className:a,children:o,disabled:i,selected:l,value:c,tabIndex:d,onClick:u,onKeyDown:h,onFocus:p,onBlur:x,"aria-current":g,"aria-label":v,slots:m,slotProps:w}=r,j=Te(r,eb),S=f.useRef(null),y=tb(r);Tn(()=>{var I;s&&((I=S.current)==null||I.focus())},[s]);const E=(m==null?void 0:m.monthButton)??rb,D=Ve({elementType:E,externalSlotProps:w==null?void 0:w.monthButton,additionalProps:{children:o,disabled:i,tabIndex:d,ref:S,type:"button",role:"radio","aria-current":g,"aria-checked":l,"aria-label":v,onClick:I=>u(I,c),onKeyDown:I=>h(I,c),onFocus:I=>p(I,c),onBlur:I=>x(I,c)},ownerState:r,className:y.monthButton});return e.jsx(nb,_({className:$e(y.root,a),ownerState:r},j,{children:e.jsx(E,_({},D))}))});function ab(t){return We("MuiMonthCalendar",t)}Ue("MuiMonthCalendar",["root"]);const ob=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],ib=t=>{const{classes:n}=t;return _e({root:["root"]},ab,n)};function lb(t,n){const r=ze(),s=Ns(),a=Fe({props:t,name:n});return _({disableFuture:!1,disablePast:!1},a,{minDate:Ht(r,a.minDate,s.minDate),maxDate:Ht(r,a.maxDate,s.maxDate)})}const cb=ye("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,n)=>n.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Wa,boxSizing:"border-box"}),db=f.forwardRef(function(n,r){const s=lb(n,"MuiMonthCalendar"),{className:a,value:o,defaultValue:i,referenceDate:l,disabled:c,disableFuture:d,disablePast:u,maxDate:h,minDate:p,onChange:x,shouldDisableMonth:g,readOnly:v,autoFocus:m=!1,onMonthFocus:w,hasFocus:j,onFocusedViewChange:S,monthsPerRow:y=3,timezone:E,gridLabelId:D,slots:I,slotProps:A}=s,z=Te(s,ob),{value:O,handleValueChange:F,timezone:H}=Qr({name:"MonthCalendar",timezone:E,value:o,defaultValue:i,referenceDate:l,onChange:x,valueManager:vt}),Y=yr(H),M=qt(),R=ze(),T=f.useMemo(()=>vt.getInitialReferenceValue({value:O,utils:R,props:s,timezone:H,referenceDate:l,granularity:nn.month}),[]),k=s,N=ib(k),W=f.useMemo(()=>R.getMonth(Y),[R,Y]),q=f.useMemo(()=>O!=null?R.getMonth(O):null,[O,R]),[Z,se]=f.useState(()=>q||R.getMonth(T)),[ee,te]=cr({name:"MonthCalendar",state:"hasFocus",controlled:j,default:m??!1}),X=De(ce=>{te(ce),S&&S(ce)}),me=f.useCallback(ce=>{const K=R.startOfMonth(u&&R.isAfter(Y,p)?Y:p),xe=R.startOfMonth(d&&R.isBefore(Y,h)?Y:h),ge=R.startOfMonth(ce);return R.isBefore(ge,K)||R.isAfter(ge,xe)?!0:g?g(ge):!1},[d,u,h,p,Y,g,R]),ae=De((ce,K)=>{if(v)return;const xe=R.setMonth(O??T,K);F(xe)}),B=De(ce=>{me(R.setMonth(O??T,ce))||(se(ce),X(!0),w&&w(ce))});f.useEffect(()=>{se(ce=>q!==null&&ce!==q?q:ce)},[q]);const G=De((ce,K)=>{switch(ce.key){case"ArrowUp":B((12+K-3)%12),ce.preventDefault();break;case"ArrowDown":B((12+K+3)%12),ce.preventDefault();break;case"ArrowLeft":B((12+K+(M?1:-1))%12),ce.preventDefault();break;case"ArrowRight":B((12+K+(M?-1:1))%12),ce.preventDefault();break}}),le=De((ce,K)=>{B(K)}),ue=De((ce,K)=>{Z===K&&X(!1)});return e.jsx(cb,_({ref:r,className:$e(N.root,a),ownerState:k,role:"radiogroup","aria-labelledby":D},z,{children:li(R,O??T).map(ce=>{const K=R.getMonth(ce),xe=R.format(ce,"monthShort"),ge=R.format(ce,"month"),de=K===q,oe=c||me(ce);return e.jsx(sb,{selected:de,value:K,onClick:ae,onKeyDown:G,autoFocus:ee&&K===Z,disabled:oe,tabIndex:K===Z&&!oe?0:-1,onFocus:le,onBlur:ue,"aria-current":W===K?"date":void 0,"aria-label":ge,monthsPerRow:y,slots:I,slotProps:A,children:xe},xe)})}))});function ub(t){return We("MuiPickersYear",t)}const Ys=Ue("MuiPickersYear",["root","yearButton","selected","disabled"]),hb=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],mb=t=>{const{disabled:n,selected:r,classes:s}=t;return _e({root:["root"],yearButton:["yearButton",n&&"disabled",r&&"selected"]},ub,s)},pb=ye("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,n)=>[n.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),fb=ye("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,n)=>[n.yearButton,{[`&.${Ys.disabled}`]:n.disabled},{[`&.${Ys.selected}`]:n.selected}]})(({theme:t})=>_({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:gn(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:gn(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ys.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Ys.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),xb=f.memo(function(n){const r=Fe({props:n,name:"MuiPickersYear"}),{autoFocus:s,className:a,children:o,disabled:i,selected:l,value:c,tabIndex:d,onClick:u,onKeyDown:h,onFocus:p,onBlur:x,"aria-current":g,slots:v,slotProps:m}=r,w=Te(r,hb),j=f.useRef(null),S=mb(r);Tn(()=>{var D;s&&((D=j.current)==null||D.focus())},[s]);const y=(v==null?void 0:v.yearButton)??fb,E=Ve({elementType:y,externalSlotProps:m==null?void 0:m.yearButton,additionalProps:{children:o,disabled:i,tabIndex:d,ref:j,type:"button",role:"radio","aria-current":g,"aria-checked":l,onClick:D=>u(D,c),onKeyDown:D=>h(D,c),onFocus:D=>p(D,c),onBlur:D=>x(D,c)},ownerState:r,className:S.yearButton});return e.jsx(pb,_({className:$e(S.root,a),ownerState:r},w,{children:e.jsx(y,_({},E))}))});function gb(t){return We("MuiYearCalendar",t)}Ue("MuiYearCalendar",["root"]);const yb=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],jb=t=>{const{classes:n}=t;return _e({root:["root"]},gb,n)};function bb(t,n){const r=ze(),s=Ns(),a=Fe({props:t,name:n});return _({disablePast:!1,disableFuture:!1},a,{yearsPerRow:a.yearsPerRow??3,minDate:Ht(r,a.minDate,s.minDate),maxDate:Ht(r,a.maxDate,s.maxDate)})}const vb=ye("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,n)=>n.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Wa,maxHeight:hj,boxSizing:"border-box",position:"relative"}),Sb=f.forwardRef(function(n,r){const s=bb(n,"MuiYearCalendar"),{autoFocus:a,className:o,value:i,defaultValue:l,referenceDate:c,disabled:d,disableFuture:u,disablePast:h,maxDate:p,minDate:x,onChange:g,readOnly:v,shouldDisableYear:m,onYearFocus:w,hasFocus:j,onFocusedViewChange:S,yearsOrder:y="asc",yearsPerRow:E,timezone:D,gridLabelId:I,slots:A,slotProps:z}=s,O=Te(s,yb),{value:F,handleValueChange:H,timezone:Y}=Qr({name:"YearCalendar",timezone:D,value:i,defaultValue:l,referenceDate:c,onChange:g,valueManager:vt}),M=yr(Y),R=qt(),T=ze(),k=f.useMemo(()=>vt.getInitialReferenceValue({value:F,utils:T,props:s,timezone:Y,referenceDate:c,granularity:nn.year}),[]),N=s,W=jb(N),q=f.useMemo(()=>T.getYear(M),[T,M]),Z=f.useMemo(()=>F!=null?T.getYear(F):null,[F,T]),[se,ee]=f.useState(()=>Z||T.getYear(k)),[te,X]=cr({name:"YearCalendar",state:"hasFocus",controlled:j,default:a??!1}),me=De(he=>{X(he),S&&S(he)}),ae=f.useCallback(he=>{if(h&&T.isBeforeYear(he,M)||u&&T.isAfterYear(he,M)||x&&T.isBeforeYear(he,x)||p&&T.isAfterYear(he,p))return!0;if(!m)return!1;const pe=T.startOfYear(he);return m(pe)},[u,h,p,x,M,m,T]),B=De((he,pe)=>{if(v)return;const be=T.setYear(F??k,pe);H(be)}),G=De(he=>{ae(T.setYear(F??k,he))||(ee(he),me(!0),w==null||w(he))});f.useEffect(()=>{ee(he=>Z!==null&&he!==Z?Z:he)},[Z]);const le=y!=="desc"?E*1:E*-1,ue=R&&y==="asc"||!R&&y==="desc"?-1:1,ce=De((he,pe)=>{switch(he.key){case"ArrowUp":G(pe-le),he.preventDefault();break;case"ArrowDown":G(pe+le),he.preventDefault();break;case"ArrowLeft":G(pe-ue),he.preventDefault();break;case"ArrowRight":G(pe+ue),he.preventDefault();break}}),K=De((he,pe)=>{G(pe)}),xe=De((he,pe)=>{se===pe&&me(!1)}),ge=f.useRef(null),de=Ot(r,ge);f.useEffect(()=>{if(a||ge.current===null)return;const he=ge.current.querySelector('[tabindex="0"]');if(!he)return;const pe=he.offsetHeight,be=he.offsetTop,Ie=ge.current.clientHeight,tt=ge.current.scrollTop,at=be+pe;pe>Ie||be<tt||(ge.current.scrollTop=at-Ie/2-pe/2)},[a]);const oe=T.getYearRange([x,p]);return y==="desc"&&oe.reverse(),e.jsx(vb,_({ref:de,className:$e(W.root,o),ownerState:N,role:"radiogroup","aria-labelledby":I},O,{children:oe.map(he=>{const pe=T.getYear(he),be=pe===Z,Ie=d||ae(he);return e.jsx(xb,{selected:be,value:pe,onClick:B,onKeyDown:ce,autoFocus:te&&pe===se,disabled:Ie,tabIndex:pe===se&&!Ie?0:-1,onFocus:K,onBlur:xe,"aria-current":q===pe?"date":void 0,yearsPerRow:E,slots:A,slotProps:z,children:T.format(he,"year")},T.format(he,"year"))})}))});function Ms({onChange:t,onViewChange:n,openTo:r,view:s,views:a,autoFocus:o,focusedView:i,onFocusedViewChange:l}){const c=f.useRef(r),d=f.useRef(a),u=f.useRef(a.includes(r)?r:a[0]),[h,p]=cr({name:"useViews",state:"view",controlled:s,default:u.current}),x=f.useRef(o?h:null),[g,v]=cr({name:"useViews",state:"focusedView",controlled:i,default:x.current});f.useEffect(()=>{(c.current&&c.current!==r||d.current&&d.current.some(I=>!a.includes(I)))&&(p(a.includes(r)?r:a[0]),d.current=a,c.current=r)},[r,p,h,a]);const m=a.indexOf(h),w=a[m-1]??null,j=a[m+1]??null,S=De((I,A)=>{v(A?I:z=>I===z?null:z),l==null||l(I,A)}),y=De(I=>{S(I,!0),I!==h&&(p(I),n&&n(I))}),E=De(()=>{j&&y(j)}),D=De((I,A,z)=>{const O=A==="finish",F=z?a.indexOf(z)<a.length-1:!!j;if(t(I,O&&F?"partial":A,z),z&&z!==h){const Y=a[a.indexOf(z)+1];Y&&y(Y)}else O&&E()});return{view:h,setView:y,focusedView:g,setFocusedView:S,nextView:j,previousView:w,defaultView:a.includes(r)?r:a[0],goToNextView:E,setValueAndGoToNextView:D}}const wb=t=>We("MuiPickersCalendarHeader",t),Cb=Ue("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function Db(t){return We("MuiPickersArrowSwitcher",t)}Ue("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const Pb=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],Ib=["ownerState"],Tb=["ownerState"],Eb=ye("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,n)=>n.root})({display:"flex"}),Rb=ye("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,n)=>n.spacer})(({theme:t})=>({width:t.spacing(3)})),Nl=ye(Pe,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,n)=>n.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),Ab=t=>{const{classes:n}=t;return _e({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},Db,n)},Zd=f.forwardRef(function(n,r){const s=qt(),a=Fe({props:n,name:"MuiPickersArrowSwitcher"}),{children:o,className:i,slots:l,slotProps:c,isNextDisabled:d,isNextHidden:u,onGoToNext:h,nextLabel:p,isPreviousDisabled:x,isPreviousHidden:g,onGoToPrevious:v,previousLabel:m,labelId:w}=a,j=Te(a,Pb),S=a,y=Ab(S),E={isDisabled:d,isHidden:u,goTo:h,label:p},D={isDisabled:x,isHidden:g,goTo:v,label:m},I=(l==null?void 0:l.previousIconButton)??Nl,A=Ve({elementType:I,externalSlotProps:c==null?void 0:c.previousIconButton,additionalProps:{size:"medium",title:D.label,"aria-label":D.label,disabled:D.isDisabled,edge:"end",onClick:D.goTo},ownerState:_({},S,{hidden:D.isHidden}),className:$e(y.button,y.previousIconButton)}),z=(l==null?void 0:l.nextIconButton)??Nl,O=Ve({elementType:z,externalSlotProps:c==null?void 0:c.nextIconButton,additionalProps:{size:"medium",title:E.label,"aria-label":E.label,disabled:E.isDisabled,edge:"start",onClick:E.goTo},ownerState:_({},S,{hidden:E.isHidden}),className:$e(y.button,y.nextIconButton)}),F=(l==null?void 0:l.leftArrowIcon)??Wg,H=Ve({elementType:F,externalSlotProps:c==null?void 0:c.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:S,className:y.leftArrowIcon}),Y=Te(H,Ib),M=(l==null?void 0:l.rightArrowIcon)??Ug,R=Ve({elementType:M,externalSlotProps:c==null?void 0:c.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:S,className:y.rightArrowIcon}),T=Te(R,Tb);return e.jsxs(Eb,_({ref:r,className:$e(y.root,i),ownerState:S},j,{children:[e.jsx(I,_({},A,{children:s?e.jsx(M,_({},T)):e.jsx(F,_({},Y))})),o?e.jsx(b,{variant:"subtitle1",component:"span",id:w,children:o}):e.jsx(Rb,{className:y.spacer,ownerState:S}),e.jsx(z,_({},O,{children:s?e.jsx(F,_({},Y)):e.jsx(M,_({},T))}))]}))}),kb=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],Ob=["ownerState"],Nb=t=>{const{classes:n}=t;return _e({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},wb,n)},Mb=ye("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,n)=>n.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Lb=ye("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,n)=>n.labelContainer})(({theme:t})=>_({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),Fb=ye("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,n)=>n.label})({marginRight:6}),_b=ye(Pe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,n)=>n.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${Cb.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),$b=ye(Bg,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,n)=>n.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),Vb=f.forwardRef(function(n,r){const s=Mt(),a=ze(),o=Fe({props:n,name:"MuiPickersCalendarHeader"}),{slots:i,slotProps:l,currentMonth:c,disabled:d,disableFuture:u,disablePast:h,maxDate:p,minDate:x,onMonthChange:g,onViewChange:v,view:m,reduceAnimations:w,views:j,labelId:S,className:y,timezone:E,format:D=`${a.formats.month} ${a.formats.year}`}=o,I=Te(o,kb),A=o,z=Nb(o),O=(i==null?void 0:i.switchViewButton)??_b,F=Ve({elementType:O,externalSlotProps:l==null?void 0:l.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(m)},ownerState:A,className:z.switchViewButton}),H=(i==null?void 0:i.switchViewIcon)??$b,Y=Ve({elementType:H,externalSlotProps:l==null?void 0:l.switchViewIcon,ownerState:A,className:z.switchViewIcon}),M=Te(Y,Ob),R=()=>g(a.addMonths(c,1),"left"),T=()=>g(a.addMonths(c,-1),"right"),k=dj(c,{disableFuture:u,maxDate:p,timezone:E}),N=uj(c,{disablePast:h,minDate:x,timezone:E}),W=()=>{if(!(j.length===1||!v||d))if(j.length===2)v(j.find(Z=>Z!==m)||j[0]);else{const Z=j.indexOf(m)!==0?0:1;v(j[Z])}};if(j.length===1&&j[0]==="year")return null;const q=a.formatByString(c,D);return e.jsxs(Mb,_({},I,{ownerState:A,className:$e(z.root,y),ref:r,children:[e.jsxs(Lb,{role:"presentation",onClick:W,ownerState:A,"aria-live":"polite",className:z.labelContainer,children:[e.jsx(Kd,{reduceAnimations:w,transKey:q,children:e.jsx(Fb,{id:S,ownerState:A,className:z.label,children:q})}),j.length>1&&!d&&e.jsx(O,_({},F,{children:e.jsx(H,_({},M))}))]}),e.jsx(Pa,{in:m==="day",appear:!w,enter:!w,children:e.jsx(Zd,{slots:i,slotProps:l,onGoToPrevious:T,isPreviousDisabled:N,previousLabel:s.previousMonth,onGoToNext:R,isNextDisabled:k,nextLabel:s.nextMonth})})]}))}),za=ye("div")({overflow:"hidden",width:Wa,maxHeight:Ua,display:"flex",flexDirection:"column",margin:"0 auto"}),Bb="@media (prefers-reduced-motion: reduce)",Er=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Ml=Er&&Er[1]?parseInt(Er[1],10):null,Ll=Er&&Er[2]?parseInt(Er[2],10):null,Wb=Ml&&Ml<10||Ll&&Ll<13||!1,eu=()=>Ko(Bb,{defaultMatches:!1})||Wb,Ub=t=>We("MuiDateCalendar",t);Ue("MuiDateCalendar",["root","viewTransitionContainer"]);const zb=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],Hb=t=>{const{classes:n}=t;return _e({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Ub,n)};function qb(t,n){const r=ze(),s=Ns(),a=eu(),o=Fe({props:t,name:n});return _({},o,{loading:o.loading??!1,disablePast:o.disablePast??!1,disableFuture:o.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["year","day"],reduceAnimations:o.reduceAnimations??a,renderLoading:o.renderLoading??(()=>e.jsx("span",{children:"..."})),minDate:Ht(r,o.minDate,s.minDate),maxDate:Ht(r,o.maxDate,s.maxDate)})}const Yb=ye(za,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,n)=>n.root})({display:"flex",flexDirection:"column",height:Ua}),Gb=ye(Kd,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,n)=>n.viewTransitionContainer})({}),Kb=f.forwardRef(function(n,r){const s=ze(),a=qr(),o=qb(n,"MuiDateCalendar"),{autoFocus:i,onViewChange:l,value:c,defaultValue:d,referenceDate:u,disableFuture:h,disablePast:p,onChange:x,onYearChange:g,onMonthChange:v,reduceAnimations:m,shouldDisableDate:w,shouldDisableMonth:j,shouldDisableYear:S,view:y,views:E,openTo:D,className:I,disabled:A,readOnly:z,minDate:O,maxDate:F,disableHighlightToday:H,focusedView:Y,onFocusedViewChange:M,showDaysOutsideCurrentMonth:R,fixedWeekNumber:T,dayOfWeekFormatter:k,slots:N,slotProps:W,loading:q,renderLoading:Z,displayWeekNumber:se,yearsOrder:ee,yearsPerRow:te,monthsPerRow:X,timezone:me}=o,ae=Te(o,zb),{value:B,handleValueChange:G,timezone:le}=Qr({name:"DateCalendar",timezone:me,value:c,defaultValue:d,referenceDate:u,onChange:x,valueManager:vt}),{view:ue,setView:ce,focusedView:K,setFocusedView:xe,goToNextView:ge,setValueAndGoToNextView:de}=Ms({view:y,views:E,openTo:D,onChange:G,onViewChange:l,autoFocus:i,focusedView:Y,onFocusedViewChange:M}),{referenceDate:oe,calendarState:he,changeFocusedDay:pe,changeMonth:be,handleChangeMonth:Ie,isDateDisabled:tt,onMonthSwitchingAnimationEnd:at}=Sj({value:B,referenceDate:u,reduceAnimations:m,onMonthChange:v,minDate:O,maxDate:F,shouldDisableDate:w,disablePast:p,disableFuture:h,timezone:le}),jn=A&&B||O,nt=A&&B||F,Qe=`${a}-grid-label`,wt=K!==null,jr=(N==null?void 0:N.calendarHeader)??Vb,qa=Ve({elementType:jr,externalSlotProps:W==null?void 0:W.calendarHeader,additionalProps:{views:E,view:ue,currentMonth:he.currentMonth,onViewChange:ce,onMonthChange:(Xe,_t)=>Ie({newMonth:Xe,direction:_t}),minDate:jn,maxDate:nt,disabled:A,disablePast:p,disableFuture:h,reduceAnimations:m,timezone:le,labelId:Qe},ownerState:o}),br=De(Xe=>{const _t=s.startOfMonth(Xe),qn=s.endOfMonth(Xe),Wt=tt(Xe)?ms({utils:s,date:Xe,minDate:s.isBefore(O,_t)?_t:O,maxDate:s.isAfter(F,qn)?qn:F,disablePast:p,disableFuture:h,isDateDisabled:tt,timezone:le}):Xe;Wt?(de(Wt,"finish"),v==null||v(_t)):(ge(),be(_t)),pe(Wt,!0)}),Ya=De(Xe=>{const _t=s.startOfYear(Xe),qn=s.endOfYear(Xe),Wt=tt(Xe)?ms({utils:s,date:Xe,minDate:s.isBefore(O,_t)?_t:O,maxDate:s.isAfter(F,qn)?qn:F,disablePast:p,disableFuture:h,isDateDisabled:tt,timezone:le}):Xe;Wt?(de(Wt,"finish"),g==null||g(Wt)):(ge(),be(_t)),pe(Wt,!0)}),Ls=De(Xe=>G(Xe&&ba(s,Xe,B??oe),"finish",ue));f.useEffect(()=>{B!=null&&s.isValid(B)&&be(B)},[B]);const Hn=o,bn=Hb(Hn),vr={disablePast:p,disableFuture:h,maxDate:F,minDate:O},cn={disableHighlightToday:H,readOnly:z,disabled:A,timezone:le,gridLabelId:Qe,slots:N,slotProps:W},Jr=f.useRef(ue);f.useEffect(()=>{Jr.current!==ue&&(K===Jr.current&&xe(ue,!0),Jr.current=ue)},[K,xe,ue]);const Ga=f.useMemo(()=>[B],[B]);return e.jsxs(Yb,_({ref:r,className:$e(bn.root,I),ownerState:Hn},ae,{children:[e.jsx(jr,_({},qa,{slots:N,slotProps:W})),e.jsx(Gb,{reduceAnimations:m,className:bn.viewTransitionContainer,transKey:ue,ownerState:Hn,children:e.jsxs("div",{children:[ue==="year"&&e.jsx(Sb,_({},vr,cn,{value:B,onChange:Ya,shouldDisableYear:S,hasFocus:wt,onFocusedViewChange:Xe=>xe("year",Xe),yearsOrder:ee,yearsPerRow:te,referenceDate:oe})),ue==="month"&&e.jsx(db,_({},vr,cn,{hasFocus:wt,className:I,value:B,onChange:br,shouldDisableMonth:j,onFocusedViewChange:Xe=>xe("month",Xe),monthsPerRow:X,referenceDate:oe})),ue==="day"&&e.jsx(Xj,_({},he,vr,cn,{onMonthSwitchingAnimationEnd:at,onFocusedDayChange:pe,reduceAnimations:m,selectedDays:Ga,onSelectedDaysChange:Ls,shouldDisableDate:w,shouldDisableMonth:j,shouldDisableYear:S,hasFocus:wt,onFocusedViewChange:Xe=>xe("day",Xe),showDaysOutsideCurrentMonth:R,fixedWeekNumber:T,dayOfWeekFormatter:k,displayWeekNumber:se,loading:q,renderLoading:Z}))]})})]}))}),Rr=({view:t,onViewChange:n,views:r,focusedView:s,onFocusedViewChange:a,value:o,defaultValue:i,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:h,disablePast:p,minDate:x,maxDate:g,shouldDisableDate:v,shouldDisableMonth:m,shouldDisableYear:w,reduceAnimations:j,onMonthChange:S,monthsPerRow:y,onYearChange:E,yearsOrder:D,yearsPerRow:I,slots:A,slotProps:z,loading:O,renderLoading:F,disableHighlightToday:H,readOnly:Y,disabled:M,showDaysOutsideCurrentMonth:R,dayOfWeekFormatter:T,sx:k,autoFocus:N,fixedWeekNumber:W,displayWeekNumber:q,timezone:Z})=>e.jsx(Kb,{view:t,onViewChange:n,views:r.filter(Wr),focusedView:s&&Wr(s)?s:null,onFocusedViewChange:a,value:o,defaultValue:i,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:h,disablePast:p,minDate:x,maxDate:g,shouldDisableDate:v,shouldDisableMonth:m,shouldDisableYear:w,reduceAnimations:j,onMonthChange:S,monthsPerRow:y,onYearChange:E,yearsOrder:D,yearsPerRow:I,slots:A,slotProps:z,loading:O,renderLoading:F,disableHighlightToday:H,readOnly:Y,disabled:M,showDaysOutsideCurrentMonth:R,dayOfWeekFormatter:T,sx:k,autoFocus:N,fixedWeekNumber:W,displayWeekNumber:q,timezone:Z});function Qb(t){return We("MuiPickersPopper",t)}Ue("MuiPickersPopper",["root","paper"]);const Jb=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Xb=t=>{const{classes:n}=t;return _e({root:["root"],paper:["paper"]},Qb,n)},Zb=ye(ch,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>({zIndex:t.zIndex.modal})),ev=ye(Oe,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,n)=>n.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function tv(t,n){return n.documentElement.clientWidth<t.clientX||n.documentElement.clientHeight<t.clientY}function nv(t,n){const r=f.useRef(!1),s=f.useRef(!1),a=f.useRef(null),o=f.useRef(!1);f.useEffect(()=>{if(!t)return;function c(){o.current=!0}return document.addEventListener("mousedown",c,!0),document.addEventListener("touchstart",c,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("touchstart",c,!0),o.current=!1}},[t]);const i=De(c=>{if(!o.current)return;const d=s.current;s.current=!1;const u=Za(a.current);if(!a.current||"clientX"in c&&tv(c,u))return;if(r.current){r.current=!1;return}let h;c.composedPath?h=c.composedPath().indexOf(a.current)>-1:h=!u.documentElement.contains(c.target)||a.current.contains(c.target),!h&&!d&&n(c)}),l=()=>{s.current=!0};return f.useEffect(()=>{if(t){const c=Za(a.current),d=()=>{r.current=!0};return c.addEventListener("touchstart",i),c.addEventListener("touchmove",d),()=>{c.removeEventListener("touchstart",i),c.removeEventListener("touchmove",d)}}},[t,i]),f.useEffect(()=>{if(t){const c=Za(a.current);return c.addEventListener("click",i),()=>{c.removeEventListener("click",i),s.current=!1}}},[t,i]),[a,l,l]}const rv=f.forwardRef((t,n)=>{const{PaperComponent:r,popperPlacement:s,ownerState:a,children:o,paperSlotProps:i,paperClasses:l,onPaperClick:c,onPaperTouchStart:d}=t,u=Te(t,Jb),h=_({},a,{placement:s}),p=Ve({elementType:r,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:l,ownerState:h});return e.jsx(r,_({},u,p,{onClick:x=>{var g;c(x),(g=p.onClick)==null||g.call(p,x)},onTouchStart:x=>{var g;d(x),(g=p.onTouchStart)==null||g.call(p,x)},ownerState:h,children:o}))});function sv(t){const n=Fe({props:t,name:"MuiPickersPopper"}),{anchorEl:r,children:s,containerRef:a=null,shouldRestoreFocus:o,onBlur:i,onDismiss:l,open:c,role:d,placement:u,slots:h,slotProps:p,reduceAnimations:x}=n;f.useEffect(()=>{function R(T){c&&T.key==="Escape"&&l()}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[l,c]);const g=f.useRef(null);f.useEffect(()=>{d==="tooltip"||o&&!o()||(c?g.current=It(document):g.current&&g.current instanceof HTMLElement&&setTimeout(()=>{g.current instanceof HTMLElement&&g.current.focus()}))},[c,d,o]);const[v,m,w]=nv(c,i??l),j=f.useRef(null),S=Ot(j,a),y=Ot(S,v),E=n,D=Xb(E),I=eu(),A=x??I,z=R=>{R.key==="Escape"&&(R.stopPropagation(),l())},O=(h==null?void 0:h.desktopTransition)??A?Pa:ih,F=(h==null?void 0:h.desktopTrapFocus)??lh,H=(h==null?void 0:h.desktopPaper)??ev,Y=(h==null?void 0:h.popper)??Zb,M=Ve({elementType:Y,externalSlotProps:p==null?void 0:p.popper,additionalProps:{transition:!0,role:d,open:c,anchorEl:r,placement:u,onKeyDown:z},className:D.root,ownerState:n});return e.jsx(Y,_({},M,{children:({TransitionProps:R,placement:T})=>e.jsx(F,_({open:c,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:d==="tooltip",isEnabled:()=>!0},p==null?void 0:p.desktopTrapFocus,{children:e.jsx(O,_({},R,p==null?void 0:p.desktopTransition,{children:e.jsx(rv,{PaperComponent:H,ownerState:E,popperPlacement:T,ref:y,onPaperClick:m,onPaperTouchStart:w,paperClasses:D.paper,paperSlotProps:p==null?void 0:p.desktopPaper,children:s})}))}))}))}const av=({open:t,onOpen:n,onClose:r})=>{const s=f.useRef(typeof t=="boolean").current,[a,o]=f.useState(!1);f.useEffect(()=>{if(s){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(t)}},[s,t]);const i=f.useCallback(l=>{s||o(l),l&&n&&n(),!l&&r&&r()},[s,n,r]);return{isOpen:a,setIsOpen:i}},ov=t=>{const{action:n,hasChanged:r,dateState:s,isControlled:a}=t,o=!a&&!s.hasBeenModifiedSinceMount;return n.name==="setValueFromField"?!0:n.name==="setValueFromAction"?o&&["accept","today","clear"].includes(n.pickerAction)?!0:r(s.lastPublishedValue):n.name==="setValueFromView"&&n.selectionState!=="shallow"||n.name==="setValueFromShortcut"?o?!0:r(s.lastPublishedValue):!1},iv=t=>{const{action:n,hasChanged:r,dateState:s,isControlled:a,closeOnSelect:o}=t,i=!a&&!s.hasBeenModifiedSinceMount;return n.name==="setValueFromAction"?i&&["accept","today","clear"].includes(n.pickerAction)?!0:r(s.lastCommittedValue):n.name==="setValueFromView"&&n.selectionState==="finish"&&o?i?!0:r(s.lastCommittedValue):n.name==="setValueFromShortcut"?n.changeImportance==="accept"&&r(s.lastCommittedValue):!1},lv=t=>{const{action:n,closeOnSelect:r}=t;return n.name==="setValueFromAction"?!0:n.name==="setValueFromView"?n.selectionState==="finish"&&r:n.name==="setValueFromShortcut"?n.changeImportance==="accept":!1},cv=({props:t,valueManager:n,valueType:r,wrapperVariant:s,validator:a})=>{const{onAccept:o,onChange:i,value:l,defaultValue:c,closeOnSelect:d=s==="desktop",timezone:u,referenceDate:h}=t,{current:p}=f.useRef(c),{current:x}=f.useRef(l!==void 0),[g,v]=f.useState(u),m=ze(),w=gr(),{isOpen:j,setIsOpen:S}=av(t),{timezone:y,value:E,handleValueChange:D}=pi({timezone:u,value:l,defaultValue:p,referenceDate:h,onChange:i,valueManager:n}),[I,A]=f.useState(()=>{let G;return E!==void 0?G=E:p!==void 0?G=p:G=n.emptyValue,{draft:G,lastPublishedValue:G,lastCommittedValue:G,lastControlledValue:l,hasBeenModifiedSinceMount:!1}}),z=n.getTimezone(m,I.draft);g!==u&&(v(u),u&&z&&u!==z&&A(G=>_({},G,{draft:n.setTimezone(m,u,G.draft)})));const{getValidationErrorForNewValue:O}=Nd({props:t,validator:a,timezone:y,value:I.draft,onError:t.onError}),F=De(G=>{const le={action:G,dateState:I,hasChanged:de=>!n.areValuesEqual(m,G.value,de),isControlled:x,closeOnSelect:d},ue=ov(le),ce=iv(le),K=lv(le);A(de=>_({},de,{draft:G.value,lastPublishedValue:ue?G.value:de.lastPublishedValue,lastCommittedValue:ce?G.value:de.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let xe=null;const ge=()=>(xe||(xe={validationError:G.name==="setValueFromField"?G.context.validationError:O(G.value)},G.name==="setValueFromShortcut"&&(xe.shortcut=G.shortcut)),xe);ue&&D(G.value,ge()),ce&&o&&o(G.value,ge()),K&&S(!1)});if(I.lastControlledValue!==l){const G=n.areValuesEqual(m,I.draft,E);A(le=>_({},le,{lastControlledValue:l},G?{}:{lastCommittedValue:E,lastPublishedValue:E,draft:E,hasBeenModifiedSinceMount:!0}))}const H=De(()=>{F({value:n.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),Y=De(()=>{F({value:I.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),M=De(()=>{F({value:I.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),R=De(()=>{F({value:I.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),T=De(()=>{F({value:n.getTodayValue(m,y,r),name:"setValueFromAction",pickerAction:"today"})}),k=De(G=>{G.preventDefault(),S(!0)}),N=De(G=>{G==null||G.preventDefault(),S(!1)}),W=De((G,le="partial")=>F({name:"setValueFromView",value:G,selectionState:le})),q=De((G,le,ue)=>F({name:"setValueFromShortcut",value:G,changeImportance:le,shortcut:ue})),Z=De((G,le)=>F({name:"setValueFromField",value:G,context:le})),se={onClear:H,onAccept:Y,onDismiss:M,onCancel:R,onSetToday:T,onOpen:k,onClose:N},ee={value:I.draft,onChange:Z},te=f.useMemo(()=>n.cleanValue(m,I.draft),[m,n,I.draft]),X={value:te,onChange:W,onClose:N,open:j},ae=_({},se,{value:te,onChange:W,onSelectShortcut:q,isValid:G=>{const le=a({adapter:w,value:G,timezone:y,props:t});return!n.hasError(le)}}),B=f.useMemo(()=>({onOpen:k,onClose:N,open:j}),[j,N,k]);return{open:j,fieldProps:ee,viewProps:X,layoutProps:ae,actions:se,contextValue:B}},dv=["className","sx"],uv=({props:t,propsFromPickerValue:n,additionalViewProps:r,autoFocusView:s,rendererInterceptor:a,fieldRef:o})=>{const{onChange:i,open:l,onClose:c}=n,{view:d,views:u,openTo:h,onViewChange:p,viewRenderers:x,timezone:g}=t,v=Te(t,dv),{view:m,setView:w,defaultView:j,focusedView:S,setFocusedView:y,setValueAndGoToNextView:E}=Ms({view:d,views:u,openTo:h,onChange:i,onViewChange:p,autoFocus:s}),{hasUIView:D,viewModeLookup:I}=f.useMemo(()=>u.reduce((M,R)=>{let T;return x[R]!=null?T="UI":T="field",M.viewModeLookup[R]=T,T==="UI"&&(M.hasUIView=!0),M},{hasUIView:!1,viewModeLookup:{}}),[x,u]),A=f.useMemo(()=>u.reduce((M,R)=>x[R]!=null&&Ur(R)?M+1:M,0),[x,u]),z=I[m],O=De(()=>z==="UI"),[F,H]=f.useState(z==="UI"?m:null);return F!==m&&I[m]==="UI"&&H(m),Tn(()=>{z==="field"&&l&&(c(),setTimeout(()=>{var M,R;(M=o==null?void 0:o.current)==null||M.setSelectedSections(m),(R=o==null?void 0:o.current)==null||R.focusField(m)}))},[m]),Tn(()=>{if(!l)return;let M=m;z==="field"&&F!=null&&(M=F),M!==j&&I[M]==="UI"&&I[j]==="UI"&&(M=j),M!==m&&w(M),y(M,!0)},[l]),{hasUIView:D,shouldRestoreFocus:O,layoutProps:{views:u,view:F,onViewChange:w},renderCurrentView:()=>{if(F==null)return null;const M=x[F];if(M==null)return null;const R=_({},v,r,n,{views:u,timezone:g,onChange:E,view:F,onViewChange:w,focusedView:S,onFocusedViewChange:y,showViewSwitcher:A>1,timeViewsCount:A});return a?a(x,F,R):M(R)}}};function Fl(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const hv=(t,n)=>{const[r,s]=f.useState(Fl);return Tn(()=>{const o=()=>{s(Fl())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),Ng(t,["hours","minutes","seconds"])?!1:(n||r)==="landscape"},mv=({props:t,propsFromPickerValue:n,propsFromPickerViews:r,wrapperVariant:s})=>{const{orientation:a}=t,o=hv(r.views,a),i=qt();return{layoutProps:_({},r,n,{isLandscape:o,isRtl:i,wrapperVariant:s,disabled:t.disabled,readOnly:t.readOnly})}};function pv(t){const{props:n,pickerValueResponse:r}=t;return f.useMemo(()=>({value:r.viewProps.value,open:r.open,disabled:n.disabled??!1,readOnly:n.readOnly??!1}),[r.viewProps.value,r.open,n.disabled,n.readOnly])}const tu=({props:t,valueManager:n,valueType:r,wrapperVariant:s,additionalViewProps:a,validator:o,autoFocusView:i,rendererInterceptor:l,fieldRef:c})=>{const d=cv({props:t,valueManager:n,valueType:r,wrapperVariant:s,validator:o}),u=uv({props:t,additionalViewProps:a,autoFocusView:i,fieldRef:c,propsFromPickerValue:d.viewProps,rendererInterceptor:l}),h=mv({props:t,wrapperVariant:s,propsFromPickerValue:d.layoutProps,propsFromPickerViews:u.layoutProps}),p=pv({props:t,pickerValueResponse:d});return{open:d.open,actions:d.actions,fieldProps:d.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:h.layoutProps,contextValue:d.contextValue,ownerState:p}};function nu(t){return We("MuiPickersLayout",t)}const tn=Ue("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),fv=["onAccept","onClear","onCancel","onSetToday","actions"];function xv(t){const{onAccept:n,onClear:r,onCancel:s,onSetToday:a,actions:o}=t,i=Te(t,fv),l=Mt();if(o==null||o.length===0)return null;const c=o==null?void 0:o.map(d=>{switch(d){case"clear":return e.jsx(re,{onClick:r,children:l.clearButtonLabel},d);case"cancel":return e.jsx(re,{onClick:s,children:l.cancelButtonLabel},d);case"accept":return e.jsx(re,{onClick:n,children:l.okButtonLabel},d);case"today":return e.jsx(re,{onClick:a,children:l.todayButtonLabel},d);default:return null}});return e.jsx(dt,_({},i,{children:c}))}const gv=["items","changeImportance","isLandscape","onChange","isValid"],yv=["getValue"];function jv(t){const{items:n,changeImportance:r="accept",onChange:s,isValid:a}=t,o=Te(t,gv);if(n==null||n.length===0)return null;const i=n.map(l=>{let{getValue:c}=l,d=Te(l,yv);const u=c({isValid:a});return _({},d,{label:d.label,onClick:()=>{s(u,r,d)},disabled:!a(u)})});return e.jsx(Ca,_({dense:!0,sx:[{maxHeight:Ua,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:i.map(l=>e.jsx(Jo,{children:e.jsx(Ee,_({},l))},l.id??l.label))}))}function bv(t){return t.view!==null}const vv=t=>{const{classes:n,isLandscape:r}=t;return _e({root:["root",r&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},nu,n)},ru=t=>{const{wrapperVariant:n,onAccept:r,onClear:s,onCancel:a,onSetToday:o,view:i,views:l,onViewChange:c,value:d,onChange:u,onSelectShortcut:h,isValid:p,isLandscape:x,disabled:g,readOnly:v,children:m,slots:w,slotProps:j}=t,S=vv(t),y=(w==null?void 0:w.actionBar)??xv,E=Ve({elementType:y,externalSlotProps:j==null?void 0:j.actionBar,additionalProps:{onAccept:r,onClear:s,onCancel:a,onSetToday:o,actions:n==="desktop"?[]:["cancel","accept"]},className:S.actionBar,ownerState:_({},t,{wrapperVariant:n})}),D=e.jsx(y,_({},E)),I=w==null?void 0:w.toolbar,A=Ve({elementType:I,externalSlotProps:j==null?void 0:j.toolbar,additionalProps:{isLandscape:x,onChange:u,value:d,view:i,onViewChange:c,views:l,disabled:g,readOnly:v},className:S.toolbar,ownerState:_({},t,{wrapperVariant:n})}),z=bv(A)&&I?e.jsx(I,_({},A)):null,O=m,F=w==null?void 0:w.tabs,H=i&&F?e.jsx(F,_({view:i,onViewChange:c,className:S.tabs},j==null?void 0:j.tabs)):null,Y=(w==null?void 0:w.shortcuts)??jv,M=Ve({elementType:Y,externalSlotProps:j==null?void 0:j.shortcuts,additionalProps:{isValid:p,isLandscape:x,onChange:h},className:S.shortcuts,ownerState:{isValid:p,isLandscape:x,onChange:h,wrapperVariant:n}}),R=i&&Y?e.jsx(Y,_({},M)):null;return{toolbar:z,content:O,tabs:H,actionBar:D,shortcuts:R}},Sv=t=>{const{isLandscape:n,classes:r}=t;return _e({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"]},nu,r)},su=ye("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,n)=>n.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${tn.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${tn.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${tn.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${tn.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${tn.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${tn.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${tn.shortcuts}`]:{gridColumn:3}}}]}),au=ye("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,n)=>n.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),ou=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiPickersLayout"}),{toolbar:a,content:o,tabs:i,actionBar:l,shortcuts:c}=ru(s),{sx:d,className:u,isLandscape:h,wrapperVariant:p}=s,x=Sv(s);return e.jsxs(su,{ref:r,sx:d,className:$e(x.root,u),ownerState:s,children:[h?c:a,h?a:c,e.jsx(au,{className:x.contentWrapper,children:p==="desktop"?e.jsxs(f.Fragment,{children:[o,i]}):e.jsxs(f.Fragment,{children:[i,o]})}),l]})}),wv=["props","getOpenDialogAriaText"],Cv=["ownerState"],Dv=["ownerState"],Pv=t=>{var ge;let{props:n,getOpenDialogAriaText:r}=t,s=Te(t,wv);const{slots:a,slotProps:o,className:i,sx:l,format:c,formatDensity:d,enableAccessibleFieldDOMStructure:u,selectedSections:h,onSelectedSectionsChange:p,timezone:x,name:g,label:v,inputRef:m,readOnly:w,disabled:j,autoFocus:S,localeText:y,reduceAnimations:E}=n,D=f.useRef(null),I=f.useRef(null),A=qr(),z=((ge=o==null?void 0:o.toolbar)==null?void 0:ge.hidden)??!1,{open:O,actions:F,hasUIView:H,layoutProps:Y,renderCurrentView:M,shouldRestoreFocus:R,fieldProps:T,contextValue:k,ownerState:N}=tu(_({},s,{props:n,fieldRef:I,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),W=a.inputAdornment??yn,q=Ve({elementType:W,externalSlotProps:o==null?void 0:o.inputAdornment,additionalProps:{position:"end"},ownerState:n}),Z=Te(q,Cv),se=a.openPickerButton??Pe,ee=Ve({elementType:se,externalSlotProps:o==null?void 0:o.openPickerButton,additionalProps:{disabled:j||w,onClick:O?F.onClose:F.onOpen,"aria-label":r(T.value),edge:Z.position},ownerState:n}),te=Te(ee,Dv),X=a.openPickerIcon,me=Ve({elementType:X,externalSlotProps:o==null?void 0:o.openPickerIcon,ownerState:N}),ae=a.field,B=Ve({elementType:ae,externalSlotProps:o==null?void 0:o.field,additionalProps:_({},T,z&&{id:A},{readOnly:w,disabled:j,className:i,sx:l,format:c,formatDensity:d,enableAccessibleFieldDOMStructure:u,selectedSections:h,onSelectedSectionsChange:p,timezone:x,label:v,name:g,autoFocus:S&&!n.open,focused:O?!0:void 0},m?{inputRef:m}:{}),ownerState:n});H&&(B.InputProps=_({},B.InputProps,{ref:D},!n.disableOpenPicker&&{[`${Z.position}Adornment`]:e.jsx(W,_({},Z,{children:e.jsx(se,_({},te,{children:e.jsx(X,_({},me))}))}))}));const G=_({textField:a.textField,clearIcon:a.clearIcon,clearButton:a.clearButton},B.slots),le=a.layout??ou;let ue=A;z&&(v?ue=`${A}-label`:ue=void 0);const ce=_({},o,{toolbar:_({},o==null?void 0:o.toolbar,{titleId:A}),popper:_({"aria-labelledby":ue},o==null?void 0:o.popper)}),K=Ot(I,B.unstableFieldRef);return{renderPicker:()=>e.jsxs(Md,{contextValue:k,localeText:y,children:[e.jsx(ae,_({},B,{slots:G,slotProps:ce,unstableFieldRef:K})),e.jsx(sv,_({role:"dialog",placement:"bottom-start",anchorEl:D.current},F,{open:O,slots:a,slotProps:ce,shouldRestoreFocus:R,reduceAnimations:E,children:e.jsx(le,_({},Y,ce==null?void 0:ce.layout,{slots:a,slotProps:ce,children:M()}))}))]})}},Iv=["views","format"],iu=(t,n,r)=>{let{views:s,format:a}=n,o=Te(n,Iv);if(a)return a;const i=[],l=[];if(s.forEach(u=>{Ur(u)?l.push(u):Wr(u)&&i.push(u)}),l.length===0)return wl(t,_({views:i},o));if(i.length===0)return Dl(t,_({views:l},o));const c=Dl(t,_({views:l},o));return`${wl(t,_({views:i},o))} ${c}`},Tv=(t,n,r)=>r?n.filter(s=>!cs(s)||s==="hours"):t?[...n,"meridiem"]:n,Ev=(t,n)=>1440/((t.hours??1)*(t.minutes??5))<=n;function Rv({thresholdToRenderTimeInASingleColumn:t,ampm:n,timeSteps:r,views:s}){const a=t??24,o=_({hours:1,minutes:5,seconds:5},r),i=Ev(o,a);return{thresholdToRenderTimeInASingleColumn:a,timeSteps:o,shouldRenderTimeInASingleColumn:i,views:Tv(n,s,i)}}function Av(t){return We("MuiTimeClock",t)}Ue("MuiTimeClock",["root","arrowSwitcher"]);const zr=220,Dn=36,ws={x:zr/2,y:zr/2},lu={x:ws.x,y:0},kv=lu.x-ws.x,Ov=lu.y-ws.y,Nv=t=>t*(180/Math.PI),cu=(t,n,r)=>{const s=n-ws.x,a=r-ws.y,o=Math.atan2(kv,Ov)-Math.atan2(s,a);let i=Nv(o);i=Math.round(i/t)*t,i%=360;const l=Math.floor(i/t)||0,c=s**2+a**2,d=Math.sqrt(c);return{value:l,distance:d}},Mv=(t,n,r=1)=>{const s=r*6;let{value:a}=cu(s,t,n);return a=a*r%60,a},Lv=(t,n,r)=>{const{value:s,distance:a}=cu(30,t,n);let o=s||12;return r?o%=12:a<zr/2-Dn&&(o+=12,o%=24),o};function Fv(t){return We("MuiClockPointer",t)}Ue("MuiClockPointer",["root","thumb"]);const _v=["className","hasSelected","isInner","type","viewValue"],$v=t=>{const{classes:n}=t;return _e({root:["root"],thumb:["thumb"]},Fv,n)},Vv=ye("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),Bv=ye("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(t,n)=>n.thumb})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${Dn/2}px)`,border:`${(Dn-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function Wv(t){const n=Fe({props:t,name:"MuiClockPointer"}),{className:r,isInner:s,type:a,viewValue:o}=n,i=Te(n,_v),l=f.useRef(a);f.useEffect(()=>{l.current=a},[a]);const c=_({},n,{shouldAnimate:l.current!==a}),d=$v(c),u=()=>{let p=360/(a==="hours"?12:60)*o;return a==="hours"&&o>12&&(p-=360),{height:Math.round((s?.26:.4)*zr),transform:`rotateZ(${p}deg)`}};return e.jsx(Vv,_({style:u(),className:$e(d.root,r),ownerState:c},i,{children:e.jsx(Bv,{ownerState:c,className:d.thumb})}))}function Uv(t){return We("MuiClock",t)}Ue("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const zv=t=>{const{classes:n,meridiemMode:r}=t;return _e({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",r==="am"&&"selected"],pmButton:["pmButton",r==="pm"&&"selected"],meridiemText:["meridiemText"]},Uv,n)},Hv=ye("div",{name:"MuiClock",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),qv=ye("div",{name:"MuiClock",slot:"Clock",overridesResolver:(t,n)=>n.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Yv=ye("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(t,n)=>n.wrapper})({"&:focus":{outline:"none"}}),Gv=ye("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(t,n)=>n.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),Kv=ye("div",{name:"MuiClock",slot:"Pin",overridesResolver:(t,n)=>n.pin})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),du=(t,n)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:Dn,variants:[{props:{meridiemMode:n},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]}),Qv=ye(Pe,{name:"MuiClock",slot:"AmButton",overridesResolver:(t,n)=>n.amButton})(({theme:t})=>_({},du(t,"am"),{position:"absolute",left:8})),Jv=ye(Pe,{name:"MuiClock",slot:"PmButton",overridesResolver:(t,n)=>n.pmButton})(({theme:t})=>_({},du(t,"pm"),{position:"absolute",right:8})),_l=ye(b,{name:"MuiClock",slot:"meridiemText",overridesResolver:(t,n)=>n.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function Xv(t){const n=Fe({props:t,name:"MuiClock"}),{ampm:r,ampmInClock:s,autoFocus:a,children:o,value:i,handleMeridiemChange:l,isTimeDisabled:c,meridiemMode:d,minutesStep:u=1,onChange:h,selectedId:p,type:x,viewValue:g,viewRange:[v,m],disabled:w=!1,readOnly:j,className:S}=n,y=n,E=ze(),D=Mt(),I=f.useRef(!1),A=zv(y),z=c(g,x),O=!r&&x==="hours"&&(g<1||g>12),F=(ee,te)=>{w||j||c(ee,x)||h(ee,te)},H=(ee,te)=>{let{offsetX:X,offsetY:me}=ee;if(X===void 0){const B=ee.target.getBoundingClientRect();X=ee.changedTouches[0].clientX-B.left,me=ee.changedTouches[0].clientY-B.top}const ae=x==="seconds"||x==="minutes"?Mv(X,me,u):Lv(X,me,!!r);F(ae,te)},Y=ee=>{I.current=!0,H(ee,"shallow")},M=ee=>{I.current&&(H(ee,"finish"),I.current=!1),ee.preventDefault()},R=ee=>{ee.buttons>0&&H(ee.nativeEvent,"shallow")},T=ee=>{I.current&&(I.current=!1),H(ee.nativeEvent,"finish")},k=f.useMemo(()=>x==="hours"?!0:g%5===0,[x,g]),N=x==="minutes"?u:1,W=f.useRef(null);Tn(()=>{a&&W.current.focus()},[a]);const q=ee=>Math.max(v,Math.min(m,ee)),Z=ee=>(ee+(m+1))%(m+1),se=ee=>{if(!I.current)switch(ee.key){case"Home":F(v,"partial"),ee.preventDefault();break;case"End":F(m,"partial"),ee.preventDefault();break;case"ArrowUp":F(Z(g+N),"partial"),ee.preventDefault();break;case"ArrowDown":F(Z(g-N),"partial"),ee.preventDefault();break;case"PageUp":F(q(g+5),"partial"),ee.preventDefault();break;case"PageDown":F(q(g-5),"partial"),ee.preventDefault();break;case"Enter":case" ":F(g,"finish"),ee.preventDefault();break}};return e.jsxs(Hv,{className:$e(A.root,S),children:[e.jsxs(qv,{className:A.clock,children:[e.jsx(Gv,{onTouchMove:Y,onTouchStart:Y,onTouchEnd:M,onMouseUp:T,onMouseMove:R,ownerState:{disabled:w},className:A.squareMask}),!z&&e.jsxs(f.Fragment,{children:[e.jsx(Kv,{className:A.pin}),i!=null&&e.jsx(Wv,{type:x,viewValue:g,isInner:O,hasSelected:k})]}),e.jsx(Yv,{"aria-activedescendant":p,"aria-label":D.clockLabelText(x,i,E,i==null?null:E.format(i,"fullTime")),ref:W,role:"listbox",onKeyDown:se,tabIndex:0,className:A.wrapper,children:o})]}),r&&s&&e.jsxs(f.Fragment,{children:[e.jsx(Qv,{onClick:j?void 0:()=>l("am"),disabled:w||d===null,ownerState:y,className:A.amButton,title:wn(E,"am"),children:e.jsx(_l,{variant:"caption",className:A.meridiemText,children:wn(E,"am")})}),e.jsx(Jv,{disabled:w||d===null,onClick:j?void 0:()=>l("pm"),ownerState:y,className:A.pmButton,title:wn(E,"pm"),children:e.jsx(_l,{variant:"caption",className:A.meridiemText,children:wn(E,"pm")})})]})]})}function Zv(t){return We("MuiClockNumber",t)}const Gs=Ue("MuiClockNumber",["root","selected","disabled"]),eS=["className","disabled","index","inner","label","selected"],tS=t=>{const{classes:n,selected:r,disabled:s}=t;return _e({root:["root",r&&"selected",s&&"disabled"]},Zv,n)},nS=ye("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,n)=>[n.root,{[`&.${Gs.disabled}`]:n.disabled},{[`&.${Gs.selected}`]:n.selected}]})(({theme:t})=>({height:Dn,width:Dn,position:"absolute",left:`calc((100% - ${Dn}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${Gs.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${Gs.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{inner:!0},style:_({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function uu(t){const n=Fe({props:t,name:"MuiClockNumber"}),{className:r,disabled:s,index:a,inner:o,label:i,selected:l}=n,c=Te(n,eS),d=n,u=tS(d),h=a%12/12*Math.PI*2-Math.PI/2,p=(zr-Dn-2)/2*(o?.65:1),x=Math.round(Math.cos(h)*p),g=Math.round(Math.sin(h)*p);return e.jsx(nS,_({className:$e(u.root,r),"aria-disabled":s?!0:void 0,"aria-selected":l?!0:void 0,role:"option",style:{transform:`translate(${x}px, ${g+(zr-Dn)/2}px`},ownerState:d},c,{children:i}))}const rS=({ampm:t,value:n,getClockNumberText:r,isDisabled:s,selectedId:a,utils:o})=>{const i=n?o.getHours(n):null,l=[],c=t?1:0,d=t?12:23,u=h=>i===null?!1:t?h===12?i===12||i===0:i===h||i-12===h:i===h;for(let h=c;h<=d;h+=1){let p=h.toString();h===0&&(p="00");const x=!t&&(h===0||h>12);p=o.formatNumber(p);const g=u(h);l.push(e.jsx(uu,{id:g?a:void 0,index:h,inner:x,selected:g,disabled:s(h),label:p,"aria-label":r(p)},h))}return l},$l=({utils:t,value:n,isDisabled:r,getClockNumberText:s,selectedId:a})=>{const o=t.formatNumber;return[[5,o("05")],[10,o("10")],[15,o("15")],[20,o("20")],[25,o("25")],[30,o("30")],[35,o("35")],[40,o("40")],[45,o("45")],[50,o("50")],[55,o("55")],[0,o("00")]].map(([i,l],c)=>{const d=i===n;return e.jsx(uu,{label:l,id:d?a:void 0,index:c+1,inner:!1,disabled:r(i),selected:d,"aria-label":s(l)},i)})},yi=({value:t,referenceDate:n,utils:r,props:s,timezone:a})=>{const o=f.useMemo(()=>vt.getInitialReferenceValue({value:t,utils:r,props:s,referenceDate:n,granularity:nn.day,timezone:a,getTodayDate:()=>ci(r,a,"date")}),[]);return t??o},sS=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],aS=t=>{const{classes:n}=t;return _e({root:["root"],arrowSwitcher:["arrowSwitcher"]},Av,n)},oS=ye(za,{name:"MuiTimeClock",slot:"Root",overridesResolver:(t,n)=>n.root})({display:"flex",flexDirection:"column",position:"relative"}),iS=ye(Zd,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(t,n)=>n.arrowSwitcher})({position:"absolute",right:12,top:15}),lS=["hours","minutes"],cS=f.forwardRef(function(n,r){const s=ze(),a=Fe({props:n,name:"MuiTimeClock"}),{ampm:o=s.is12HourCycleInCurrentLocale(),ampmInClock:i=!1,autoFocus:l,slots:c,slotProps:d,value:u,defaultValue:h,referenceDate:p,disableIgnoringDatePartForTimeValidation:x=!1,maxTime:g,minTime:v,disableFuture:m,disablePast:w,minutesStep:j=1,shouldDisableTime:S,showViewSwitcher:y,onChange:E,view:D,views:I=lS,openTo:A,onViewChange:z,focusedView:O,onFocusedViewChange:F,className:H,disabled:Y,readOnly:M,timezone:R}=a,T=Te(a,sS),{value:k,handleValueChange:N,timezone:W}=Qr({name:"TimeClock",timezone:R,value:u,defaultValue:h,referenceDate:p,onChange:E,valueManager:vt}),q=yi({value:k,referenceDate:p,utils:s,props:a,timezone:W}),Z=Mt(),se=yr(W),{view:ee,setView:te,previousView:X,nextView:me,setValueAndGoToNextView:ae}=Ms({view:D,views:I,openTo:A,onViewChange:z,onChange:N,focusedView:O,onFocusedViewChange:F}),{meridiemMode:B,handleMeridiemChange:G}=gi(q,o,ae),le=f.useCallback((ge,de)=>{const oe=Os(x,s),he=de==="hours"||de==="minutes"&&I.includes("seconds"),pe=({start:Ie,end:tt})=>!(v&&oe(v,tt)||g&&oe(Ie,g)||m&&oe(Ie,se)||w&&oe(se,he?tt:Ie)),be=(Ie,tt=1)=>{if(Ie%tt!==0)return!1;if(S)switch(de){case"hours":return!S(s.setHours(q,Ie),"hours");case"minutes":return!S(s.setMinutes(q,Ie),"minutes");case"seconds":return!S(s.setSeconds(q,Ie),"seconds");default:return!1}return!0};switch(de){case"hours":{const Ie=vs(ge,B,o),tt=s.setHours(q,Ie);if(s.getHours(tt)!==Ie)return!0;const at=s.setSeconds(s.setMinutes(tt,0),0),jn=s.setSeconds(s.setMinutes(tt,59),59);return!pe({start:at,end:jn})||!be(Ie)}case"minutes":{const Ie=s.setMinutes(q,ge),tt=s.setSeconds(Ie,0),at=s.setSeconds(Ie,59);return!pe({start:tt,end:at})||!be(ge,j)}case"seconds":{const Ie=s.setSeconds(q,ge);return!pe({start:Ie,end:Ie})||!be(ge)}default:throw new Error("not supported")}},[o,q,x,g,B,v,j,S,s,m,w,se,I]),ue=qr(),ce=f.useMemo(()=>{switch(ee){case"hours":{const ge=(he,pe)=>{const be=vs(he,B,o);ae(s.setHours(q,be),pe,"hours")},de=s.getHours(q);let oe;return o?de>12?oe=[12,23]:oe=[0,11]:oe=[0,23],{onChange:ge,viewValue:de,children:rS({value:k,utils:s,ampm:o,getClockNumberText:Z.hoursClockNumberText,isDisabled:he=>Y||le(he,"hours"),selectedId:ue}),viewRange:oe}}case"minutes":{const ge=s.getMinutes(q);return{viewValue:ge,onChange:(oe,he)=>{ae(s.setMinutes(q,oe),he,"minutes")},children:$l({utils:s,value:ge,getClockNumberText:Z.minutesClockNumberText,isDisabled:oe=>Y||le(oe,"minutes"),selectedId:ue}),viewRange:[0,59]}}case"seconds":{const ge=s.getSeconds(q);return{viewValue:ge,onChange:(oe,he)=>{ae(s.setSeconds(q,oe),he,"seconds")},children:$l({utils:s,value:ge,getClockNumberText:Z.secondsClockNumberText,isDisabled:oe=>Y||le(oe,"seconds"),selectedId:ue}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[ee,s,k,o,Z.hoursClockNumberText,Z.minutesClockNumberText,Z.secondsClockNumberText,B,ae,q,le,ue,Y]),K=a,xe=aS(K);return e.jsxs(oS,_({ref:r,className:$e(xe.root,H),ownerState:K},T,{children:[e.jsx(Xv,_({autoFocus:l??!!O,ampmInClock:i&&I.includes("hours"),value:k,type:ee,ampm:o,minutesStep:j,isTimeDisabled:le,meridiemMode:B,handleMeridiemChange:G,selectedId:ue,disabled:Y,readOnly:M},ce)),y&&e.jsx(iS,{className:xe.arrowSwitcher,slots:c,slotProps:d,onGoToPrevious:()=>te(X),isPreviousDisabled:!X,previousLabel:Z.openPreviousView,onGoToNext:()=>te(me),isNextDisabled:!me,nextLabel:Z.openNextView,ownerState:K})]}))});function dS(t){return We("MuiDigitalClock",t)}const uS=Ue("MuiDigitalClock",["root","list","item"]),hS=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],mS=t=>{const{classes:n}=t;return _e({root:["root"],list:["list"],item:["item"]},dS,n)},pS=ye(za,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(t,n)=>n.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:qd,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),fS=ye(Dc,{name:"MuiDigitalClock",slot:"List",overridesResolver:(t,n)=>n.list})({padding:0}),xS=ye(ve,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(t,n)=>n.item})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:gn(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:gn(t.palette.primary.main,t.palette.action.focusOpacity)}})),gS=f.forwardRef(function(n,r){const s=ze(),a=f.useRef(null),o=Ot(r,a),i=f.useRef(null),l=Fe({props:n,name:"MuiDigitalClock"}),{ampm:c=s.is12HourCycleInCurrentLocale(),timeStep:d=30,autoFocus:u,slots:h,slotProps:p,value:x,defaultValue:g,referenceDate:v,disableIgnoringDatePartForTimeValidation:m=!1,maxTime:w,minTime:j,disableFuture:S,disablePast:y,minutesStep:E=1,shouldDisableTime:D,onChange:I,view:A,openTo:z,onViewChange:O,focusedView:F,onFocusedViewChange:H,className:Y,disabled:M,readOnly:R,views:T=["hours"],skipDisabled:k=!1,timezone:N}=l,W=Te(l,hS),{value:q,handleValueChange:Z,timezone:se}=Qr({name:"DigitalClock",timezone:N,value:x,defaultValue:g,referenceDate:v,onChange:I,valueManager:vt}),ee=Mt(),te=yr(se),X=f.useMemo(()=>_({},l,{alreadyRendered:!!a.current}),[l]),me=mS(X),ae=(h==null?void 0:h.digitalClockItem)??xS,B=Ve({elementType:ae,externalSlotProps:p==null?void 0:p.digitalClockItem,ownerState:{},className:me.item}),G=yi({value:q,referenceDate:v,utils:s,props:l,timezone:se}),le=De(oe=>Z(oe,"finish","hours")),{setValueAndGoToNextView:ue}=Ms({view:A,views:T,openTo:z,onViewChange:O,onChange:le,focusedView:F,onFocusedViewChange:H}),ce=De(oe=>{ue(oe,"finish")});f.useEffect(()=>{if(a.current===null)return;const oe=a.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!oe)return;const he=oe.offsetTop;(u||F)&&oe.focus(),a.current.scrollTop=he-4});const K=f.useCallback(oe=>{const he=Os(m,s),pe=()=>!(j&&he(j,oe)||w&&he(oe,w)||S&&he(oe,te)||y&&he(te,oe)),be=()=>s.getMinutes(oe)%E!==0?!1:D?!D(oe,"hours"):!0;return!pe()||!be()},[m,s,j,w,S,te,y,E,D]),xe=f.useMemo(()=>{const oe=[];let pe=s.startOfDay(G);for(;s.isSameDay(G,pe);)oe.push(pe),pe=s.addMinutes(pe,d);return oe},[G,d,s]),ge=xe.findIndex(oe=>s.isEqual(oe,G)),de=oe=>{switch(oe.key){case"PageUp":{const he=va(i.current)-5,pe=i.current.children,be=Math.max(0,he),Ie=pe[be];Ie&&Ie.focus(),oe.preventDefault();break}case"PageDown":{const he=va(i.current)+5,pe=i.current.children,be=Math.min(pe.length-1,he),Ie=pe[be];Ie&&Ie.focus(),oe.preventDefault();break}}};return e.jsx(pS,_({ref:o,className:$e(me.root,Y),ownerState:X},W,{children:e.jsx(fS,{ref:i,role:"listbox","aria-label":ee.timePickerToolbarTitle,className:me.list,onKeyDown:de,children:xe.map((oe,he)=>{if(k&&K(oe))return null;const pe=s.isEqual(oe,q),be=s.format(oe,c?"fullTime12h":"fullTime24h"),Ie=ge===he||ge===-1&&he===0?0:-1;return e.jsx(ae,_({onClick:()=>!R&&ce(oe),selected:pe,disabled:M||K(oe),disableRipple:R,role:"option","aria-disabled":R,"aria-selected":pe,tabIndex:Ie},B,{children:be}),`${oe.valueOf()}-${be}`)})})}))});function yS(t){return We("MuiMultiSectionDigitalClock",t)}const Vl=Ue("MuiMultiSectionDigitalClock",["root"]);function jS(t){return We("MuiMultiSectionDigitalClockSection",t)}const bS=Ue("MuiMultiSectionDigitalClockSection",["root","item"]),vS=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],SS=t=>{const{classes:n}=t;return _e({root:["root"],item:["item"]},jS,n)},wS=ye(Dc,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>({maxHeight:qd,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),CS=ye(ve,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(t,n)=>n.item})(({theme:t})=>({padding:8,margin:"2px 4px",width:ds,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:gn(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:gn(t.palette.primary.main,t.palette.action.focusOpacity)}})),DS=f.forwardRef(function(n,r){const s=f.useRef(null),a=Ot(r,s),o=f.useRef(null),i=Fe({props:n,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:l,onChange:c,className:d,disabled:u,readOnly:h,items:p,active:x,slots:g,slotProps:v,skipDisabled:m}=i,w=Te(i,vS),j=f.useMemo(()=>_({},i,{alreadyRendered:!!s.current}),[i]),S=SS(j),y=(g==null?void 0:g.digitalClockSectionItem)??CS;f.useEffect(()=>{if(s.current===null)return;const I=s.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(x&&l&&I&&I.focus(),!I||o.current===I)return;o.current=I;const A=I.offsetTop;s.current.scrollTop=A-4});const E=p.findIndex(I=>I.isFocused(I.value)),D=I=>{switch(I.key){case"PageUp":{const A=va(s.current)-5,z=s.current.children,O=Math.max(0,A),F=z[O];F&&F.focus(),I.preventDefault();break}case"PageDown":{const A=va(s.current)+5,z=s.current.children,O=Math.min(z.length-1,A),F=z[O];F&&F.focus(),I.preventDefault();break}}};return e.jsx(wS,_({ref:a,className:$e(S.root,d),ownerState:j,autoFocusItem:l&&x,role:"listbox",onKeyDown:D},w,{children:p.map((I,A)=>{var Y;const z=(Y=I.isDisabled)==null?void 0:Y.call(I,I.value),O=u||z;if(m&&O)return null;const F=I.isSelected(I.value),H=E===A||E===-1&&A===0?0:-1;return e.jsx(y,_({onClick:()=>!h&&c(I.value),selected:F,disabled:O,disableRipple:h,role:"option","aria-disabled":h||O||void 0,"aria-label":I.ariaLabel,"aria-selected":F,tabIndex:H,className:S.item},v==null?void 0:v.digitalClockSectionItem,{children:I.label}),I.label)})}))}),PS=({now:t,value:n,utils:r,ampm:s,isDisabled:a,resolveAriaLabel:o,timeStep:i,valueOrReferenceDate:l})=>{const c=n?r.getHours(n):null,d=[],u=(x,g)=>{const v=g??c;return v===null?!1:s?x===12?v===12||v===0:v===x||v-12===x:v===x},h=x=>u(x,r.getHours(l)),p=s?11:23;for(let x=0;x<=p;x+=i){let g=r.format(r.setHours(t,x),s?"hours12h":"hours24h");const v=o(parseInt(g,10).toString());g=r.formatNumber(g),d.push({value:x,label:g,isSelected:u,isDisabled:a,isFocused:h,ariaLabel:v})}return d},Bl=({value:t,utils:n,isDisabled:r,timeStep:s,resolveLabel:a,resolveAriaLabel:o,hasValue:i=!0})=>{const l=d=>t===null?!1:i&&t===d,c=d=>t===d;return[...Array.from({length:Math.ceil(60/s)},(d,u)=>{const h=s*u;return{value:h,label:n.formatNumber(a(h)),isDisabled:r,isSelected:l,isFocused:c,ariaLabel:o(h.toString())}})]},IS=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],TS=t=>{const{classes:n}=t;return _e({root:["root"]},yS,n)},ES=ye(za,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),RS=f.forwardRef(function(n,r){const s=ze(),a=qt(),o=Fe({props:n,name:"MuiMultiSectionDigitalClock"}),{ampm:i=s.is12HourCycleInCurrentLocale(),timeSteps:l,autoFocus:c,slots:d,slotProps:u,value:h,defaultValue:p,referenceDate:x,disableIgnoringDatePartForTimeValidation:g=!1,maxTime:v,minTime:m,disableFuture:w,disablePast:j,minutesStep:S=1,shouldDisableTime:y,onChange:E,view:D,views:I=["hours","minutes"],openTo:A,onViewChange:z,focusedView:O,onFocusedViewChange:F,className:H,disabled:Y,readOnly:M,skipDisabled:R=!1,timezone:T}=o,k=Te(o,IS),{value:N,handleValueChange:W,timezone:q}=Qr({name:"MultiSectionDigitalClock",timezone:T,value:h,defaultValue:p,referenceDate:x,onChange:E,valueManager:vt}),Z=Mt(),se=yr(q),ee=f.useMemo(()=>_({hours:1,minutes:5,seconds:5},l),[l]),te=yi({value:N,referenceDate:x,utils:s,props:o,timezone:q}),X=De((pe,be,Ie)=>W(pe,be,Ie)),me=f.useMemo(()=>!i||!I.includes("hours")||I.includes("meridiem")?I:[...I,"meridiem"],[i,I]),{view:ae,setValueAndGoToNextView:B,focusedView:G}=Ms({view:D,views:me,openTo:A,onViewChange:z,onChange:X,focusedView:O,onFocusedViewChange:F}),le=De(pe=>{B(pe,"finish","meridiem")}),{meridiemMode:ue,handleMeridiemChange:ce}=gi(te,i,le,"finish"),K=f.useCallback((pe,be)=>{const Ie=Os(g,s),tt=be==="hours"||be==="minutes"&&me.includes("seconds"),at=({start:nt,end:Qe})=>!(m&&Ie(m,Qe)||v&&Ie(nt,v)||w&&Ie(nt,se)||j&&Ie(se,tt?Qe:nt)),jn=(nt,Qe=1)=>{if(nt%Qe!==0)return!1;if(y)switch(be){case"hours":return!y(s.setHours(te,nt),"hours");case"minutes":return!y(s.setMinutes(te,nt),"minutes");case"seconds":return!y(s.setSeconds(te,nt),"seconds");default:return!1}return!0};switch(be){case"hours":{const nt=vs(pe,ue,i),Qe=s.setHours(te,nt);if(s.getHours(Qe)!==nt)return!0;const wt=s.setSeconds(s.setMinutes(Qe,0),0),jr=s.setSeconds(s.setMinutes(Qe,59),59);return!at({start:wt,end:jr})||!jn(nt)}case"minutes":{const nt=s.setMinutes(te,pe),Qe=s.setSeconds(nt,0),wt=s.setSeconds(nt,59);return!at({start:Qe,end:wt})||!jn(pe,S)}case"seconds":{const nt=s.setSeconds(te,pe);return!at({start:nt,end:nt})||!jn(pe)}default:throw new Error("not supported")}},[i,te,g,v,ue,m,S,y,s,w,j,se,me]),xe=f.useCallback(pe=>{switch(pe){case"hours":return{onChange:be=>{const Ie=vs(be,ue,i);B(s.setHours(te,Ie),"finish","hours")},items:PS({now:se,value:N,ampm:i,utils:s,isDisabled:be=>K(be,"hours"),timeStep:ee.hours,resolveAriaLabel:Z.hoursClockNumberText,valueOrReferenceDate:te})};case"minutes":return{onChange:be=>{B(s.setMinutes(te,be),"finish","minutes")},items:Bl({value:s.getMinutes(te),utils:s,isDisabled:be=>K(be,"minutes"),resolveLabel:be=>s.format(s.setMinutes(se,be),"minutes"),timeStep:ee.minutes,hasValue:!!N,resolveAriaLabel:Z.minutesClockNumberText})};case"seconds":return{onChange:be=>{B(s.setSeconds(te,be),"finish","seconds")},items:Bl({value:s.getSeconds(te),utils:s,isDisabled:be=>K(be,"seconds"),resolveLabel:be=>s.format(s.setSeconds(se,be),"seconds"),timeStep:ee.seconds,hasValue:!!N,resolveAriaLabel:Z.secondsClockNumberText})};case"meridiem":{const be=wn(s,"am"),Ie=wn(s,"pm");return{onChange:ce,items:[{value:"am",label:be,isSelected:()=>!!N&&ue==="am",isFocused:()=>!!te&&ue==="am",ariaLabel:be},{value:"pm",label:Ie,isSelected:()=>!!N&&ue==="pm",isFocused:()=>!!te&&ue==="pm",ariaLabel:Ie}]}}default:throw new Error(`Unknown view: ${pe} found.`)}},[se,N,i,s,ee.hours,ee.minutes,ee.seconds,Z.hoursClockNumberText,Z.minutesClockNumberText,Z.secondsClockNumberText,ue,B,te,K,ce]),ge=f.useMemo(()=>{if(!a)return me;const pe=me.filter(be=>be!=="meridiem");return pe.reverse(),me.includes("meridiem")&&pe.push("meridiem"),pe},[a,me]),de=f.useMemo(()=>me.reduce((pe,be)=>_({},pe,{[be]:xe(be)}),{}),[me,xe]),oe=o,he=TS(oe);return e.jsx(ES,_({ref:r,className:$e(he.root,H),ownerState:oe,role:"group"},k,{children:ge.map(pe=>e.jsx(DS,{items:de[pe].items,onChange:de[pe].onChange,active:ae===pe,autoFocus:c||G===pe,disabled:Y,readOnly:M,slots:d,slotProps:u,skipDisabled:R,"aria-label":Z.selectViewText(pe)},pe))}))}),mo=({view:t,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:a,value:o,defaultValue:i,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:h,disablePast:p,minTime:x,maxTime:g,shouldDisableTime:v,minutesStep:m,ampm:w,ampmInClock:j,slots:S,slotProps:y,readOnly:E,disabled:D,sx:I,autoFocus:A,showViewSwitcher:z,disableIgnoringDatePartForTimeValidation:O,timezone:F})=>e.jsx(cS,{view:t,onViewChange:n,focusedView:r&&Ur(r)?r:null,onFocusedViewChange:s,views:a.filter(Ur),value:o,defaultValue:i,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:h,disablePast:p,minTime:x,maxTime:g,shouldDisableTime:v,minutesStep:m,ampm:w,ampmInClock:j,slots:S,slotProps:y,readOnly:E,disabled:D,sx:I,autoFocus:A,showViewSwitcher:z,disableIgnoringDatePartForTimeValidation:O,timezone:F}),AS=({view:t,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:a,value:o,defaultValue:i,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:h,disablePast:p,minTime:x,maxTime:g,shouldDisableTime:v,minutesStep:m,ampm:w,slots:j,slotProps:S,readOnly:y,disabled:E,sx:D,autoFocus:I,disableIgnoringDatePartForTimeValidation:A,timeSteps:z,skipDisabled:O,timezone:F})=>e.jsx(gS,{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:a.filter(Ur),value:o,defaultValue:i,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:h,disablePast:p,minTime:x,maxTime:g,shouldDisableTime:v,minutesStep:m,ampm:w,slots:j,slotProps:S,readOnly:y,disabled:E,sx:D,autoFocus:I,disableIgnoringDatePartForTimeValidation:A,timeStep:z==null?void 0:z.minutes,skipDisabled:O,timezone:F}),Wl=({view:t,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:a,value:o,defaultValue:i,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:h,disablePast:p,minTime:x,maxTime:g,shouldDisableTime:v,minutesStep:m,ampm:w,slots:j,slotProps:S,readOnly:y,disabled:E,sx:D,autoFocus:I,disableIgnoringDatePartForTimeValidation:A,timeSteps:z,skipDisabled:O,timezone:F})=>e.jsx(RS,{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:a.filter(Ur),value:o,defaultValue:i,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:h,disablePast:p,minTime:x,maxTime:g,shouldDisableTime:v,minutesStep:m,ampm:w,slots:j,slotProps:S,readOnly:y,disabled:E,sx:D,autoFocus:I,disableIgnoringDatePartForTimeValidation:A,timeSteps:z,skipDisabled:O,timezone:F}),kS=f.forwardRef(function(n,r){var v;const s=qt(),{toolbar:a,tabs:o,content:i,actionBar:l,shortcuts:c}=ru(n),{sx:d,className:u,isLandscape:h,classes:p}=n,x=l&&(((v=l.props.actions)==null?void 0:v.length)??0)>0,g=_({},n,{isRtl:s});return e.jsxs(su,{ref:r,className:$e(tn.root,p==null?void 0:p.root,u),sx:[{[`& .${tn.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${tn.actionBar}`]:{gridRow:5}},...Array.isArray(d)?d:[d]],ownerState:g,children:[h?c:a,h?a:c,e.jsxs(au,{className:$e(tn.contentWrapper,p==null?void 0:p.contentWrapper),sx:{display:"grid"},children:[i,o,x&&e.jsx(He,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),l]})}),OS=["openTo","focusedView","timeViewsCount"],NS=function(n,r,s){var u,h;const{openTo:a,focusedView:o,timeViewsCount:i}=s,l=Te(s,OS),c=_({},l,{autoFocus:!1,focusedView:null,sx:[{[`&.${Vl.root}`]:{borderBottom:0},[`&.${Vl.root}, .${bS.root}, &.${uS.root}`]:{maxHeight:Ua}}]}),d=cs(r);return e.jsxs(f.Fragment,{children:[(u=n[d?"day":r])==null?void 0:u.call(n,_({},s,{view:d?"day":r,focusedView:o&&Wr(o)?o:null,views:s.views.filter(Wr),sx:[{gridColumn:1},...c.sx]})),i>0&&e.jsxs(f.Fragment,{children:[e.jsx(He,{orientation:"vertical",sx:{gridColumn:2}}),(h=n[d?r:"hours"])==null?void 0:h.call(n,_({},c,{view:d?r:"hours",focusedView:o&&cs(o)?o:null,openTo:cs(a)?a:"hours",views:s.views.filter(cs),sx:[{gridColumn:3},...c.sx]}))]})]})},hu=f.forwardRef(function(n,r){var j,S,y,E;const s=Mt(),a=ze(),o=Yd(n,"MuiDesktopDateTimePicker"),{shouldRenderTimeInASingleColumn:i,thresholdToRenderTimeInASingleColumn:l,views:c,timeSteps:d}=Rv(o),u=i?AS:Wl,h=_({day:Rr,month:Rr,year:Rr,hours:u,minutes:u,seconds:u,meridiem:u},o.viewRenderers),p=o.ampmInClock??!0,g=((j=h.hours)==null?void 0:j.name)===Wl.name?c:c.filter(D=>D!=="meridiem"),v=i?[]:["accept"],m=_({},o,{viewRenderers:h,format:iu(a,o),views:g,yearsPerRow:o.yearsPerRow??4,ampmInClock:p,timeSteps:d,thresholdToRenderTimeInASingleColumn:l,shouldRenderTimeInASingleColumn:i,slots:_({field:Ud,layout:kS,openPickerIcon:zg},o.slots),slotProps:_({},o.slotProps,{field:D=>{var I;return _({},So((I=o.slotProps)==null?void 0:I.field,D),Ad(o),{ref:r})},toolbar:_({hidden:!0,ampmInClock:p,toolbarVariant:"desktop"},(S=o.slotProps)==null?void 0:S.toolbar),tabs:_({hidden:!0},(y=o.slotProps)==null?void 0:y.tabs),actionBar:D=>{var I;return _({actions:v},So((I=o.slotProps)==null?void 0:I.actionBar,D))}})}),{renderPicker:w}=Pv({props:m,valueManager:vt,valueType:"date-time",getOpenDialogAriaText:kd({utils:a,formatKey:"fullDate",contextTranslation:s.openDatePickerDialogue,propsTranslation:(E=m.localeText)==null?void 0:E.openDatePickerDialogue}),validator:$a,rendererInterceptor:NS});return w()});hu.propTypes={ampm:V.bool,ampmInClock:V.bool,autoFocus:V.bool,className:V.string,closeOnSelect:V.bool,dayOfWeekFormatter:V.func,defaultValue:V.object,disabled:V.bool,disableFuture:V.bool,disableHighlightToday:V.bool,disableIgnoringDatePartForTimeValidation:V.bool,disableOpenPicker:V.bool,disablePast:V.bool,displayWeekNumber:V.bool,enableAccessibleFieldDOMStructure:V.any,fixedWeekNumber:V.number,format:V.string,formatDensity:V.oneOf(["dense","spacious"]),inputRef:Pc,label:V.node,loading:V.bool,localeText:V.object,maxDate:V.object,maxDateTime:V.object,maxTime:V.object,minDate:V.object,minDateTime:V.object,minTime:V.object,minutesStep:V.number,monthsPerRow:V.oneOf([3,4]),name:V.string,onAccept:V.func,onChange:V.func,onClose:V.func,onError:V.func,onMonthChange:V.func,onOpen:V.func,onSelectedSectionsChange:V.func,onViewChange:V.func,onYearChange:V.func,open:V.bool,openTo:V.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:V.oneOf(["landscape","portrait"]),readOnly:V.bool,reduceAnimations:V.bool,referenceDate:V.object,renderLoading:V.func,selectedSections:V.oneOfType([V.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),V.number]),shouldDisableDate:V.func,shouldDisableMonth:V.func,shouldDisableTime:V.func,shouldDisableYear:V.func,showDaysOutsideCurrentMonth:V.bool,skipDisabled:V.bool,slotProps:V.object,slots:V.object,sx:V.oneOfType([V.arrayOf(V.oneOfType([V.func,V.object,V.bool])),V.func,V.object]),thresholdToRenderTimeInASingleColumn:V.number,timeSteps:V.shape({hours:V.number,minutes:V.number,seconds:V.number}),timezone:V.string,value:V.object,view:V.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:V.shape({day:V.func,hours:V.func,meridiem:V.func,minutes:V.func,month:V.func,seconds:V.func,year:V.func}),views:V.arrayOf(V.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:V.oneOf(["asc","desc"]),yearsPerRow:V.oneOf([3,4])};const MS=ye(ut)({[`& .${Si.container}`]:{outline:0},[`& .${Si.paper}`]:{outline:0,minWidth:Wa}}),LS=ye(ht)({"&:first-of-type":{padding:0}});function FS(t){const{children:n,onDismiss:r,open:s,slots:a,slotProps:o}=t,i=(a==null?void 0:a.dialog)??MS,l=(a==null?void 0:a.mobileTransition)??Pa;return e.jsx(i,_({open:s,onClose:r},o==null?void 0:o.dialog,{TransitionComponent:l,TransitionProps:o==null?void 0:o.mobileTransition,PaperComponent:a==null?void 0:a.mobilePaper,PaperProps:o==null?void 0:o.mobilePaper,children:e.jsx(LS,{children:n})}))}const _S=["props","getOpenDialogAriaText"],$S=t=>{var Z;let{props:n,getOpenDialogAriaText:r}=t,s=Te(t,_S);const{slots:a,slotProps:o,className:i,sx:l,format:c,formatDensity:d,enableAccessibleFieldDOMStructure:u,selectedSections:h,onSelectedSectionsChange:p,timezone:x,name:g,label:v,inputRef:m,readOnly:w,disabled:j,localeText:S}=n,y=f.useRef(null),E=qr(),D=((Z=o==null?void 0:o.toolbar)==null?void 0:Z.hidden)??!1,{open:I,actions:A,layoutProps:z,renderCurrentView:O,fieldProps:F,contextValue:H}=tu(_({},s,{props:n,fieldRef:y,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),Y=a.field,M=Ve({elementType:Y,externalSlotProps:o==null?void 0:o.field,additionalProps:_({},F,D&&{id:E},!(j||w)&&{onClick:A.onOpen,onKeyDown:Mg(A.onOpen)},{readOnly:w??!0,disabled:j,className:i,sx:l,format:c,formatDensity:d,enableAccessibleFieldDOMStructure:u,selectedSections:h,onSelectedSectionsChange:p,timezone:x,label:v,name:g},m?{inputRef:m}:{}),ownerState:n});M.inputProps=_({},M.inputProps,{"aria-label":r(F.value)});const R=_({textField:a.textField},M.slots),T=a.layout??ou;let k=E;D&&(v?k=`${E}-label`:k=void 0);const N=_({},o,{toolbar:_({},o==null?void 0:o.toolbar,{titleId:E}),mobilePaper:_({"aria-labelledby":k},o==null?void 0:o.mobilePaper)}),W=Ot(y,M.unstableFieldRef);return{renderPicker:()=>e.jsxs(Md,{contextValue:H,localeText:S,children:[e.jsx(Y,_({},M,{slots:R,slotProps:N,unstableFieldRef:W})),e.jsx(FS,_({},A,{open:I,slots:a,slotProps:N,children:e.jsx(T,_({},z,N==null?void 0:N.layout,{slots:a,slotProps:N,children:O()}))}))]})}},mu=f.forwardRef(function(n,r){var u,h,p;const s=Mt(),a=ze(),o=Yd(n,"MuiMobileDateTimePicker"),i=_({day:Rr,month:Rr,year:Rr,hours:mo,minutes:mo,seconds:mo},o.viewRenderers),l=o.ampmInClock??!1,c=_({},o,{viewRenderers:i,format:iu(a,o),ampmInClock:l,slots:_({field:Ud},o.slots),slotProps:_({},o.slotProps,{field:x=>{var g;return _({},So((g=o.slotProps)==null?void 0:g.field,x),Ad(o),{ref:r})},toolbar:_({hidden:!1,ampmInClock:l},(u=o.slotProps)==null?void 0:u.toolbar),tabs:_({hidden:!1},(h=o.slotProps)==null?void 0:h.tabs)})}),{renderPicker:d}=$S({props:c,valueManager:vt,valueType:"date-time",getOpenDialogAriaText:kd({utils:a,formatKey:"fullDate",contextTranslation:s.openDatePickerDialogue,propsTranslation:(p=c.localeText)==null?void 0:p.openDatePickerDialogue}),validator:$a});return d()});mu.propTypes={ampm:V.bool,ampmInClock:V.bool,autoFocus:V.bool,className:V.string,closeOnSelect:V.bool,dayOfWeekFormatter:V.func,defaultValue:V.object,disabled:V.bool,disableFuture:V.bool,disableHighlightToday:V.bool,disableIgnoringDatePartForTimeValidation:V.bool,disableOpenPicker:V.bool,disablePast:V.bool,displayWeekNumber:V.bool,enableAccessibleFieldDOMStructure:V.any,fixedWeekNumber:V.number,format:V.string,formatDensity:V.oneOf(["dense","spacious"]),inputRef:Pc,label:V.node,loading:V.bool,localeText:V.object,maxDate:V.object,maxDateTime:V.object,maxTime:V.object,minDate:V.object,minDateTime:V.object,minTime:V.object,minutesStep:V.number,monthsPerRow:V.oneOf([3,4]),name:V.string,onAccept:V.func,onChange:V.func,onClose:V.func,onError:V.func,onMonthChange:V.func,onOpen:V.func,onSelectedSectionsChange:V.func,onViewChange:V.func,onYearChange:V.func,open:V.bool,openTo:V.oneOf(["day","hours","minutes","month","seconds","year"]),orientation:V.oneOf(["landscape","portrait"]),readOnly:V.bool,reduceAnimations:V.bool,referenceDate:V.object,renderLoading:V.func,selectedSections:V.oneOfType([V.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),V.number]),shouldDisableDate:V.func,shouldDisableMonth:V.func,shouldDisableTime:V.func,shouldDisableYear:V.func,showDaysOutsideCurrentMonth:V.bool,slotProps:V.object,slots:V.object,sx:V.oneOfType([V.arrayOf(V.oneOfType([V.func,V.object,V.bool])),V.func,V.object]),timezone:V.string,value:V.object,view:V.oneOf(["day","hours","minutes","month","seconds","year"]),viewRenderers:V.shape({day:V.func,hours:V.func,minutes:V.func,month:V.func,seconds:V.func,year:V.func}),views:V.arrayOf(V.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:V.oneOf(["asc","desc"]),yearsPerRow:V.oneOf([3,4])};const VS=["desktopModeMediaQuery"],pu=f.forwardRef(function(n,r){const s=Fe({props:n,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:a=Lg}=s,o=Te(s,VS);return Ko(a,{defaultMatches:!0})?e.jsx(hu,_({ref:r},o)):e.jsx(mu,_({ref:r},o))});var ra={exports:{}},BS=ra.exports,Ul;function WS(){return Ul||(Ul=1,(function(t,n){(function(r,s){t.exports=s()})(BS,(function(){var r=1e3,s=6e4,a=36e5,o="millisecond",i="second",l="minute",c="hour",d="day",u="week",h="month",p="quarter",x="year",g="date",v="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var R=["th","st","nd","rd"],T=M%100;return"["+M+(R[(T-20)%10]||R[T]||R[0])+"]"}},S=function(M,R,T){var k=String(M);return!k||k.length>=R?M:""+Array(R+1-k.length).join(T)+M},y={s:S,z:function(M){var R=-M.utcOffset(),T=Math.abs(R),k=Math.floor(T/60),N=T%60;return(R<=0?"+":"-")+S(k,2,"0")+":"+S(N,2,"0")},m:function M(R,T){if(R.date()<T.date())return-M(T,R);var k=12*(T.year()-R.year())+(T.month()-R.month()),N=R.clone().add(k,h),W=T-N<0,q=R.clone().add(k+(W?-1:1),h);return+(-(k+(T-N)/(W?N-q:q-N))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:h,y:x,w:u,d,D:g,h:c,m:l,s:i,ms:o,Q:p}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},E="en",D={};D[E]=j;var I="$isDayjsObject",A=function(M){return M instanceof H||!(!M||!M[I])},z=function M(R,T,k){var N;if(!R)return E;if(typeof R=="string"){var W=R.toLowerCase();D[W]&&(N=W),T&&(D[W]=T,N=W);var q=R.split("-");if(!N&&q.length>1)return M(q[0])}else{var Z=R.name;D[Z]=R,N=Z}return!k&&N&&(E=N),N||!k&&E},O=function(M,R){if(A(M))return M.clone();var T=typeof R=="object"?R:{};return T.date=M,T.args=arguments,new H(T)},F=y;F.l=z,F.i=A,F.w=function(M,R){return O(M,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var H=(function(){function M(T){this.$L=z(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[I]=!0}var R=M.prototype;return R.parse=function(T){this.$d=(function(k){var N=k.date,W=k.utc;if(N===null)return new Date(NaN);if(F.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var q=N.match(m);if(q){var Z=q[2]-1||0,se=(q[7]||"0").substring(0,3);return W?new Date(Date.UTC(q[1],Z,q[3]||1,q[4]||0,q[5]||0,q[6]||0,se)):new Date(q[1],Z,q[3]||1,q[4]||0,q[5]||0,q[6]||0,se)}}return new Date(N)})(T),this.init()},R.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},R.$utils=function(){return F},R.isValid=function(){return this.$d.toString()!==v},R.isSame=function(T,k){var N=O(T);return this.startOf(k)<=N&&N<=this.endOf(k)},R.isAfter=function(T,k){return O(T)<this.startOf(k)},R.isBefore=function(T,k){return this.endOf(k)<O(T)},R.$g=function(T,k,N){return F.u(T)?this[k]:this.set(N,T)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(T,k){var N=this,W=!!F.u(k)||k,q=F.p(T),Z=function(G,le){var ue=F.w(N.$u?Date.UTC(N.$y,le,G):new Date(N.$y,le,G),N);return W?ue:ue.endOf(d)},se=function(G,le){return F.w(N.toDate()[G].apply(N.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(le)),N)},ee=this.$W,te=this.$M,X=this.$D,me="set"+(this.$u?"UTC":"");switch(q){case x:return W?Z(1,0):Z(31,11);case h:return W?Z(1,te):Z(0,te+1);case u:var ae=this.$locale().weekStart||0,B=(ee<ae?ee+7:ee)-ae;return Z(W?X-B:X+(6-B),te);case d:case g:return se(me+"Hours",0);case c:return se(me+"Minutes",1);case l:return se(me+"Seconds",2);case i:return se(me+"Milliseconds",3);default:return this.clone()}},R.endOf=function(T){return this.startOf(T,!1)},R.$set=function(T,k){var N,W=F.p(T),q="set"+(this.$u?"UTC":""),Z=(N={},N[d]=q+"Date",N[g]=q+"Date",N[h]=q+"Month",N[x]=q+"FullYear",N[c]=q+"Hours",N[l]=q+"Minutes",N[i]=q+"Seconds",N[o]=q+"Milliseconds",N)[W],se=W===d?this.$D+(k-this.$W):k;if(W===h||W===x){var ee=this.clone().set(g,1);ee.$d[Z](se),ee.init(),this.$d=ee.set(g,Math.min(this.$D,ee.daysInMonth())).$d}else Z&&this.$d[Z](se);return this.init(),this},R.set=function(T,k){return this.clone().$set(T,k)},R.get=function(T){return this[F.p(T)]()},R.add=function(T,k){var N,W=this;T=Number(T);var q=F.p(k),Z=function(te){var X=O(W);return F.w(X.date(X.date()+Math.round(te*T)),W)};if(q===h)return this.set(h,this.$M+T);if(q===x)return this.set(x,this.$y+T);if(q===d)return Z(1);if(q===u)return Z(7);var se=(N={},N[l]=s,N[c]=a,N[i]=r,N)[q]||1,ee=this.$d.getTime()+T*se;return F.w(ee,this)},R.subtract=function(T,k){return this.add(-1*T,k)},R.format=function(T){var k=this,N=this.$locale();if(!this.isValid())return N.invalidDate||v;var W=T||"YYYY-MM-DDTHH:mm:ssZ",q=F.z(this),Z=this.$H,se=this.$m,ee=this.$M,te=N.weekdays,X=N.months,me=N.meridiem,ae=function(le,ue,ce,K){return le&&(le[ue]||le(k,W))||ce[ue].slice(0,K)},B=function(le){return F.s(Z%12||12,le,"0")},G=me||function(le,ue,ce){var K=le<12?"AM":"PM";return ce?K.toLowerCase():K};return W.replace(w,(function(le,ue){return ue||(function(ce){switch(ce){case"YY":return String(k.$y).slice(-2);case"YYYY":return F.s(k.$y,4,"0");case"M":return ee+1;case"MM":return F.s(ee+1,2,"0");case"MMM":return ae(N.monthsShort,ee,X,3);case"MMMM":return ae(X,ee);case"D":return k.$D;case"DD":return F.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return ae(N.weekdaysMin,k.$W,te,2);case"ddd":return ae(N.weekdaysShort,k.$W,te,3);case"dddd":return te[k.$W];case"H":return String(Z);case"HH":return F.s(Z,2,"0");case"h":return B(1);case"hh":return B(2);case"a":return G(Z,se,!0);case"A":return G(Z,se,!1);case"m":return String(se);case"mm":return F.s(se,2,"0");case"s":return String(k.$s);case"ss":return F.s(k.$s,2,"0");case"SSS":return F.s(k.$ms,3,"0");case"Z":return q}return null})(le)||q.replace(":","")}))},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(T,k,N){var W,q=this,Z=F.p(k),se=O(T),ee=(se.utcOffset()-this.utcOffset())*s,te=this-se,X=function(){return F.m(q,se)};switch(Z){case x:W=X()/12;break;case h:W=X();break;case p:W=X()/3;break;case u:W=(te-ee)/6048e5;break;case d:W=(te-ee)/864e5;break;case c:W=te/a;break;case l:W=te/s;break;case i:W=te/r;break;default:W=te}return N?W:F.a(W)},R.daysInMonth=function(){return this.endOf(h).$D},R.$locale=function(){return D[this.$L]},R.locale=function(T,k){if(!T)return this.$L;var N=this.clone(),W=z(T,k,!0);return W&&(N.$L=W),N},R.clone=function(){return F.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},M})(),Y=H.prototype;return O.prototype=Y,[["$ms",o],["$s",i],["$m",l],["$H",c],["$W",d],["$M",h],["$y",x],["$D",g]].forEach((function(M){Y[M[1]]=function(R){return this.$g(R,M[0],M[1])}})),O.extend=function(M,R){return M.$i||(M(R,H,O),M.$i=!0),O},O.locale=z,O.isDayjs=A,O.unix=function(M){return O(1e3*M)},O.en=D[E],O.Ls=D,O.p={},O}))})(ra)),ra.exports}var US=WS();const ot=xr(US);var sa={exports:{}},zS=sa.exports,zl;function HS(){return zl||(zl=1,(function(t,n){(function(r,s){t.exports=s()})(zS,(function(){var r="week",s="year";return function(a,o,i){var l=o.prototype;l.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var d=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=i(this).startOf(s).add(1,s).date(d),h=i(this).endOf(r);if(u.isBefore(h))return 1}var p=i(this).startOf(s).date(d).startOf(r).subtract(1,"millisecond"),x=this.diff(p,r,!0);return x<0?i(this).startOf("week").week():Math.ceil(x)},l.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}}))})(sa)),sa.exports}var qS=HS();const YS=xr(qS);var aa={exports:{}},GS=aa.exports,Hl;function KS(){return Hl||(Hl=1,(function(t,n){(function(r,s){t.exports=s()})(GS,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d/,o=/\d\d/,i=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},d=function(m){return(m=+m)+(m>68?1900:2e3)},u=function(m){return function(w){this[m]=+w}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=(function(w){if(!w||w==="Z")return 0;var j=w.match(/([+-]|\d\d)/g),S=60*j[1]+(+j[2]||0);return S===0?0:j[0]==="+"?-S:S})(m)}],p=function(m){var w=c[m];return w&&(w.indexOf?w:w.s.concat(w.f))},x=function(m,w){var j,S=c.meridiem;if(S){for(var y=1;y<=24;y+=1)if(m.indexOf(S(y,0,w))>-1){j=y>12;break}}else j=m===(w?"pm":"PM");return j},g={A:[l,function(m){this.afternoon=x(m,!1)}],a:[l,function(m){this.afternoon=x(m,!0)}],Q:[a,function(m){this.month=3*(m-1)+1}],S:[a,function(m){this.milliseconds=100*+m}],SS:[o,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[i,u("seconds")],ss:[i,u("seconds")],m:[i,u("minutes")],mm:[i,u("minutes")],H:[i,u("hours")],h:[i,u("hours")],HH:[i,u("hours")],hh:[i,u("hours")],D:[i,u("day")],DD:[o,u("day")],Do:[l,function(m){var w=c.ordinal,j=m.match(/\d+/);if(this.day=j[0],w)for(var S=1;S<=31;S+=1)w(S).replace(/\[|\]/g,"")===m&&(this.day=S)}],w:[i,u("week")],ww:[o,u("week")],M:[i,u("month")],MM:[o,u("month")],MMM:[l,function(m){var w=p("months"),j=(p("monthsShort")||w.map((function(S){return S.slice(0,3)}))).indexOf(m)+1;if(j<1)throw new Error;this.month=j%12||j}],MMMM:[l,function(m){var w=p("months").indexOf(m)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,u("year")],YY:[o,function(m){this.year=d(m)}],YYYY:[/\d{4}/,u("year")],Z:h,ZZ:h};function v(m){var w,j;w=m,j=c&&c.formats;for(var S=(m=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(O,F,H){var Y=H&&H.toUpperCase();return F||j[H]||r[H]||j[Y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(M,R,T){return R||T.slice(1)}))}))).match(s),y=S.length,E=0;E<y;E+=1){var D=S[E],I=g[D],A=I&&I[0],z=I&&I[1];S[E]=z?{regex:A,parser:z}:D.replace(/^\[|\]$/g,"")}return function(O){for(var F={},H=0,Y=0;H<y;H+=1){var M=S[H];if(typeof M=="string")Y+=M.length;else{var R=M.regex,T=M.parser,k=O.slice(Y),N=R.exec(k)[0];T.call(F,N),O=O.replace(N,"")}}return(function(W){var q=W.afternoon;if(q!==void 0){var Z=W.hours;q?Z<12&&(W.hours+=12):Z===12&&(W.hours=0),delete W.afternoon}})(F),F}}return function(m,w,j){j.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(d=m.parseTwoDigitYear);var S=w.prototype,y=S.parse;S.parse=function(E){var D=E.date,I=E.utc,A=E.args;this.$u=I;var z=A[1];if(typeof z=="string"){var O=A[2]===!0,F=A[3]===!0,H=O||F,Y=A[2];F&&(Y=A[2]),c=this.$locale(),!O&&Y&&(c=j.Ls[Y]),this.$d=(function(k,N,W,q){try{if(["x","X"].indexOf(N)>-1)return new Date((N==="X"?1e3:1)*k);var Z=v(N)(k),se=Z.year,ee=Z.month,te=Z.day,X=Z.hours,me=Z.minutes,ae=Z.seconds,B=Z.milliseconds,G=Z.zone,le=Z.week,ue=new Date,ce=te||(se||ee?1:ue.getDate()),K=se||ue.getFullYear(),xe=0;se&&!ee||(xe=ee>0?ee-1:ue.getMonth());var ge,de=X||0,oe=me||0,he=ae||0,pe=B||0;return G?new Date(Date.UTC(K,xe,ce,de,oe,he,pe+60*G.offset*1e3)):W?new Date(Date.UTC(K,xe,ce,de,oe,he,pe)):(ge=new Date(K,xe,ce,de,oe,he,pe),le&&(ge=q(ge).week(le).toDate()),ge)}catch{return new Date("")}})(D,z,I,j),this.init(),Y&&Y!==!0&&(this.$L=this.locale(Y).$L),H&&D!=this.format(z)&&(this.$d=new Date("")),c={}}else if(z instanceof Array)for(var M=z.length,R=1;R<=M;R+=1){A[1]=z[R-1];var T=j.apply(this,A);if(T.isValid()){this.$d=T.$d,this.$L=T.$L,this.init();break}R===M&&(this.$d=new Date(""))}else y.call(this,E)}}}))})(aa)),aa.exports}var QS=KS();const JS=xr(QS);var oa={exports:{}},XS=oa.exports,ql;function ZS(){return ql||(ql=1,(function(t,n){(function(r,s){t.exports=s()})(XS,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,a,o){var i=a.prototype,l=i.format;o.en.formats=r,i.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,u=(function(h,p){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(x,g,v){var m=v&&v.toUpperCase();return g||p[v]||r[v]||p[m].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(w,j,S){return j||S.slice(1)}))}))})(c,d===void 0?{}:d);return l.call(this,u)}}}))})(oa)),oa.exports}var ew=ZS();const tw=xr(ew);var ia={exports:{}},nw=ia.exports,Yl;function rw(){return Yl||(Yl=1,(function(t,n){(function(r,s){t.exports=s()})(nw,(function(){return function(r,s,a){s.prototype.isBetween=function(o,i,l,c){var d=a(o),u=a(i),h=(c=c||"()")[0]==="(",p=c[1]===")";return(h?this.isAfter(d,l):!this.isBefore(d,l))&&(p?this.isBefore(u,l):!this.isAfter(u,l))||(h?this.isBefore(d,l):!this.isAfter(d,l))&&(p?this.isAfter(u,l):!this.isBefore(u,l))}}}))})(ia)),ia.exports}var sw=rw();const aw=xr(sw);var la={exports:{}},ow=la.exports,Gl;function iw(){return Gl||(Gl=1,(function(t,n){(function(r,s){t.exports=s()})(ow,(function(){return function(r,s){var a=s.prototype,o=a.format;a.format=function(i){var l=this,c=this.$locale();if(!this.isValid())return o.bind(this)(i);var d=this.$utils(),u=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(h){switch(h){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return c.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return c.ordinal(l.week(),"W");case"w":case"ww":return d.s(l.week(),h==="w"?1:2,"0");case"W":case"WW":return d.s(l.isoWeek(),h==="W"?1:2,"0");case"k":case"kk":return d.s(String(l.$H===0?24:l.$H),h==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return h}}));return o.bind(this)(u)}}}))})(la)),la.exports}var lw=iw();const cw=xr(lw);ot.extend(tw);ot.extend(YS);ot.extend(aw);ot.extend(cw);const dw={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},uw={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},po=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),Kl=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),hw=(t,n)=>n?(...r)=>t(...r).locale(n):t;class fu{constructor({locale:n,formats:r}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=dw,this.setLocaleToValue=s=>{const a=this.getCurrentLocaleCode();return a===s.locale()?s:s.locale(a)},this.hasUTCPlugin=()=>typeof ot.utc<"u",this.hasTimezonePlugin=()=>typeof ot.tz<"u",this.isSame=(s,a,o)=>{const i=this.setTimezone(a,this.getTimezone(s));return s.format(o)===i.format(o)},this.cleanTimezone=s=>{switch(s){case"default":return;case"system":return ot.tz.guess();default:return s}},this.createSystemDate=s=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const a=ot.tz.guess();return a!=="UTC"?ot.tz(s,a):ot(s)}return ot(s)},this.createUTCDate=s=>{if(!this.hasUTCPlugin())throw new Error(po);return ot.utc(s)},this.createTZDate=(s,a)=>{if(!this.hasUTCPlugin())throw new Error(po);if(!this.hasTimezonePlugin())throw new Error(Kl);const o=s!==void 0&&!s.endsWith("Z");return ot(s).tz(this.cleanTimezone(a),o)},this.getLocaleFormats=()=>{const s=ot.Ls,a=this.locale||"en";let o=s[a];return o===void 0&&(o=s.en),o.formats},this.adjustOffset=s=>{if(!this.hasTimezonePlugin())return s;const a=this.getTimezone(s);if(a!=="UTC"){const o=s.tz(this.cleanTimezone(a),!0);if(o.$offset===(s.$offset??0))return s;s.$offset=o.$offset}return s},this.date=(s,a="default")=>{if(s===null)return null;let o;return a==="UTC"?o=this.createUTCDate(s):a==="system"||a==="default"&&!this.hasTimezonePlugin()?o=this.createSystemDate(s):o=this.createTZDate(s,a),this.locale===void 0?o:o.locale(this.locale)},this.getInvalidDate=()=>ot(new Date("Invalid date")),this.getTimezone=s=>{var a;if(this.hasTimezonePlugin()){const o=(a=s.$x)==null?void 0:a.$timezone;if(o)return o}return this.hasUTCPlugin()&&s.isUTC()?"UTC":"system"},this.setTimezone=(s,a)=>{if(this.getTimezone(s)===a)return s;if(a==="UTC"){if(!this.hasUTCPlugin())throw new Error(po);return s.utc()}if(a==="system")return s.local();if(!this.hasTimezonePlugin()){if(a==="default")return s;throw new Error(Kl)}return ot.tz(s,this.cleanTimezone(a))},this.toJsDate=s=>s.toDate(),this.parse=(s,a)=>s===""?null:this.dayjs(s,a,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=s=>{const a=this.getLocaleFormats(),o=i=>i.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(l,c,d)=>c||d.slice(1));return s.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(i,l,c)=>{const d=c&&c.toUpperCase();return l||a[c]||o(a[d])})},this.isValid=s=>s==null?!1:s.isValid(),this.format=(s,a)=>this.formatByString(s,this.formats[a]),this.formatByString=(s,a)=>this.dayjs(s).format(a),this.formatNumber=s=>s,this.isEqual=(s,a)=>s===null&&a===null?!0:s===null||a===null?!1:s.toDate().getTime()===a.toDate().getTime(),this.isSameYear=(s,a)=>this.isSame(s,a,"YYYY"),this.isSameMonth=(s,a)=>this.isSame(s,a,"YYYY-MM"),this.isSameDay=(s,a)=>this.isSame(s,a,"YYYY-MM-DD"),this.isSameHour=(s,a)=>s.isSame(a,"hour"),this.isAfter=(s,a)=>s>a,this.isAfterYear=(s,a)=>this.hasUTCPlugin()?!this.isSameYear(s,a)&&s.utc()>a.utc():s.isAfter(a,"year"),this.isAfterDay=(s,a)=>this.hasUTCPlugin()?!this.isSameDay(s,a)&&s.utc()>a.utc():s.isAfter(a,"day"),this.isBefore=(s,a)=>s<a,this.isBeforeYear=(s,a)=>this.hasUTCPlugin()?!this.isSameYear(s,a)&&s.utc()<a.utc():s.isBefore(a,"year"),this.isBeforeDay=(s,a)=>this.hasUTCPlugin()?!this.isSameDay(s,a)&&s.utc()<a.utc():s.isBefore(a,"day"),this.isWithinRange=(s,[a,o])=>s>=a&&s<=o,this.startOfYear=s=>this.adjustOffset(s.startOf("year")),this.startOfMonth=s=>this.adjustOffset(s.startOf("month")),this.startOfWeek=s=>this.adjustOffset(this.setLocaleToValue(s).startOf("week")),this.startOfDay=s=>this.adjustOffset(s.startOf("day")),this.endOfYear=s=>this.adjustOffset(s.endOf("year")),this.endOfMonth=s=>this.adjustOffset(s.endOf("month")),this.endOfWeek=s=>this.adjustOffset(this.setLocaleToValue(s).endOf("week")),this.endOfDay=s=>this.adjustOffset(s.endOf("day")),this.addYears=(s,a)=>this.adjustOffset(a<0?s.subtract(Math.abs(a),"year"):s.add(a,"year")),this.addMonths=(s,a)=>this.adjustOffset(a<0?s.subtract(Math.abs(a),"month"):s.add(a,"month")),this.addWeeks=(s,a)=>this.adjustOffset(a<0?s.subtract(Math.abs(a),"week"):s.add(a,"week")),this.addDays=(s,a)=>this.adjustOffset(a<0?s.subtract(Math.abs(a),"day"):s.add(a,"day")),this.addHours=(s,a)=>this.adjustOffset(a<0?s.subtract(Math.abs(a),"hour"):s.add(a,"hour")),this.addMinutes=(s,a)=>this.adjustOffset(a<0?s.subtract(Math.abs(a),"minute"):s.add(a,"minute")),this.addSeconds=(s,a)=>this.adjustOffset(a<0?s.subtract(Math.abs(a),"second"):s.add(a,"second")),this.getYear=s=>s.year(),this.getMonth=s=>s.month(),this.getDate=s=>s.date(),this.getHours=s=>s.hour(),this.getMinutes=s=>s.minute(),this.getSeconds=s=>s.second(),this.getMilliseconds=s=>s.millisecond(),this.setYear=(s,a)=>this.adjustOffset(s.set("year",a)),this.setMonth=(s,a)=>this.adjustOffset(s.set("month",a)),this.setDate=(s,a)=>this.adjustOffset(s.set("date",a)),this.setHours=(s,a)=>this.adjustOffset(s.set("hour",a)),this.setMinutes=(s,a)=>this.adjustOffset(s.set("minute",a)),this.setSeconds=(s,a)=>this.adjustOffset(s.set("second",a)),this.setMilliseconds=(s,a)=>this.adjustOffset(s.set("millisecond",a)),this.getDaysInMonth=s=>s.daysInMonth(),this.getWeekArray=s=>{const a=this.startOfWeek(this.startOfMonth(s)),o=this.endOfWeek(this.endOfMonth(s));let i=0,l=a;const c=[];for(;l<o;){const d=Math.floor(i/7);c[d]=c[d]||[],c[d].push(l),l=this.addDays(l,1),i+=1}return c},this.getWeekNumber=s=>s.week(),this.getYearRange=([s,a])=>{const o=this.startOfYear(s),i=this.endOfYear(a),l=[];let c=o;for(;this.isBefore(c,i);)l.push(c),c=this.addYears(c,1);return l},this.dayjs=hw(ot,n),this.locale=n,this.formats=_({},uw,r),ot.extend(JS)}getDayOfWeek(n){return n.day()+1}}const Pn={getAllDoctors:async(t={})=>(await $.get("/doctors",{params:t})).data,getDoctorById:async t=>(await $.get(`/doctors/${t}`)).data,searchDoctors:async t=>(await $.get("/doctors/search",{params:{query:t}})).data,getDoctorsBySpecialization:async t=>(await $.get(`/doctors/specialization/${t}`)).data,getAvailableDoctors:async t=>(await $.get("/doctors/available",{params:{date:t}})).data,createDoctor:async t=>(await $.post("/doctors",t)).data,updateDoctor:async(t,n)=>(await $.put(`/doctors/${t}`,n)).data,deleteDoctor:async t=>(await $.delete(`/doctors/${t}`)).data},mw=[{value:"SCHEDULED",label:"Scheduled"},{value:"CONFIRMED",label:"Confirmed"},{value:"IN_PROGRESS",label:"In Progress"},{value:"COMPLETED",label:"Completed"},{value:"CANCELLED",label:"Cancelled"},{value:"NO_SHOW",label:"No Show"}];function fo(){const t=Me(),{id:n}=Bt(),r=!!n,[s,a]=f.useState(!1),[o,i]=f.useState(r),[l,c]=f.useState([]),[d,u]=f.useState([]),[h,p]=f.useState({patientId:"",doctorId:"",appointmentDateTime:new Date,status:"SCHEDULED",reasonForVisit:"",symptoms:"",diagnosis:"",notes:"",duration:30}),x=f.useCallback(async()=>{try{const[j,S]=await Promise.all([kt.getAllPatients(),Pn.getAllDoctors()]);c(j),u(S)}catch(j){J.error("Failed to load patients and doctors"),console.error("Error fetching data:",j)}},[]),g=f.useCallback(async()=>{try{i(!0);const j=await Ir.getAppointmentById(n);p({patientId:j.patientId||"",doctorId:j.doctorId||"",appointmentDateTime:j.appointmentDateTime?new Date(j.appointmentDateTime):new Date,status:j.status||"SCHEDULED",reasonForVisit:j.reasonForVisit||"",symptoms:j.symptoms||"",diagnosis:j.diagnosis||"",notes:j.notes||"",duration:j.duration||30})}catch(j){J.error("Failed to fetch appointment details"),console.error("Error fetching appointment:",j)}finally{i(!1)}},[n]);f.useEffect(()=>{x(),r&&g()},[r,x,g]);const v=j=>{const{name:S,value:y}=j.target;p(E=>({...E,[S]:y}))},m=j=>{p(S=>({...S,appointmentDateTime:j}))},w=async j=>{if(j.preventDefault(),!h.patientId){J.error("Please select a patient");return}if(!h.doctorId){J.error("Please select a doctor");return}if(!h.appointmentDateTime){J.error("Please select appointment date and time");return}try{a(!0);const S={...h,appointmentDateTime:h.appointmentDateTime.toISOString()};r?(await Ir.updateAppointment(n,S),J.success("Appointment updated successfully")):(await Ir.createAppointment(S),J.success("Appointment created successfully")),t("/appointments")}catch(S){J.error(r?"Failed to update appointment":"Failed to create appointment"),console.error("Error saving appointment:",S)}finally{a(!1)}};return o?e.jsx(L,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{mb:3,children:[e.jsx(b,{variant:"h4",fontWeight:700,children:r?"Edit Appointment":"Book New Appointment"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:r?"Update appointment details":"Schedule a new appointment for a patient"})]}),e.jsx(Se,{children:e.jsx(we,{children:e.jsx("form",{onSubmit:w,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(U,{select:!0,fullWidth:!0,label:"Patient",name:"patientId",value:h.patientId,onChange:v,required:!0,disabled:s,children:[e.jsx(ve,{value:"",children:e.jsx("em",{children:"Select Patient"})}),l.map(j=>e.jsxs(ve,{value:j.id,children:[j.firstName," ",j.lastName," - ",j.email]},j.id))]})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(U,{select:!0,fullWidth:!0,label:"Doctor",name:"doctorId",value:h.doctorId,onChange:v,required:!0,disabled:s,children:[e.jsx(ve,{value:"",children:e.jsx("em",{children:"Select Doctor"})}),d.map(j=>e.jsxs(ve,{value:j.id,children:["Dr. ",j.firstName," ",j.lastName," -"," ",j.specialization]},j.id))]})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(mi,{dateAdapter:fu,children:e.jsx(pu,{label:"Appointment Date & Time",value:h.appointmentDateTime,onChange:m,disabled:s,slotProps:{textField:{fullWidth:!0,required:!0}}})})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{select:!0,fullWidth:!0,label:"Status",name:"status",value:h.status,onChange:v,disabled:s,children:mw.map(j=>e.jsx(ve,{value:j.value,children:j.label},j.value))})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"Duration (minutes)",name:"duration",type:"number",value:h.duration,onChange:v,disabled:s,inputProps:{min:15,max:180,step:15}})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"Reason for Visit",name:"reasonForVisit",value:h.reasonForVisit,onChange:v,disabled:s})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:3,label:"Symptoms",name:"symptoms",value:h.symptoms,onChange:v,disabled:s,placeholder:"Describe the patient's symptoms..."})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:3,label:"Diagnosis",name:"diagnosis",value:h.diagnosis,onChange:v,disabled:s,placeholder:"Enter diagnosis (if available)..."})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:3,label:"Notes",name:"notes",value:h.notes,onChange:v,disabled:s,placeholder:"Additional notes or comments..."})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{display:"flex",gap:2,justifyContent:"flex-end",children:[e.jsx(re,{variant:"outlined",onClick:()=>t("/appointments"),disabled:s,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",disabled:s,children:s?e.jsx(Ne,{size:24}):r?"Update Appointment":"Book Appointment"})]})})]})})})})]})}function pw(){const t=Me(),{can:n}=St(),[r,s]=f.useState([]),[a,o]=f.useState([]),[i,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState(!1),[p,x]=f.useState(null),g=f.useCallback(async()=>{try{l(!0);const D=await Pn.getAllDoctors();s(D),o(D)}catch(D){J.error("Failed to fetch doctors"),console.error("Error fetching doctors:",D)}finally{l(!1)}},[]),v=f.useCallback(()=>{if(!c.trim()){o(r);return}const D=c.toLowerCase(),I=r.filter(A=>{var z,O,F,H,Y,M,R;return((z=A.firstName)==null?void 0:z.toLowerCase().includes(D))||((O=A.lastName)==null?void 0:O.toLowerCase().includes(D))||((F=A.fullName)==null?void 0:F.toLowerCase().includes(D))||((H=A.doctorId)==null?void 0:H.toLowerCase().includes(D))||((Y=A.specialization)==null?void 0:Y.toLowerCase().includes(D))||((M=A.email)==null?void 0:M.toLowerCase().includes(D))||((R=A.phone)==null?void 0:R.includes(D))});o(I)},[c,r]);f.useEffect(()=>{g()},[g]),f.useEffect(()=>{v()},[v]);const m=()=>{t("/doctors/new")},w=D=>{t(`/doctors/edit/${D}`)},j=D=>{x(D),h(!0)},S=async()=>{try{await Pn.deleteDoctor(p.id),J.success("Doctor deleted successfully"),h(!1),x(null),g()}catch(D){J.error("Failed to delete doctor"),console.error("Error deleting doctor:",D)}},y=()=>{h(!1),x(null)},E=async D=>{try{await Pn.updateAvailability(D.id,!D.availableForConsultation),J.success("Availability updated successfully"),g()}catch(I){J.error("Failed to update availability"),console.error("Error updating availability:",I)}};return i?e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(L,{children:[e.jsx(b,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Doctors"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Manage medical staff directory"})]}),n(fe.ADD_DOCTOR)&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:m,children:"Add Doctor"})]}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(U,{fullWidth:!0,placeholder:"Search by name, ID, specialization, email, or phone...",value:c,onChange:D=>d(D.target.value),InputProps:{startAdornment:e.jsx(yn,{position:"start",children:e.jsx(Is,{})})},sx:{mb:3}}),e.jsx(Ye,{children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Doctor ID"}),e.jsx(P,{children:"Name"}),e.jsx(P,{children:"Specialization"}),e.jsx(P,{children:"Experience"}),e.jsx(P,{children:"Phone"}),e.jsx(P,{children:"Email"}),e.jsx(P,{children:"Availability"}),e.jsx(P,{children:"Status"}),e.jsx(P,{align:"right",children:"Actions"})]})}),e.jsx(Ke,{children:a.length>0?a.map(D=>e.jsxs(je,{hover:!0,children:[e.jsx(P,{children:D.doctorId}),e.jsxs(P,{children:[e.jsx(b,{fontWeight:600,children:D.fullName||`Dr. ${D.firstName} ${D.lastName}`}),D.qualification&&e.jsx(b,{variant:"caption",color:"text.secondary",children:D.qualification})]}),e.jsx(P,{children:e.jsx(Ee,{label:D.specialization,size:"small",color:"primary"})}),e.jsxs(P,{children:[D.yearsOfExperience," years"]}),e.jsx(P,{children:D.phone||"-"}),e.jsx(P,{children:D.email||"-"}),e.jsx(P,{children:e.jsx(Ee,{label:D.availableForConsultation?"Available":"Unavailable",size:"small",color:D.availableForConsultation?"success":"default",onClick:()=>E(D),sx:{cursor:"pointer"}})}),e.jsx(P,{children:e.jsx(Ee,{label:D.active?"Active":"Inactive",size:"small",color:D.active?"success":"default"})}),e.jsxs(P,{align:"right",children:[n(fe.EDIT_DOCTOR)&&e.jsx(Pe,{size:"small",color:"primary",onClick:()=>w(D.id),children:e.jsx(on,{fontSize:"small"})}),n(fe.DELETE_DOCTOR)&&e.jsx(Pe,{size:"small",color:"error",onClick:()=>j(D),children:e.jsx(Nt,{fontSize:"small"})})]})]},D.id)):e.jsx(je,{children:e.jsx(P,{colSpan:9,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:c?"No doctors found matching your search":'No doctors found. Click "Add Doctor" to create one.'})})})})]})})]})}),e.jsxs(ut,{open:u,onClose:y,children:[e.jsx(gt,{children:"Delete Doctor"}),e.jsx(ht,{children:e.jsxs(b,{children:["Are you sure you want to delete Dr. ",p==null?void 0:p.firstName," ",p==null?void 0:p.lastName,"? This action cannot be undone."]})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:y,startIcon:e.jsx(dh,{}),children:"Cancel"}),e.jsx(re,{onClick:S,color:"error",variant:"contained",startIcon:e.jsx(uh,{}),children:"Delete"})]})]})]})}function fw(){return e.jsx(L,{children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h5",fontWeight:700,children:"Doctor Profile"}),e.jsx(b,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Doctor profile details will be displayed here..."})]})})})}const xw=["CARDIOLOGY","NEUROLOGY","PEDIATRICS","ORTHOPEDICS","DERMATOLOGY","GENERAL_MEDICINE","PSYCHIATRY","SURGERY","OPHTHALMOLOGY","ENT","GYNECOLOGY","UROLOGY","ONCOLOGY","RADIOLOGY","ANESTHESIOLOGY"];function Ql(){const t=Me(),{id:n}=Bt(),r=!!n,[s,a]=f.useState(!1),[o,i]=f.useState(!1),[l,c]=f.useState({doctorId:"",firstName:"",lastName:"",specialization:"",licenseNumber:"",phone:"",email:"",department:"",yearsOfExperience:0,qualification:"",about:"",availableForConsultation:!0,active:!0}),[d,u]=f.useState({}),h=f.useCallback(async()=>{try{a(!0);const m=await Pn.getDoctorById(n);c({doctorId:m.doctorId||"",firstName:m.firstName||"",lastName:m.lastName||"",specialization:m.specialization||"",licenseNumber:m.licenseNumber||"",phone:m.phone||"",email:m.email||"",department:m.department||"",yearsOfExperience:m.yearsOfExperience||0,qualification:m.qualification||"",about:m.about||"",availableForConsultation:m.availableForConsultation??!0,active:m.active??!0})}catch(m){J.error("Failed to fetch doctor details"),console.error("Error fetching doctor:",m)}finally{a(!1)}},[n]);f.useEffect(()=>{r&&h()},[r,h]);const p=m=>{const{name:w,value:j,checked:S,type:y}=m.target;c(E=>({...E,[w]:y==="checkbox"?S:j})),d[w]&&u(E=>({...E,[w]:""}))},x=()=>{const m={};return l.doctorId.trim()||(m.doctorId="Doctor ID is required"),l.firstName.trim()||(m.firstName="First name is required"),l.lastName.trim()||(m.lastName="Last name is required"),l.specialization||(m.specialization="Specialization is required"),l.yearsOfExperience<0&&(m.yearsOfExperience="Years of experience cannot be negative"),l.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)&&(m.email="Invalid email format"),u(m),Object.keys(m).length===0},g=async m=>{var w,j;if(m.preventDefault(),!x()){J.error("Please fix the errors in the form");return}try{i(!0),r?(await Pn.updateDoctor(n,l),J.success("Doctor updated successfully")):(await Pn.createDoctor(l),J.success("Doctor created successfully")),t("/doctors")}catch(S){const y=((j=(w=S.response)==null?void 0:w.data)==null?void 0:j.message)||"Failed to save doctor";J.error(y),console.error("Error saving doctor:",S)}finally{i(!1)}},v=()=>{t("/doctors")};return s?e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{sx:{mb:3},children:[e.jsx(b,{variant:"h4",fontWeight:700,gutterBottom:!0,children:r?"Edit Doctor":"Add New Doctor"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:r?"Update doctor information":"Enter doctor details to add to the system"})]}),e.jsx(Se,{children:e.jsx(we,{children:e.jsx("form",{onSubmit:g,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Basic Information"})}),e.jsx(C,{item:!0,xs:12,md:4,children:e.jsx(U,{fullWidth:!0,required:!0,label:"Doctor ID",name:"doctorId",value:l.doctorId,onChange:p,error:!!d.doctorId,helperText:d.doctorId,disabled:r})}),e.jsx(C,{item:!0,xs:12,md:4,children:e.jsx(U,{fullWidth:!0,required:!0,label:"First Name",name:"firstName",value:l.firstName,onChange:p,error:!!d.firstName,helperText:d.firstName})}),e.jsx(C,{item:!0,xs:12,md:4,children:e.jsx(U,{fullWidth:!0,required:!0,label:"Last Name",name:"lastName",value:l.lastName,onChange:p,error:!!d.lastName,helperText:d.lastName})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Professional Information"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,required:!0,select:!0,label:"Specialization",name:"specialization",value:l.specialization,onChange:p,error:!!d.specialization,helperText:d.specialization,children:xw.map(m=>e.jsx(ve,{value:m,children:m.replace(/_/g," ")},m))})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"License Number",name:"licenseNumber",value:l.licenseNumber,onChange:p})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"Qualification",name:"qualification",value:l.qualification,onChange:p,placeholder:"e.g., MBBS, MD"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,required:!0,type:"number",label:"Years of Experience",name:"yearsOfExperience",value:l.yearsOfExperience,onChange:p,error:!!d.yearsOfExperience,helperText:d.yearsOfExperience,inputProps:{min:0}})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"Department",name:"department",value:l.department,onChange:p,placeholder:"e.g., Emergency, OPD"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Contact Information"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"Phone",name:"phone",value:l.phone,onChange:p,placeholder:"555-0123"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,type:"email",label:"Email",name:"email",value:l.email,onChange:p,error:!!d.email,helperText:d.email,placeholder:"doctor@example.com"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Additional Information"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:4,label:"About",name:"about",value:l.about,onChange:p,placeholder:"Brief description about the doctor..."})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(b,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Status"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(ua,{control:e.jsx(wi,{checked:l.availableForConsultation,onChange:p,name:"availableForConsultation",color:"primary"}),label:"Available for Consultation"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(ua,{control:e.jsx(wi,{checked:l.active,onChange:p,name:"active",color:"primary"}),label:"Active"})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,mt:2},children:[e.jsx(re,{type:"submit",variant:"contained",startIcon:o?e.jsx(Ne,{size:20}):e.jsx(fr,{}),disabled:o,children:o?"Saving...":r?"Update Doctor":"Add Doctor"}),e.jsx(re,{variant:"outlined",startIcon:e.jsx(mt,{}),onClick:v,children:"Cancel"})]})})]})})})})]})}function gw(){const t=Me(),{can:n}=St(),[r,s]=f.useState([]),[a,o]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{o(!0);const d=(await $.get("/users")).data.filter(u=>u.role==="NURSE");s(d)}catch(c){J.error("Failed to load nurses"),console.error("Error fetching nurses:",c)}finally{o(!1)}},l=async c=>{if(window.confirm("Are you sure you want to delete this nurse?"))try{await $.delete(`/users/${c}`),J.success("Nurse deleted successfully"),i()}catch(d){J.error("Failed to delete nurse"),console.error("Error deleting nurse:",d)}};return a?e.jsx(L,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"Nurses"}),n(fe.ADD_NURSE)&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>t("/nurses/new"),children:"Add Nurse"})]}),e.jsx(Se,{children:e.jsx(we,{children:e.jsx(Ye,{component:Oe,elevation:0,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:e.jsx("strong",{children:"ID"})}),e.jsx(P,{children:e.jsx("strong",{children:"Name"})}),e.jsx(P,{children:e.jsx("strong",{children:"Email"})}),e.jsx(P,{children:e.jsx("strong",{children:"Phone"})}),e.jsx(P,{children:e.jsx("strong",{children:"Status"})}),(n(fe.EDIT_NURSE)||n(fe.DELETE_NURSE))&&e.jsx(P,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(Ke,{children:r.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:6,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No nurses found"})})}):r.map(c=>e.jsxs(je,{children:[e.jsxs(P,{children:["#",c.userId]}),e.jsxs(P,{children:[c.firstName," ",c.lastName]}),e.jsx(P,{children:c.email}),e.jsx(P,{children:c.phone||"-"}),e.jsx(P,{children:e.jsx(Ee,{label:c.enabled?"Active":"Inactive",size:"small",color:c.enabled?"success":"default"})}),(n(fe.EDIT_NURSE)||n(fe.DELETE_NURSE))&&e.jsx(P,{align:"center",children:e.jsxs(L,{display:"flex",gap:.5,justifyContent:"center",children:[e.jsx(Pe,{size:"small",color:"primary",onClick:()=>t(`/nurses/${c.userId}`),children:e.jsx(it,{})}),n(fe.EDIT_NURSE)&&e.jsx(Pe,{size:"small",color:"primary",onClick:()=>t(`/nurses/edit/${c.userId}`),children:e.jsx(on,{})}),n(fe.DELETE_NURSE)&&e.jsx(Pe,{size:"small",color:"error",onClick:()=>l(c.userId),children:e.jsx(Nt,{})})]})})]},c.userId))})]})})})})]})}function Jl(){const{id:t}=Bt(),n=Me(),[r,s]=f.useState(!1),[a,o]=f.useState({username:"",email:"",password:"",firstName:"",lastName:"",phone:"",role:"NURSE"}),i=f.useCallback(async()=>{try{const u=(await $.get(`/users/${t}`)).data;o({username:u.username,email:u.email,password:"",firstName:u.firstName,lastName:u.lastName,phone:u.phone||"",role:"NURSE"})}catch{J.error("Failed to fetch nurse details")}},[t]);f.useEffect(()=>{t&&i()},[t,i]);const l=d=>{o({...a,[d.target.name]:d.target.value})},c=async d=>{var u,h;d.preventDefault(),s(!0);try{t?(await $.put(`/users/${t}`,a),J.success("Nurse updated successfully")):(await $.post("/auth/admin/create-user",a),J.success("Nurse created successfully")),n("/nurses")}catch(p){const x=((h=(u=p.response)==null?void 0:u.data)==null?void 0:h.message)||(t?"Failed to update nurse":"Failed to create nurse");J.error(x),console.error("Error:",p)}finally{s(!1)}};return e.jsxs(L,{children:[e.jsx(L,{sx:{display:"flex",alignItems:"center",mb:3},children:e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/nurses"),children:"Back to Nurses"})}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h5",fontWeight:700,gutterBottom:!0,children:t?"Edit Nurse":"Add New Nurse"}),e.jsx(b,{variant:"body2",color:"text.secondary",sx:{mb:3},children:t?"Update nurse information":"Enter nurse details"}),e.jsx("form",{onSubmit:c,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Username",name:"username",value:a.username,onChange:l,required:!0,disabled:t})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Email",name:"email",type:"email",value:a.email,onChange:l,required:!0})}),!t&&e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Password",name:"password",type:"password",value:a.password,onChange:l,required:!t,helperText:"Minimum 6 characters"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"First Name",name:"firstName",value:a.firstName,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Last Name",name:"lastName",value:a.lastName,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Phone",name:"phone",value:a.phone,onChange:l})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(re,{variant:"outlined",onClick:()=>n("/nurses"),disabled:r,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",startIcon:r?e.jsx(Ne,{size:20}):e.jsx(fr,{}),disabled:r,children:t?"Update Nurse":"Create Nurse"})]})})]})})]})})]})}function yw(){const t=Me(),{can:n}=St(),[r,s]=f.useState([]),[a,o]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{o(!0);const d=(await $.get("/users")).data.filter(u=>u.role==="PHARMACIST");s(d)}catch(c){J.error("Failed to load pharmacists"),console.error("Error fetching pharmacists:",c)}finally{o(!1)}},l=async c=>{if(window.confirm("Are you sure you want to delete this pharmacist?"))try{await $.delete(`/users/${c}`),J.success("Pharmacist deleted successfully"),i()}catch(d){J.error("Failed to delete pharmacist"),console.error("Error deleting pharmacist:",d)}};return a?e.jsx(L,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"Pharmacists"}),n(fe.ADD_PHARMACIST)&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>t("/pharmacists/new"),children:"Add Pharmacist"})]}),e.jsx(Se,{children:e.jsx(we,{children:e.jsx(Ye,{component:Oe,elevation:0,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:e.jsx("strong",{children:"ID"})}),e.jsx(P,{children:e.jsx("strong",{children:"Name"})}),e.jsx(P,{children:e.jsx("strong",{children:"Email"})}),e.jsx(P,{children:e.jsx("strong",{children:"Phone"})}),e.jsx(P,{children:e.jsx("strong",{children:"Status"})}),(n(fe.EDIT_PHARMACIST)||n(fe.DELETE_PHARMACIST))&&e.jsx(P,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(Ke,{children:r.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:6,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No pharmacists found"})})}):r.map(c=>e.jsxs(je,{children:[e.jsxs(P,{children:["#",c.userId]}),e.jsxs(P,{children:[c.firstName," ",c.lastName]}),e.jsx(P,{children:c.email}),e.jsx(P,{children:c.phone||"-"}),e.jsx(P,{children:e.jsx(Ee,{label:c.enabled?"Active":"Inactive",size:"small",color:c.enabled?"success":"default"})}),(n(fe.EDIT_PHARMACIST)||n(fe.DELETE_PHARMACIST))&&e.jsx(P,{align:"center",children:e.jsxs(L,{display:"flex",gap:.5,justifyContent:"center",children:[e.jsx(Pe,{size:"small",color:"primary",onClick:()=>t(`/pharmacists/${c.userId}`),children:e.jsx(it,{})}),n(fe.EDIT_PHARMACIST)&&e.jsx(Pe,{size:"small",color:"primary",onClick:()=>t(`/pharmacists/edit/${c.userId}`),children:e.jsx(on,{})}),n(fe.DELETE_PHARMACIST)&&e.jsx(Pe,{size:"small",color:"error",onClick:()=>l(c.userId),children:e.jsx(Nt,{})})]})})]},c.userId))})]})})})})]})}function Xl(){const{id:t}=Bt(),n=Me(),[r,s]=f.useState(!1),[a,o]=f.useState({username:"",email:"",password:"",firstName:"",lastName:"",phone:"",role:"PHARMACIST"}),i=f.useCallback(async()=>{try{const u=(await $.get(`/users/${t}`)).data;o({username:u.username,email:u.email,password:"",firstName:u.firstName,lastName:u.lastName,phone:u.phone||"",role:"PHARMACIST"})}catch{J.error("Failed to fetch pharmacist details")}},[t]);f.useEffect(()=>{t&&i()},[t,i]);const l=d=>{o({...a,[d.target.name]:d.target.value})},c=async d=>{var u,h;d.preventDefault(),s(!0);try{t?(await $.put(`/users/${t}`,a),J.success("Pharmacist updated successfully")):(await $.post("/auth/admin/create-user",a),J.success("Pharmacist created successfully")),n("/pharmacists")}catch(p){const x=((h=(u=p.response)==null?void 0:u.data)==null?void 0:h.message)||(t?"Failed to update pharmacist":"Failed to create pharmacist");J.error(x),console.error("Error:",p)}finally{s(!1)}};return e.jsxs(L,{children:[e.jsx(L,{sx:{display:"flex",alignItems:"center",mb:3},children:e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/pharmacists"),children:"Back to Pharmacists"})}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h5",fontWeight:700,gutterBottom:!0,children:t?"Edit Pharmacist":"Add New Pharmacist"}),e.jsx(b,{variant:"body2",color:"text.secondary",sx:{mb:3},children:t?"Update pharmacist information":"Enter pharmacist details"}),e.jsx("form",{onSubmit:c,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Username",name:"username",value:a.username,onChange:l,required:!0,disabled:t})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Email",name:"email",type:"email",value:a.email,onChange:l,required:!0})}),!t&&e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Password",name:"password",type:"password",value:a.password,onChange:l,required:!t,helperText:"Minimum 6 characters"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"First Name",name:"firstName",value:a.firstName,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Last Name",name:"lastName",value:a.lastName,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Phone",name:"phone",value:a.phone,onChange:l})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(re,{variant:"outlined",onClick:()=>n("/pharmacists"),disabled:r,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",startIcon:r?e.jsx(Ne,{size:20}):e.jsx(fr,{}),disabled:r,children:t?"Update Pharmacist":"Create Pharmacist"})]})})]})})]})})]})}function jw(){const t=Me(),{can:n}=St(),[r,s]=f.useState([]),[a,o]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{o(!0);const d=(await $.get("/users")).data.filter(u=>u.role==="LAB_TECHNICIAN");s(d)}catch(c){J.error("Failed to load lab technicians"),console.error("Error fetching lab technicians:",c)}finally{o(!1)}},l=async c=>{if(window.confirm("Are you sure you want to delete this lab technician?"))try{await $.delete(`/users/${c}`),J.success("Lab technician deleted successfully"),i()}catch(d){J.error("Failed to delete lab technician"),console.error("Error deleting lab technician:",d)}};return a?e.jsx(L,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"Lab Technicians"}),n(fe.ADD_LAB_TECHNICIAN)&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>t("/lab-technicians/new"),children:"Add Lab Technician"})]}),e.jsx(Se,{children:e.jsx(we,{children:e.jsx(Ye,{component:Oe,elevation:0,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:e.jsx("strong",{children:"ID"})}),e.jsx(P,{children:e.jsx("strong",{children:"Name"})}),e.jsx(P,{children:e.jsx("strong",{children:"Email"})}),e.jsx(P,{children:e.jsx("strong",{children:"Phone"})}),e.jsx(P,{children:e.jsx("strong",{children:"Status"})}),(n(fe.EDIT_LAB_TECHNICIAN)||n(fe.DELETE_LAB_TECHNICIAN))&&e.jsx(P,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(Ke,{children:r.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:6,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No lab technicians found"})})}):r.map(c=>e.jsxs(je,{children:[e.jsxs(P,{children:["#",c.userId]}),e.jsxs(P,{children:[c.firstName," ",c.lastName]}),e.jsx(P,{children:c.email}),e.jsx(P,{children:c.phone||"-"}),e.jsx(P,{children:e.jsx(Ee,{label:c.enabled?"Active":"Inactive",size:"small",color:c.enabled?"success":"default"})}),(n(fe.EDIT_LAB_TECHNICIAN)||n(fe.DELETE_LAB_TECHNICIAN))&&e.jsx(P,{align:"center",children:e.jsxs(L,{display:"flex",gap:.5,justifyContent:"center",children:[e.jsx(Pe,{size:"small",color:"primary",onClick:()=>t(`/lab-technicians/${c.userId}`),children:e.jsx(it,{})}),n(fe.EDIT_LAB_TECHNICIAN)&&e.jsx(Pe,{size:"small",color:"primary",onClick:()=>t(`/lab-technicians/edit/${c.userId}`),children:e.jsx(on,{})}),n(fe.DELETE_LAB_TECHNICIAN)&&e.jsx(Pe,{size:"small",color:"error",onClick:()=>l(c.userId),children:e.jsx(Nt,{})})]})})]},c.userId))})]})})})})]})}function Zl(){const{id:t}=Bt(),n=Me(),[r,s]=f.useState(!1),[a,o]=f.useState({username:"",email:"",password:"",firstName:"",lastName:"",phone:"",role:"LAB_TECHNICIAN"}),i=f.useCallback(async()=>{try{const u=(await $.get(`/users/${t}`)).data;o({username:u.username,email:u.email,password:"",firstName:u.firstName,lastName:u.lastName,phone:u.phone||"",role:"LAB_TECHNICIAN"})}catch{J.error("Failed to fetch lab technician details")}},[t]);f.useEffect(()=>{t&&i()},[t,i]);const l=d=>{o({...a,[d.target.name]:d.target.value})},c=async d=>{var u,h;d.preventDefault(),s(!0);try{t?(await $.put(`/users/${t}`,a),J.success("Lab technician updated successfully")):(await $.post("/auth/admin/create-user",a),J.success("Lab technician created successfully")),n("/lab-technicians")}catch(p){const x=((h=(u=p.response)==null?void 0:u.data)==null?void 0:h.message)||(t?"Failed to update lab technician":"Failed to create lab technician");J.error(x),console.error("Error:",p)}finally{s(!1)}};return e.jsxs(L,{children:[e.jsx(L,{sx:{display:"flex",alignItems:"center",mb:3},children:e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/lab-technicians"),children:"Back to Lab Technicians"})}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h5",fontWeight:700,gutterBottom:!0,children:t?"Edit Lab Technician":"Add New Lab Technician"}),e.jsx(b,{variant:"body2",color:"text.secondary",sx:{mb:3},children:t?"Update lab technician information":"Enter lab technician details"}),e.jsx("form",{onSubmit:c,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Username",name:"username",value:a.username,onChange:l,required:!0,disabled:t})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Email",name:"email",type:"email",value:a.email,onChange:l,required:!0})}),!t&&e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Password",name:"password",type:"password",value:a.password,onChange:l,required:!t,helperText:"Minimum 6 characters"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"First Name",name:"firstName",value:a.firstName,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Last Name",name:"lastName",value:a.lastName,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Phone",name:"phone",value:a.phone,onChange:l})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(re,{variant:"outlined",onClick:()=>n("/lab-technicians"),disabled:r,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",startIcon:r?e.jsx(Ne,{size:20}):e.jsx(fr,{}),disabled:r,children:t?"Update Lab Technician":"Create Lab Technician"})]})})]})})]})})]})}function bw(){const t=Me(),{can:n}=St(),[r,s]=f.useState([]),[a,o]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{o(!0);const d=(await $.get("/users")).data.filter(u=>u.role==="RECEPTIONIST");s(d)}catch(c){J.error("Failed to load receptionists"),console.error("Error fetching receptionists:",c)}finally{o(!1)}},l=async c=>{if(window.confirm("Are you sure you want to delete this receptionist?"))try{await $.delete(`/users/${c}`),J.success("Receptionist deleted successfully"),i()}catch(d){J.error("Failed to delete receptionist"),console.error("Error deleting receptionist:",d)}};return a?e.jsx(L,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"Receptionists"}),n(fe.ADD_RECEPTIONIST)&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>t("/receptionists/new"),children:"Add Receptionist"})]}),e.jsx(Se,{children:e.jsx(we,{children:e.jsx(Ye,{component:Oe,elevation:0,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:e.jsx("strong",{children:"ID"})}),e.jsx(P,{children:e.jsx("strong",{children:"Name"})}),e.jsx(P,{children:e.jsx("strong",{children:"Email"})}),e.jsx(P,{children:e.jsx("strong",{children:"Phone"})}),e.jsx(P,{children:e.jsx("strong",{children:"Status"})}),(n(fe.EDIT_RECEPTIONIST)||n(fe.DELETE_RECEPTIONIST))&&e.jsx(P,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(Ke,{children:r.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:6,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No receptionists found"})})}):r.map(c=>e.jsxs(je,{children:[e.jsxs(P,{children:["#",c.userId]}),e.jsxs(P,{children:[c.firstName," ",c.lastName]}),e.jsx(P,{children:c.email}),e.jsx(P,{children:c.phone||"-"}),e.jsx(P,{children:e.jsx(Ee,{label:c.enabled?"Active":"Inactive",size:"small",color:c.enabled?"success":"default"})}),(n(fe.EDIT_RECEPTIONIST)||n(fe.DELETE_RECEPTIONIST))&&e.jsx(P,{align:"center",children:e.jsxs(L,{display:"flex",gap:.5,justifyContent:"center",children:[e.jsx(Pe,{size:"small",color:"primary",onClick:()=>t(`/receptionists/${c.userId}`),children:e.jsx(it,{})}),n(fe.EDIT_RECEPTIONIST)&&e.jsx(Pe,{size:"small",color:"primary",onClick:()=>t(`/receptionists/edit/${c.userId}`),children:e.jsx(on,{})}),n(fe.DELETE_RECEPTIONIST)&&e.jsx(Pe,{size:"small",color:"error",onClick:()=>l(c.userId),children:e.jsx(Nt,{})})]})})]},c.userId))})]})})})})]})}function ec(){const{id:t}=Bt(),n=Me(),[r,s]=f.useState(!1),[a,o]=f.useState({username:"",email:"",password:"",firstName:"",lastName:"",phone:"",role:"RECEPTIONIST"}),i=f.useCallback(async()=>{try{const u=(await $.get(`/users/${t}`)).data;o({username:u.username,email:u.email,password:"",firstName:u.firstName,lastName:u.lastName,phone:u.phone||"",role:"RECEPTIONIST"})}catch{J.error("Failed to fetch receptionist details")}},[t]);f.useEffect(()=>{t&&i()},[t,i]);const l=d=>{o({...a,[d.target.name]:d.target.value})},c=async d=>{var u,h;d.preventDefault(),s(!0);try{t?(await $.put(`/users/${t}`,a),J.success("Receptionist updated successfully")):(await $.post("/auth/admin/create-user",a),J.success("Receptionist created successfully")),n("/receptionists")}catch(p){const x=((h=(u=p.response)==null?void 0:u.data)==null?void 0:h.message)||(t?"Failed to update receptionist":"Failed to create receptionist");J.error(x),console.error("Error:",p)}finally{s(!1)}};return e.jsxs(L,{children:[e.jsx(L,{sx:{display:"flex",alignItems:"center",mb:3},children:e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/receptionists"),children:"Back to Receptionists"})}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h5",fontWeight:700,gutterBottom:!0,children:t?"Edit Receptionist":"Add New Receptionist"}),e.jsx(b,{variant:"body2",color:"text.secondary",sx:{mb:3},children:t?"Update receptionist information":"Enter receptionist details"}),e.jsx("form",{onSubmit:c,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Username",name:"username",value:a.username,onChange:l,required:!0,disabled:t})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Email",name:"email",type:"email",value:a.email,onChange:l,required:!0})}),!t&&e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Password",name:"password",type:"password",value:a.password,onChange:l,required:!t,helperText:"Minimum 6 characters"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"First Name",name:"firstName",value:a.firstName,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Last Name",name:"lastName",value:a.lastName,onChange:l,required:!0})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Phone",name:"phone",value:a.phone,onChange:l})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(re,{variant:"outlined",onClick:()=>n("/receptionists"),disabled:r,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",startIcon:r?e.jsx(Ne,{size:20}):e.jsx(fr,{}),disabled:r,children:t?"Update Receptionist":"Create Receptionist"})]})})]})})]})})]})}const xo={assignDoctorToPatient:async t=>(await $.post("/assignments",t)).data,getDoctorAssignments:async t=>(await $.get(`/assignments/doctor/${t}`)).data,getPatientAssignments:async t=>(await $.get(`/assignments/patient/${t}`)).data,getDoctorPatientCount:async t=>(await $.get(`/assignments/doctor/${t}/count`)).data,removeAssignment:async t=>(await $.delete(`/assignments/${t}`)).data};function vw(){const{can:t}=St(),[n,r]=f.useState([]),[s,a]=f.useState([]),[o,i]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(!1),[h,p]=f.useState(""),[x,g]=f.useState(""),[v,m]=f.useState("PRIMARY");f.useEffect(()=>{w()},[]);const w=async()=>{try{c(!0);const[D,I]=await Promise.all([Pn.getAllDoctors(),kt.getAllPatients()]);a(D||[]),i(I||[]);const A=[];if(I&&I.length>0)for(const z of I)try{const O=await xo.getPatientAssignments(z.id);O&&A.push(...O)}catch(O){console.error(`Error fetching assignments for patient ${z.id}:`,O)}r(A)}catch(D){J.error("Failed to load data"),console.error("Error fetching data:",D)}finally{c(!1)}},j=async()=>{var D,I;if(!h||!x){J.error("Please select both doctor and patient");return}try{const A={doctorId:h,patientId:x,assignedAs:v};await xo.assignDoctorToPatient(A),J.success("Doctor assigned successfully"),u(!1),p(""),g(""),m("PRIMARY"),w()}catch(A){J.error(((I=(D=A.response)==null?void 0:D.data)==null?void 0:I.message)||"Failed to assign doctor"),console.error("Error assigning doctor:",A)}},S=async D=>{if(window.confirm("Are you sure you want to remove this assignment?"))try{await xo.removeAssignment(D),J.success("Assignment removed successfully"),w()}catch(I){J.error("Failed to remove assignment"),console.error("Error removing assignment:",I)}},y=D=>{const I=s.find(A=>A.id===D);return I?`Dr. ${I.firstName} ${I.lastName}`:"Unknown"},E=D=>{const I=o.find(A=>A.id===D);return I&&(I.name||`${I.firstName||""} ${I.lastName||""}`.trim())||"Unknown"};return l?e.jsx(L,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"Doctor-Patient Assignments"}),t(fe.ASSIGN_DOCTOR_TO_PATIENT)&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>u(!0),children:"Assign Doctor"})]}),e.jsx(Se,{children:e.jsx(we,{children:e.jsx(Ye,{component:Oe,elevation:0,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:e.jsx("strong",{children:"Patient"})}),e.jsx(P,{children:e.jsx("strong",{children:"Doctor"})}),e.jsx(P,{children:e.jsx("strong",{children:"Type"})}),e.jsx(P,{children:e.jsx("strong",{children:"Assigned Date"})}),t(fe.REMOVE_DOCTOR_FROM_PATIENT)&&e.jsx(P,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(Ke,{children:n.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:5,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No assignments found"})})}):n.map(D=>e.jsxs(je,{children:[e.jsx(P,{children:E(D.patientId)}),e.jsx(P,{children:y(D.doctorId)}),e.jsx(P,{children:e.jsx(Ee,{label:D.assignedAs||"PRIMARY",size:"small",color:D.assignedAs==="PRIMARY"?"primary":"default"})}),e.jsx(P,{children:D.assignedDate?new Date(D.assignedDate).toLocaleDateString():"-"}),t(fe.REMOVE_DOCTOR_FROM_PATIENT)&&e.jsx(P,{align:"center",children:e.jsx(Pe,{color:"error",size:"small",onClick:()=>S(D.id),children:e.jsx(Nt,{})})})]},D.id))})]})})})}),e.jsxs(ut,{open:d,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(gt,{children:e.jsxs(L,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(ps,{}),"Assign Doctor to Patient"]})}),e.jsx(ht,{children:e.jsxs(L,{display:"flex",flexDirection:"column",gap:2,mt:2,children:[e.jsx(U,{select:!0,fullWidth:!0,label:"Select Patient",value:x,onChange:D=>g(D.target.value),children:o.map(D=>e.jsxs(ve,{value:D.id,children:[D.name||`${D.firstName||""} ${D.lastName||""}`.trim()," ","- ",D.email]},D.id))}),e.jsx(U,{select:!0,fullWidth:!0,label:"Select Doctor",value:h,onChange:D=>p(D.target.value),children:s.map(D=>e.jsxs(ve,{value:D.id,children:["Dr. ",D.firstName," ",D.lastName," -"," ",D.specialization]},D.id))}),e.jsxs(U,{select:!0,fullWidth:!0,label:"Role",value:v,onChange:D=>m(D.target.value),children:[e.jsx(ve,{value:"PRIMARY",children:"Primary"}),e.jsx(ve,{value:"CONSULTING",children:"Consulting"}),e.jsx(ve,{value:"SPECIALIST",children:"Specialist"})]})]})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>u(!1),children:"Cancel"}),e.jsx(re,{onClick:j,variant:"contained",children:"Assign"})]})]})]})}function Sw(){const{can:t}=St(),[n,r]=f.useState([]),[s,a]=f.useState([]),[o,i]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(!1),[h,p]=f.useState(""),[x,g]=f.useState(""),[v,m]=f.useState("PRIMARY");f.useEffect(()=>{w()},[]);const w=async()=>{try{c(!0);const[D,I]=await Promise.all([$.get("/users").then(z=>z.data.filter(O=>O.role==="NURSE")),kt.getAllPatients()]);a(D||[]),i(I||[]);const A=await $.get("/nurse-assignments");r(A.data||[])}catch(D){J.error("Failed to load data"),console.error("Error fetching data:",D)}finally{c(!1)}},j=async()=>{var D,I;if(!h||!x){J.error("Please select both nurse and patient");return}try{const A={nurseId:h,patientId:x,assignedAs:v};await $.post("/nurse-assignments",A),J.success("Nurse assigned successfully"),u(!1),p(""),g(""),m("PRIMARY"),w()}catch(A){J.error(((I=(D=A.response)==null?void 0:D.data)==null?void 0:I.message)||"Failed to assign nurse"),console.error("Error assigning nurse:",A)}},S=async D=>{if(window.confirm("Are you sure you want to remove this assignment?"))try{await $.delete(`/nurse-assignments/${D}`),J.success("Assignment removed successfully"),w()}catch(I){J.error("Failed to remove assignment"),console.error("Error removing assignment:",I)}},y=D=>{const I=s.find(A=>A.userId===D);return I?`${I.firstName} ${I.lastName}`:"Unknown"},E=D=>{const I=o.find(A=>A.id===D);return I&&(I.name||`${I.firstName||""} ${I.lastName||""}`.trim())||"Unknown"};return l?e.jsx(L,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"Nurse-Patient Assignments"}),t(fe.ASSIGN_DOCTOR_TO_PATIENT)&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>u(!0),children:"Assign Nurse"})]}),e.jsx(Se,{children:e.jsx(we,{children:e.jsx(Ye,{component:Oe,elevation:0,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:e.jsx("strong",{children:"Patient"})}),e.jsx(P,{children:e.jsx("strong",{children:"Nurse"})}),e.jsx(P,{children:e.jsx("strong",{children:"Type"})}),e.jsx(P,{children:e.jsx("strong",{children:"Status"})}),t(fe.REMOVE_DOCTOR_FROM_PATIENT)&&e.jsx(P,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(Ke,{children:n.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:5,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No assignments found"})})}):n.map(D=>e.jsxs(je,{children:[e.jsx(P,{children:E(D.patientId)}),e.jsx(P,{children:y(D.nurseId)}),e.jsx(P,{children:e.jsx(Ee,{label:D.assignedAs||"PRIMARY",size:"small",color:D.assignedAs==="PRIMARY"?"primary":"default"})}),e.jsx(P,{children:e.jsx(Ee,{label:D.active?"Active":"Inactive",size:"small",color:D.active?"success":"default"})}),t(fe.REMOVE_DOCTOR_FROM_PATIENT)&&e.jsx(P,{align:"center",children:e.jsx(Pe,{color:"error",size:"small",onClick:()=>S(D.id),children:e.jsx(Nt,{})})})]},D.id))})]})})})}),e.jsxs(ut,{open:d,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(gt,{children:e.jsxs(L,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(ps,{}),"Assign Nurse to Patient"]})}),e.jsx(ht,{children:e.jsxs(L,{display:"flex",flexDirection:"column",gap:2,mt:2,children:[e.jsx(U,{select:!0,fullWidth:!0,label:"Select Patient",value:x,onChange:D=>g(D.target.value),children:o.map(D=>e.jsxs(ve,{value:D.id,children:[D.name||`${D.firstName||""} ${D.lastName||""}`.trim()," ","- ",D.email]},D.id))}),e.jsx(U,{select:!0,fullWidth:!0,label:"Select Nurse",value:h,onChange:D=>p(D.target.value),children:s.map(D=>e.jsxs(ve,{value:D.userId,children:[D.firstName," ",D.lastName," - ",D.email]},D.userId))}),e.jsxs(U,{select:!0,fullWidth:!0,label:"Role",value:v,onChange:D=>m(D.target.value),children:[e.jsx(ve,{value:"PRIMARY",children:"Primary"}),e.jsx(ve,{value:"CONSULTING",children:"Consulting"}),e.jsx(ve,{value:"SPECIALIST",children:"Specialist"})]})]})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>u(!1),children:"Cancel"}),e.jsx(re,{onClick:j,variant:"contained",children:"Assign"})]})]})]})}const Ks={getAllLabTests:async()=>(await $.get("/lab-tests")).data,getLabTestById:async t=>(await $.get(`/lab-tests/${t}`)).data,getLabTestsByPatient:async t=>(await $.get(`/lab-tests/patient/${t}`)).data,getLabTestsByDoctor:async t=>(await $.get(`/lab-tests/doctor/${t}`)).data,getLabTestsByStatus:async t=>(await $.get(`/lab-tests/status/${t}`)).data,orderLabTest:async t=>(await $.post("/lab-tests",t)).data,updateLabTest:async(t,n)=>(await $.put(`/lab-tests/${t}`,n)).data,uploadResults:async(t,n)=>(await $.put(`/lab-tests/${t}/results`,n)).data,deleteLabTest:async t=>(await $.delete(`/lab-tests/${t}`)).data},tc={uploadFile:async(t,n="lab-tests")=>{const r=new FormData;return r.append("file",t),r.append("subDirectory",n),(await $.post("/files/upload",r,{headers:{"Content-Type":"multipart/form-data"}})).data},getFileUrl:t=>`${$.defaults.baseURL}/files/download?path=${encodeURIComponent(t)}`};function ww(){const{can:t}=St(),n=Rn(k=>k.auth.user),[r,s]=f.useState([]),[a,o]=f.useState([]),[i,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[p,x]=f.useState(null),[g,v]=f.useState({testResults:"",resultFilePath:"",remarks:""}),[m,w]=f.useState({patientId:"",testType:"",testDate:new Date().toISOString().split("T")[0],description:""}),[j,S]=f.useState(!1),[y,E]=f.useState(null),[D,I]=f.useState(null);f.useEffect(()=>{A(),z()},[]);const A=async()=>{try{l(!0);const k=await Ks.getAllLabTests();s(k)}catch(k){J.error("Failed to load lab tests"),console.error("Error fetching lab tests:",k)}finally{l(!1)}},z=async()=>{try{const k=await kt.getAllPatients();o(k)}catch(k){console.error("Error fetching patients:",k)}},O=async()=>{var k,N;if(!m.patientId||!m.testType){J.error("Please fill in all required fields");return}try{const W={patientId:m.patientId,doctorId:n.userId,testName:m.testType,orderedDate:`${m.testDate}T${new Date().toTimeString().split(" ")[0]}`,status:"ORDERED",description:m.description};await Ks.orderLabTest(W),J.success("Lab test ordered successfully"),h(!1),w({patientId:"",testType:"",testDate:new Date().toISOString().split("T")[0],description:""}),A()}catch(W){J.error(((N=(k=W.response)==null?void 0:k.data)==null?void 0:N.message)||"Failed to order lab test"),console.error("Error ordering lab test:",W)}},F=k=>{E(k),S(!0)},H=k=>{x(k),v({testResults:k.testResults||"",resultFilePath:k.resultFilePath||"",remarks:k.remarks||""}),I(null),d(!0)},Y=k=>{const N=k.target.files[0];N&&(I(N),v({...g,resultFilePath:N.name}))},M=async()=>{var k,N;if(!g.testResults.trim()){J.error("Please enter test results");return}try{let W={...g};if(D){J.info("Uploading file...");const q=await tc.uploadFile(D,"lab-tests");W.resultFilePath=q.filePath}await Ks.uploadResults(p.id,W),J.success("Results uploaded successfully"),d(!1),x(null),I(null),v({testResults:"",resultFilePath:"",remarks:""}),A()}catch(W){J.error(((N=(k=W.response)==null?void 0:k.data)==null?void 0:N.message)||"Failed to upload results"),console.error("Error uploading results:",W)}},R=async k=>{if(window.confirm("Are you sure you want to delete this lab test?"))try{await Ks.deleteLabTest(k),J.success("Lab test deleted successfully"),A()}catch(N){J.error("Failed to delete lab test"),console.error("Error deleting lab test:",N)}},T=k=>{switch(k){case"ORDERED":return"warning";case"SAMPLE_COLLECTED":return"info";case"IN_PROGRESS":return"primary";case"COMPLETED":return"success";case"CANCELLED":case"REJECTED":return"error";default:return"default"}};return i?e.jsx(L,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"Laboratory Tests"}),t(fe.ORDER_LAB_TEST)&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>h(!0),children:"Order Test"})]}),e.jsx(Se,{children:e.jsx(we,{children:e.jsx(Ye,{component:Oe,elevation:0,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:e.jsx("strong",{children:"Test ID"})}),e.jsx(P,{children:e.jsx("strong",{children:"Patient"})}),e.jsx(P,{children:e.jsx("strong",{children:"Test Type"})}),e.jsx(P,{children:e.jsx("strong",{children:"Ordered By"})}),e.jsx(P,{children:e.jsx("strong",{children:"Test Date"})}),e.jsx(P,{children:e.jsx("strong",{children:"Status"})}),e.jsx(P,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(Ke,{children:r.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:7,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No lab tests found"})})}):r.map(k=>e.jsxs(je,{children:[e.jsxs(P,{children:["#",k.id]}),e.jsx(P,{children:k.patientName||`Patient ID: ${k.patientId}`}),e.jsx(P,{children:k.testName||k.testType||"N/A"}),e.jsx(P,{children:k.doctorName||`Doctor ID: ${k.doctorId}`}),e.jsx(P,{children:k.orderedDate?new Date(k.orderedDate).toLocaleDateString():k.sampleCollectedDate?new Date(k.sampleCollectedDate).toLocaleDateString():k.resultDate?new Date(k.resultDate).toLocaleDateString():"-"}),e.jsx(P,{children:e.jsx(Ee,{label:k.status||"ORDERED",size:"small",color:T(k.status)})}),e.jsx(P,{align:"center",children:e.jsxs(L,{display:"flex",gap:.5,justifyContent:"center",children:[e.jsx(Pe,{size:"small",color:"primary",onClick:()=>F(k),title:"View Details",children:e.jsx(it,{})}),t(fe.UPLOAD_LAB_RESULTS)&&e.jsx(Pe,{size:"small",color:"success",onClick:()=>H(k),title:"Upload Results",children:e.jsx(hs,{})}),t(fe.DELETE_LAB_TEST)&&e.jsx(Pe,{size:"small",color:"error",onClick:()=>R(k.id),children:e.jsx(Nt,{})})]})})]},k.id))})]})})})}),e.jsxs(ut,{open:c,onClose:()=>d(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(gt,{children:e.jsxs(L,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(hs,{}),"Upload Test Results -"," ",(p==null?void 0:p.testName)||(p==null?void 0:p.testType)]})}),e.jsx(ht,{children:e.jsxs(L,{display:"flex",flexDirection:"column",gap:2,mt:2,children:[e.jsxs(b,{variant:"body2",color:"text.secondary",children:["Patient:"," ",(p==null?void 0:p.patientName)||`ID: ${p==null?void 0:p.patientId}`]}),e.jsxs(b,{variant:"body2",color:"text.secondary",children:["Ordered Date:"," ",p!=null&&p.orderedDate?new Date(p.orderedDate).toLocaleDateString():"N/A"]}),e.jsx(U,{fullWidth:!0,multiline:!0,rows:4,label:"Test Results",value:g.testResults,onChange:k=>v({...g,testResults:k.target.value}),placeholder:"Enter detailed test results...",required:!0}),e.jsxs(L,{display:"flex",flexDirection:"column",gap:1,children:[e.jsx(U,{fullWidth:!0,label:"Result File Path/URL",value:g.resultFilePath,onChange:k=>v({...g,resultFilePath:k.target.value}),placeholder:"e.g., /reports/lab/test-result-123.pdf"}),e.jsxs(re,{variant:"outlined",component:"label",startIcon:e.jsx(hh,{}),fullWidth:!0,children:["Upload File from System",e.jsx("input",{type:"file",hidden:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:Y})]}),D&&e.jsxs(b,{variant:"caption",color:"primary",children:["Selected: ",D.name]})]}),e.jsx(U,{fullWidth:!0,multiline:!0,rows:2,label:"Remarks",value:g.remarks,onChange:k=>v({...g,remarks:k.target.value}),placeholder:"Any additional remarks or notes..."})]})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>d(!1),children:"Cancel"}),e.jsx(re,{onClick:M,variant:"contained",startIcon:e.jsx(hs,{}),children:"Upload Results"})]})]}),e.jsxs(ut,{open:u,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(gt,{children:e.jsxs(L,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(xt,{}),"Order Lab Test"]})}),e.jsx(ht,{children:e.jsxs(L,{display:"flex",flexDirection:"column",gap:2,mt:2,children:[e.jsx(U,{select:!0,fullWidth:!0,label:"Select Patient",value:m.patientId,onChange:k=>w({...m,patientId:k.target.value}),required:!0,children:a.map(k=>e.jsxs(ve,{value:k.id,children:[k.name||`${k.firstName||""} ${k.lastName||""}`.trim()," ","- ",k.email]},k.id))}),e.jsx(U,{fullWidth:!0,label:"Test Type",value:m.testType,onChange:k=>w({...m,testType:k.target.value}),placeholder:"e.g., Blood Test, X-Ray, MRI, CT Scan...",required:!0}),e.jsx(U,{fullWidth:!0,type:"date",label:"Test Date",value:m.testDate,onChange:k=>w({...m,testDate:k.target.value}),InputLabelProps:{shrink:!0},required:!0}),e.jsx(U,{fullWidth:!0,multiline:!0,rows:3,label:"Description/Notes",value:m.description,onChange:k=>w({...m,description:k.target.value}),placeholder:"Any special instructions or notes for the lab technician..."})]})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>h(!1),children:"Cancel"}),e.jsx(re,{onClick:O,variant:"contained",startIcon:e.jsx(xt,{}),children:"Order Test"})]})]}),e.jsxs(ut,{open:j,onClose:()=>S(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(gt,{children:e.jsxs(L,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(it,{}),"Lab Test Details - #",y==null?void 0:y.id]})}),e.jsx(ht,{children:e.jsxs(L,{display:"flex",flexDirection:"column",gap:3,mt:2,children:[e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Test Information"}),e.jsxs(L,{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,children:[e.jsxs(L,{children:[e.jsx(b,{variant:"caption",color:"text.secondary",children:"Test Type"}),e.jsx(b,{variant:"body1",children:(y==null?void 0:y.testType)||(y==null?void 0:y.testName)||"N/A"})]}),e.jsxs(L,{children:[e.jsx(b,{variant:"caption",color:"text.secondary",children:"Status"}),e.jsx(L,{mt:.5,children:e.jsx(Ee,{label:(y==null?void 0:y.status)||"ORDERED",size:"small",color:T(y==null?void 0:y.status)})})]}),e.jsxs(L,{children:[e.jsx(b,{variant:"caption",color:"text.secondary",children:"Ordered Date"}),e.jsx(b,{variant:"body1",children:y!=null&&y.orderedDate?new Date(y.orderedDate).toLocaleString():"N/A"})]}),e.jsxs(L,{children:[e.jsx(b,{variant:"caption",color:"text.secondary",children:"Sample Collected"}),e.jsx(b,{variant:"body1",children:y!=null&&y.sampleCollectedDate?new Date(y.sampleCollectedDate).toLocaleString():"Not collected yet"})]}),e.jsxs(L,{children:[e.jsx(b,{variant:"caption",color:"text.secondary",children:"Result Date"}),e.jsx(b,{variant:"body1",children:y!=null&&y.resultDate?new Date(y.resultDate).toLocaleString():"Not available yet"})]})]})]})}),e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Patient & Doctor"}),e.jsxs(L,{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,children:[e.jsxs(L,{children:[e.jsx(b,{variant:"caption",color:"text.secondary",children:"Patient"}),e.jsx(b,{variant:"body1",children:(y==null?void 0:y.patientName)||`ID: ${y==null?void 0:y.patientId}`})]}),e.jsxs(L,{children:[e.jsx(b,{variant:"caption",color:"text.secondary",children:"Ordered By"}),e.jsx(b,{variant:"body1",children:(y==null?void 0:y.doctorName)||`Doctor ID: ${y==null?void 0:y.doctorId}`})]})]})]})}),(y==null?void 0:y.description)&&e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Description/Notes"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:y.description})]})}),(y==null?void 0:y.testResults)&&e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,color:"primary",children:"Test Results"}),e.jsx(b,{variant:"body2",sx:{whiteSpace:"pre-wrap",mt:1},children:y.testResults})]})}),(y==null?void 0:y.resultFilePath)&&e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Result File"}),e.jsxs(L,{display:"flex",alignItems:"center",gap:2,mt:1,children:[e.jsx(b,{variant:"body2",color:"text.secondary",sx:{flex:1},children:y.resultFilePath}),e.jsx(re,{variant:"contained",size:"small",startIcon:e.jsx(mh,{}),onClick:()=>{if(y.resultFilePath.startsWith("http://")||y.resultFilePath.startsWith("https://"))window.open(y.resultFilePath,"_blank");else{const k=tc.getFileUrl(y.resultFilePath);window.open(k,"_blank")}},children:"Open File"})]})]})}),(y==null?void 0:y.remarks)&&e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Remarks"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:y.remarks})]})}),!(y!=null&&y.testResults)&&!(y!=null&&y.resultFilePath)&&!(y!=null&&y.remarks)&&e.jsx(Se,{variant:"outlined",children:e.jsx(we,{children:e.jsx(b,{variant:"body2",color:"text.secondary",align:"center",children:"No test results available yet. Results will be displayed here once uploaded by the lab technician."})})})]})}),e.jsx(dt,{children:e.jsx(re,{onClick:()=>S(!1),children:"Close"})})]})]})}const Dr={getAll:async()=>(await $.get("/medication-requests")).data,getById:async t=>(await $.get(`/medication-requests/${t}`)).data,getPending:async()=>(await $.get("/medication-requests/pending")).data,getMyRequests:async()=>(await $.get("/medication-requests/my-requests")).data,getByStatus:async t=>(await $.get(`/medication-requests/status/${t}`)).data,getByDoctor:async t=>(await $.get(`/medication-requests/doctor/${t}`)).data,create:async t=>(await $.post("/medication-requests",t)).data,approve:async(t,n=null)=>(await $.put(`/medication-requests/${t}/approve`,{reviewNotes:n})).data,reject:async(t,n)=>(await $.put(`/medication-requests/${t}/reject`,{reviewNotes:n})).data};function Cw(){const t=Me(),n=Rn(I=>I.auth.user),[r,s]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(!1),[c,d]=f.useState(null),[u,h]=f.useState(""),[p,x]=f.useState(""),[g,v]=f.useState(0),m=n==null?void 0:n.role,w=m==="DOCTOR"||m==="DOCTOR_SUPERVISOR"||m==="ADMIN",j=m==="ADMIN"||m==="PHARMACIST",S=async()=>{try{o(!0);let I;g===0?I=await Dr.getAll():g===1?I=await Dr.getPending():g===2&&(I=await Dr.getMyRequests()),s(I)}catch(I){J.error("Failed to load medication requests"),console.error("Error fetching medication requests:",I)}finally{o(!1)}};f.useEffect(()=>{S()},[g]);const y=(I,A)=>{d(I),h(A),x(""),l(!0)},E=async()=>{try{u==="approve"?await Dr.approve(c.id,p):await Dr.reject(c.id,p),J.success(`Request ${u}d successfully`),l(!1),d(null),x(""),S()}catch(I){J.error(`Failed to ${u} request`),console.error(`Error ${u}ing request:`,I)}},D=I=>{switch(I){case"PENDING":return"warning";case"APPROVED":return"success";case"REJECTED":return"error";default:return"default"}};return a?e.jsx(L,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"Medication Requests"}),w&&e.jsx(re,{variant:"contained",color:"primary",startIcon:e.jsx(xt,{}),onClick:()=>t("/medication-requests/new"),children:"Request New Medication"})]}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(L,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:e.jsxs(Yr,{value:g,onChange:(I,A)=>v(A),children:[e.jsx(ft,{label:"All Requests"}),j&&e.jsx(ft,{label:"Pending Approval"}),w&&e.jsx(ft,{label:"My Requests"})]})}),e.jsx(Ye,{component:Oe,elevation:0,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:e.jsx("strong",{children:"Request ID"})}),e.jsx(P,{children:e.jsx("strong",{children:"Medication"})}),e.jsx(P,{children:e.jsx("strong",{children:"Dosage"})}),e.jsx(P,{children:e.jsx("strong",{children:"Requested By"})}),e.jsx(P,{children:e.jsx("strong",{children:"Reason"})}),e.jsx(P,{children:e.jsx("strong",{children:"Request Date"})}),e.jsx(P,{children:e.jsx("strong",{children:"Status"})}),e.jsx(P,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(Ke,{children:r.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:8,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No medication requests found"})})}):r.map(I=>e.jsxs(je,{children:[e.jsxs(P,{children:["#",I.id]}),e.jsxs(P,{children:[e.jsx(b,{variant:"body2",fontWeight:500,children:I.medicationName}),I.manufacturer&&e.jsx(b,{variant:"caption",color:"text.secondary",children:I.manufacturer})]}),e.jsx(P,{children:I.dosageForm&&I.strength?`${I.dosageForm} - ${I.strength}`:I.dosageForm||I.strength||"-"}),e.jsx(P,{children:I.requestedByName||"-"}),e.jsx(P,{children:e.jsx(b,{variant:"body2",sx:{maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:I.requestReason,children:I.requestReason||"-"})}),e.jsx(P,{children:I.requestDate?new Date(I.requestDate).toLocaleDateString():"-"}),e.jsx(P,{children:e.jsx(Ee,{label:I.status||"PENDING",size:"small",color:D(I.status)})}),e.jsx(P,{align:"center",children:e.jsxs(L,{display:"flex",gap:.5,justifyContent:"center",children:[e.jsx(Pe,{size:"small",color:"primary",title:"View Details",children:e.jsx(it,{})}),j&&I.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:"small",color:"success",onClick:()=>y(I,"approve"),title:"Approve",children:e.jsx(an,{})}),e.jsx(Pe,{size:"small",color:"error",onClick:()=>y(I,"reject"),title:"Reject",children:e.jsx(dr,{})})]})]})})]},I.id))})]})})]})}),e.jsxs(ut,{open:i,onClose:()=>l(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxs(gt,{children:[u==="approve"?"Approve":"Reject"," Medication Request"]}),e.jsx(ht,{children:e.jsxs(L,{display:"flex",flexDirection:"column",gap:2,mt:2,children:[e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Medication:"})," ",(c==null?void 0:c.medicationName)||`ID: ${c==null?void 0:c.medicationId}`]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Quantity:"})," ",c==null?void 0:c.quantity]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Patient:"})," ",(c==null?void 0:c.patientName)||`ID: ${c==null?void 0:c.patientId}`]}),e.jsx(U,{fullWidth:!0,multiline:!0,rows:4,label:"Review Notes",value:p,onChange:I=>x(I.target.value),placeholder:"Enter review notes or reason..."})]})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>l(!1),children:"Cancel"}),e.jsx(re,{onClick:E,variant:"contained",color:u==="approve"?"success":"error",startIcon:u==="approve"?e.jsx(an,{}):e.jsx(dr,{}),children:u==="approve"?"Approve":"Reject"})]})]})]})}const Dw=["Tablet","Capsule","Syrup","Injection","Cream","Ointment","Drops","Inhaler","Patch","Suppository","Powder","Solution","Suspension","Gel","Spray","Other"];function Pw(){const t=Me(),[n,r]=f.useState(!1),[s,a]=f.useState({medicationName:"",description:"",manufacturer:"",dosageForm:"",strength:"",requestReason:"",estimatedCost:""}),o=l=>{const{name:c,value:d}=l.target;a(u=>({...u,[c]:d}))},i=async l=>{if(l.preventDefault(),!s.medicationName.trim()){J.error("Medication name is required");return}if(!s.requestReason.trim()){J.error("Request reason is required");return}try{r(!0),await Dr.create({...s,estimatedCost:s.estimatedCost?parseFloat(s.estimatedCost):null}),J.success("Medication request submitted successfully! Awaiting approval."),t("/medication-requests")}catch(c){console.error("Error creating medication request:",c),J.error("Failed to submit medication request")}finally{r(!1)}};return e.jsxs(L,{children:[e.jsxs(L,{display:"flex",alignItems:"center",gap:2,mb:3,children:[e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>t("/medication-requests"),variant:"outlined",children:"Back"}),e.jsx(b,{variant:"h4",fontWeight:600,children:"Request New Medication"})]}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"body2",color:"text.secondary",mb:3,children:"Submit a request for a new medication to be added to the hospital inventory. This request will be reviewed by a pharmacist or administrator."}),e.jsx("form",{onSubmit:i,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,required:!0,label:"Medication Name",name:"medicationName",value:s.medicationName,onChange:o,placeholder:"e.g., Amoxicillin"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"Manufacturer",name:"manufacturer",value:s.manufacturer,onChange:o,placeholder:"e.g., Pfizer"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(U,{fullWidth:!0,select:!0,label:"Dosage Form",name:"dosageForm",value:s.dosageForm,onChange:o,children:[e.jsx(ve,{value:"",children:"Select dosage form"}),Dw.map(l=>e.jsx(ve,{value:l,children:l},l))]})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"Strength",name:"strength",value:s.strength,onChange:o,placeholder:"e.g., 500mg, 10ml"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"Estimated Cost",name:"estimatedCost",type:"number",value:s.estimatedCost,onChange:o,InputProps:{startAdornment:e.jsx(b,{sx:{mr:1},children:"$"})},placeholder:"0.00"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:2,label:"Description",name:"description",value:s.description,onChange:o,placeholder:"Brief description of the medication and its uses"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,required:!0,multiline:!0,rows:4,label:"Reason for Request",name:"requestReason",value:s.requestReason,onChange:o,placeholder:"Explain why this medication is needed (e.g., for specific patient treatment, new protocol requirement, etc.)"})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{display:"flex",gap:2,justifyContent:"flex-end",children:[e.jsx(re,{variant:"outlined",onClick:()=>t("/medication-requests"),disabled:n,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",color:"primary",startIcon:n?e.jsx(Ne,{size:20}):e.jsx(ph,{}),disabled:n,children:n?"Submitting...":"Submit Request"})]})})]})})]})})]})}const nc=[{label:"All",value:"ALL"},{label:"Doctors",value:"DOCTOR"},{label:"Doctor Supervisors",value:"DOCTOR_SUPERVISOR"},{label:"Nurses",value:"NURSE"},{label:"Nurse Managers",value:"NURSE_MANAGER"},{label:"Nurse Supervisors",value:"NURSE_SUPERVISOR"},{label:"Receptionists",value:"RECEPTIONIST"}],Iw=()=>{const{can:t}=St(),[n,r]=f.useState([]),[s,a]=f.useState([]),[o,i]=f.useState(!0),[l,c]=f.useState(null),[d,u]=f.useState(null),[h,p]=f.useState(!1),[x,g]=f.useState(!1),[v,m]=f.useState(""),[w,j]=f.useState(0),[S,y]=f.useState(""),E=f.useCallback(async()=>{var M,R;try{i(!0);const T=await na.getAllPendingUsers();r(T),c(null)}catch(T){c(((R=(M=T.response)==null?void 0:M.data)==null?void 0:R.message)||"Failed to fetch pending registrations")}finally{i(!1)}},[]),D=f.useCallback(()=>{const M=nc[w].value;a(M==="ALL"?n:n.filter(R=>R.requestedRole===M))},[w,n]);f.useEffect(()=>{E()},[E]),f.useEffect(()=>{D()},[D]);const I=M=>{u(M),p(!0)},A=async M=>{var R,T;try{const k=await na.approveRegistration(M);y(k.message||"Registration approved successfully"),E(),p(!1)}catch(k){c(((T=(R=k.response)==null?void 0:R.data)==null?void 0:T.message)||"Failed to approve registration")}},z=M=>{u(M),m(""),g(!0)},O=async()=>{var M,R;if(!v.trim()){c("Rejection reason is required");return}try{const T=await na.rejectRegistration(d.id,v);y(T.message||"Registration rejected successfully"),E(),g(!1),p(!1)}catch(T){c(((R=(M=T.response)==null?void 0:M.data)==null?void 0:R.message)||"Failed to reject registration")}},F=M=>{switch(M){case"DOCTOR":case"DOCTOR_SUPERVISOR":return"primary";case"NURSE":case"NURSE_MANAGER":case"NURSE_SUPERVISOR":return"secondary";case"RECEPTIONIST":return"info";default:return"default"}},H=M=>M.split("_").map(R=>R.charAt(0)+R.slice(1).toLowerCase()).join(" "),Y=M=>new Date(M).toLocaleString();return t(fe.VIEW_PENDING_REGISTRATIONS)?e.jsxs(L,{sx:{p:3},children:[e.jsx(b,{variant:"h4",gutterBottom:!0,children:"Pending Registration Approvals"}),S&&e.jsx(Be,{severity:"success",onClose:()=>y(""),sx:{mb:2},children:S}),l&&e.jsx(Be,{severity:"error",onClose:()=>c(null),sx:{mb:2},children:l}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(Yr,{value:w,onChange:(M,R)=>j(R),variant:"scrollable",scrollButtons:"auto",sx:{mb:2},children:nc.map(M=>e.jsx(ft,{label:M.label},M.value))}),o?e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})}):s.length===0?e.jsx(b,{variant:"body1",color:"textSecondary",align:"center",sx:{p:4},children:"No pending registrations found"}):e.jsx(Ye,{component:Oe,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Username"}),e.jsx(P,{children:"Name"}),e.jsx(P,{children:"Email"}),e.jsx(P,{children:"Phone"}),e.jsx(P,{children:"Requested Role"}),e.jsx(P,{children:"Documents"}),e.jsx(P,{children:"Requested At"}),e.jsx(P,{align:"center",children:"Actions"})]})}),e.jsx(Ke,{children:s.map(M=>e.jsxs(je,{hover:!0,children:[e.jsx(P,{children:M.username}),e.jsxs(P,{children:[M.firstName," ",M.lastName]}),e.jsx(P,{children:M.email}),e.jsx(P,{children:M.phone||"N/A"}),e.jsx(P,{children:e.jsx(Ee,{label:H(M.requestedRole),color:F(M.requestedRole),size:"small"})}),e.jsx(P,{children:e.jsx(Ee,{icon:e.jsx(bo,{}),label:M.documentCount,size:"small",variant:"outlined"})}),e.jsx(P,{children:Y(M.requestedAt)}),e.jsxs(P,{align:"center",children:[e.jsx(Pe,{color:"info",size:"small",onClick:()=>I(M),title:"View Details",children:e.jsx(it,{})}),t(fe.APPROVE_DOCTOR_REGISTRATION)||t(fe.APPROVE_NURSE_REGISTRATION)||t(fe.APPROVE_RECEPTIONIST_REGISTRATION)||t(fe.APPROVE_SUPERVISOR_REGISTRATION)?e.jsx(Pe,{color:"success",size:"small",onClick:()=>A(M.id),title:"Approve",children:e.jsx(an,{})}):null,t(fe.REJECT_REGISTRATION)&&e.jsx(Pe,{color:"error",size:"small",onClick:()=>z(M),title:"Reject",children:e.jsx(dr,{})})]})]},M.id))})]})})]})}),e.jsxs(ut,{open:h,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(gt,{children:"Registration Details"}),e.jsx(ht,{children:d&&e.jsxs(C,{container:!0,spacing:2,sx:{mt:1},children:[e.jsxs(C,{item:!0,xs:12,sm:6,children:[e.jsx(b,{variant:"body2",color:"textSecondary",children:"Username"}),e.jsx(b,{variant:"body1",children:d.username})]}),e.jsxs(C,{item:!0,xs:12,sm:6,children:[e.jsx(b,{variant:"body2",color:"textSecondary",children:"Email"}),e.jsx(b,{variant:"body1",children:d.email})]}),e.jsxs(C,{item:!0,xs:12,sm:6,children:[e.jsx(b,{variant:"body2",color:"textSecondary",children:"First Name"}),e.jsx(b,{variant:"body1",children:d.firstName})]}),e.jsxs(C,{item:!0,xs:12,sm:6,children:[e.jsx(b,{variant:"body2",color:"textSecondary",children:"Last Name"}),e.jsx(b,{variant:"body1",children:d.lastName})]}),e.jsxs(C,{item:!0,xs:12,sm:6,children:[e.jsx(b,{variant:"body2",color:"textSecondary",children:"Phone"}),e.jsx(b,{variant:"body1",children:d.phone||"N/A"})]}),e.jsxs(C,{item:!0,xs:12,sm:6,children:[e.jsx(b,{variant:"body2",color:"textSecondary",children:"Requested Role"}),e.jsx(Ee,{label:H(d.requestedRole),color:F(d.requestedRole),size:"small"})]}),e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"body2",color:"textSecondary",children:"Requested At"}),e.jsx(b,{variant:"body1",children:Y(d.requestedAt)})]}),e.jsxs(C,{item:!0,xs:12,children:[e.jsxs(b,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["Uploaded Documents (",d.documentCount,")"]}),d.documents&&d.documents.map(M=>e.jsx(Ee,{icon:e.jsx(bo,{}),label:M.fileName,size:"small",sx:{mr:1,mb:1}},M.id))]})]})}),e.jsxs(dt,{children:[t(fe.REJECT_REGISTRATION)&&e.jsx(re,{onClick:()=>{g(!0),p(!1)},color:"error",startIcon:e.jsx(dr,{}),children:"Reject"}),(t(fe.APPROVE_DOCTOR_REGISTRATION)||t(fe.APPROVE_NURSE_REGISTRATION)||t(fe.APPROVE_RECEPTIONIST_REGISTRATION)||t(fe.APPROVE_SUPERVISOR_REGISTRATION))&&e.jsx(re,{onClick:()=>A(d.id),color:"success",variant:"contained",startIcon:e.jsx(an,{}),children:"Approve"}),e.jsx(re,{onClick:()=>p(!1),children:"Close"})]})]}),e.jsxs(ut,{open:x,onClose:()=>g(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(gt,{children:"Reject Registration"}),e.jsxs(ht,{children:[e.jsx(b,{variant:"body2",gutterBottom:!0,children:"Please provide a reason for rejecting this registration:"}),e.jsx(U,{fullWidth:!0,multiline:!0,rows:4,value:v,onChange:M=>m(M.target.value),placeholder:"Enter rejection reason...",sx:{mt:2}})]}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>g(!1),children:"Cancel"}),e.jsx(re,{onClick:O,color:"error",variant:"contained",disabled:!v.trim(),children:"Confirm Rejection"})]})]})]}):e.jsx(L,{sx:{p:3},children:e.jsx(Be,{severity:"error",children:"You don't have permission to view pending registrations"})})},Qn={getDashboardStats:async()=>(await $.get("/dashboard/stats")).data,getRevenueReport:async(t,n)=>(await $.get("/billing/reports/revenue",{params:{startDate:t,endDate:n}})).data,getInventoryReport:async()=>(await $.get("/inventory/reports/summary")).data,getInsuranceClaimsReport:async(t,n)=>(await $.get("/insurance/reports/claims",{params:{startDate:t,endDate:n}})).data,getPatients:async()=>(await $.get("/patients")).data,getAppointments:async()=>(await $.get("/appointments")).data,getMedications:async()=>(await $.get("/medications")).data};function as({children:t,value:n,index:r}){return n===r?e.jsx(L,{sx:{py:3},children:t}):null}function lt({title:t,value:n,icon:r,color:s="primary",subtitle:a}){return e.jsx(Se,{children:e.jsx(we,{children:e.jsxs(L,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(L,{children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:t}),e.jsx(b,{variant:"h4",fontWeight:600,children:n}),a&&e.jsx(b,{variant:"caption",color:"text.secondary",children:a})]}),e.jsx(L,{sx:{backgroundColor:`${s}.light`,borderRadius:2,p:1.5,display:"flex",alignItems:"center",justifyContent:"center"},children:r})]})})})}function Tw(){var q,Z,se,ee,te,X,me,ae;const[t,n]=f.useState(0),[r,s]=f.useState(!1),[a,o]=f.useState(null),[i,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(null),[p,x]=f.useState(null),[g,v]=f.useState([]),[m,w]=f.useState([]),[j,S]=f.useState([]),y=new Date,E=new Date(y.getTime()-720*60*60*1e3),[D,I]=f.useState(E.toISOString().split("T")[0]),[A,z]=f.useState(y.toISOString().split("T")[0]);f.useEffect(()=>{O()},[]),f.useEffect(()=>{t===1&&F(),t===2&&H(),t===3&&Y(),t===4&&M()},[t]);const O=async()=>{try{s(!0),o(null);const B=await Qn.getDashboardStats();l(B)}catch(B){console.error("Error fetching dashboard stats:",B),o("Failed to load dashboard stats")}finally{s(!1)}},F=async()=>{try{s(!0);const B=await Qn.getPatients();v(Array.isArray(B)?B:[])}catch{J.error("Failed to load patient data")}finally{s(!1)}},H=async()=>{try{s(!0);const B=await Qn.getAppointments();w(Array.isArray(B)?B:[])}catch{J.error("Failed to load appointment data")}finally{s(!1)}},Y=async()=>{try{s(!0);const[B,G]=await Promise.all([Qn.getMedications(),Qn.getInventoryReport().catch(()=>null)]);S(Array.isArray(B)?B:[]),h(G)}catch{J.error("Failed to load medication data")}finally{s(!1)}},M=async()=>{try{s(!0);const[B,G]=await Promise.all([Qn.getRevenueReport(D,A).catch(()=>null),Qn.getInsuranceClaimsReport(D,A).catch(()=>null)]);d(B),x(G)}catch{J.error("Failed to load financial data")}finally{s(!1)}},R=()=>{const B=m.length,G=m.filter(ce=>ce.status==="COMPLETED").length,le=m.filter(ce=>ce.status==="SCHEDULED").length,ue=m.filter(ce=>ce.status==="CANCELLED").length;return{total:B,completed:G,scheduled:le,cancelled:ue}},T=()=>{const B=j.length,G=j.filter(ce=>ce.stockQuantity<(ce.reorderLevel||10)).length,le=j.filter(ce=>ce.expiryDate&&new Date(ce.expiryDate)<new Date).length,ue=j.reduce((ce,K)=>ce+(K.unitPrice||0)*(K.stockQuantity||0),0);return{total:B,lowStock:G,expired:le,totalValue:ue}},k=()=>{const B=g.length,G=g.filter(ue=>ue.active!==!1).length,le=g.filter(ue=>{const ce=new Date(ue.createdAt),K=new Date;return ce.getMonth()===K.getMonth()&&ce.getFullYear()===K.getFullYear()}).length;return{total:B,active:G,thisMonth:le}},N=()=>{if(!(i!=null&&i.appointmentsByType))return null;const B=i.appointmentsByType;return Array.isArray(B)?B.map((G,le)=>e.jsxs(je,{children:[e.jsx(P,{children:G.name||G.type||"Unknown"}),e.jsx(P,{align:"right",children:G.value||G.count||0})]},le)):typeof B=="object"?Object.entries(B).map(([G,le])=>e.jsxs(je,{children:[e.jsx(P,{children:G}),e.jsx(P,{align:"right",children:le})]},G)):null},W=()=>{if(!(i!=null&&i.monthlyPatients))return null;const B=i.monthlyPatients;return Array.isArray(B)?B.map((G,le)=>{if(typeof G=="object")return e.jsxs(je,{children:[e.jsx(P,{children:G.month||`Month ${le+1}`}),e.jsx(P,{align:"right",children:G.patients||G.count||G.value||0})]},le);const ue=new Date;return ue.setMonth(ue.getMonth()-(B.length-1-le)),e.jsxs(je,{children:[e.jsx(P,{children:ue.toLocaleString("default",{month:"short",year:"numeric"})}),e.jsx(P,{align:"right",children:G})]},le)}):null};return e.jsxs(L,{children:[e.jsx(b,{variant:"h4",gutterBottom:!0,fontWeight:600,children:"Reports"}),e.jsx(Oe,{sx:{mb:3},children:e.jsxs(Yr,{value:t,onChange:(B,G)=>n(G),variant:"scrollable",scrollButtons:"auto",children:[e.jsx(ft,{label:"Overview",icon:e.jsx(vo,{}),iconPosition:"start"}),e.jsx(ft,{label:"Patients",icon:e.jsx(Zn,{}),iconPosition:"start"}),e.jsx(ft,{label:"Appointments",icon:e.jsx(Sr,{}),iconPosition:"start"}),e.jsx(ft,{label:"Medications",icon:e.jsx(fs,{}),iconPosition:"start"}),e.jsx(ft,{label:"Financial",icon:e.jsx(_s,{}),iconPosition:"start"})]})}),r&&e.jsx(fh,{sx:{mb:2}}),a&&e.jsx(Oe,{sx:{p:3,mb:2,bgcolor:"error.light"},children:e.jsx(b,{color:"error.dark",children:a})}),e.jsx(as,{value:t,index:0,children:i?e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(lt,{title:"Total Patients",value:i.totalPatients||0,icon:e.jsx(Zn,{color:"primary"}),color:"primary"})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(lt,{title:"Total Doctors",value:i.totalDoctors||0,icon:e.jsx(sn,{color:"success"}),color:"success"})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(lt,{title:"Today's Appointments",value:i.todayAppointments||0,icon:e.jsx(Sr,{color:"info"}),color:"info"})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(lt,{title:"Low Stock Items",value:i.lowStockMedications||0,icon:e.jsx(Xs,{color:"warning"}),color:"warning"})}),i.appointmentsByType&&e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Appointments by Type"}),e.jsx(Ye,{children:e.jsxs(Ge,{size:"small",children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Type"}),e.jsx(P,{align:"right",children:"Count"})]})}),e.jsx(Ke,{children:N()})]})})]})})}),i.monthlyPatients&&e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Monthly Patient Registrations"}),e.jsx(Ye,{children:e.jsxs(Ge,{size:"small",children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Month"}),e.jsx(P,{align:"right",children:"New Patients"})]})}),e.jsx(Ke,{children:W()})]})})]})})})]}):e.jsx(L,{display:"flex",justifyContent:"center",py:4,children:e.jsx(Ne,{})})}),e.jsx(as,{value:t,index:1,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,sm:4,children:e.jsx(lt,{title:"Total Patients",value:k().total,icon:e.jsx(Zn,{color:"primary"})})}),e.jsx(C,{item:!0,xs:12,sm:4,children:e.jsx(lt,{title:"Active Patients",value:k().active,icon:e.jsx(Zn,{color:"success"})})}),e.jsx(C,{item:!0,xs:12,sm:4,children:e.jsx(lt,{title:"Registered This Month",value:k().thisMonth,icon:e.jsx(vo,{color:"info"})})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Recent Patients"}),e.jsx(Ye,{children:e.jsxs(Ge,{size:"small",children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Patient ID"}),e.jsx(P,{children:"Name"}),e.jsx(P,{children:"Gender"}),e.jsx(P,{children:"Blood Group"}),e.jsx(P,{children:"Phone"}),e.jsx(P,{children:"Status"})]})}),e.jsx(Ke,{children:g.slice(0,10).map(B=>e.jsxs(je,{children:[e.jsx(P,{children:B.patientId}),e.jsxs(P,{children:[B.firstName," ",B.lastName]}),e.jsx(P,{children:B.gender||"-"}),e.jsx(P,{children:B.bloodGroup||"-"}),e.jsx(P,{children:B.phone||"-"}),e.jsx(P,{children:e.jsx(Ee,{label:B.active!==!1?"Active":"Inactive",size:"small",color:B.active!==!1?"success":"default"})})]},B.id))})]})})]})})})]})}),e.jsx(as,{value:t,index:2,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,sm:3,children:e.jsx(lt,{title:"Total Appointments",value:R().total,icon:e.jsx(Sr,{color:"primary"})})}),e.jsx(C,{item:!0,xs:12,sm:3,children:e.jsx(lt,{title:"Completed",value:R().completed,icon:e.jsx(Sr,{color:"success"})})}),e.jsx(C,{item:!0,xs:12,sm:3,children:e.jsx(lt,{title:"Scheduled",value:R().scheduled,icon:e.jsx(Sr,{color:"info"})})}),e.jsx(C,{item:!0,xs:12,sm:3,children:e.jsx(lt,{title:"Cancelled",value:R().cancelled,icon:e.jsx(Sr,{color:"error"})})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Recent Appointments"}),e.jsx(Ye,{children:e.jsxs(Ge,{size:"small",children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Date"}),e.jsx(P,{children:"Time"}),e.jsx(P,{children:"Patient"}),e.jsx(P,{children:"Doctor"}),e.jsx(P,{children:"Reason"}),e.jsx(P,{children:"Status"})]})}),e.jsx(Ke,{children:m.slice(0,10).map(B=>e.jsxs(je,{children:[e.jsx(P,{children:B.appointmentDate?new Date(B.appointmentDate).toLocaleDateString():"-"}),e.jsx(P,{children:B.appointmentTime||"-"}),e.jsx(P,{children:B.patientName||"-"}),e.jsx(P,{children:B.doctorName||"-"}),e.jsx(P,{children:B.reason||"-"}),e.jsx(P,{children:e.jsx(Ee,{label:B.status||"PENDING",size:"small",color:B.status==="COMPLETED"?"success":B.status==="CANCELLED"?"error":"warning"})})]},B.id))})]})})]})})})]})}),e.jsx(as,{value:t,index:3,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,sm:3,children:e.jsx(lt,{title:"Total Medications",value:T().total,icon:e.jsx(fs,{color:"primary"})})}),e.jsx(C,{item:!0,xs:12,sm:3,children:e.jsx(lt,{title:"Low Stock",value:T().lowStock,icon:e.jsx(Xs,{color:"warning"})})}),e.jsx(C,{item:!0,xs:12,sm:3,children:e.jsx(lt,{title:"Expired",value:T().expired,icon:e.jsx(Xs,{color:"error"})})}),e.jsx(C,{item:!0,xs:12,sm:3,children:e.jsx(lt,{title:"Total Stock Value",value:`$${T().totalValue.toLocaleString()}`,icon:e.jsx(xh,{color:"success"})})}),u&&e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Inventory Summary"}),e.jsxs(L,{display:"flex",flexDirection:"column",gap:1,children:[e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Total Stock Value:"})," $",((q=u.totalStockValue)==null?void 0:q.toLocaleString())||0]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Low Stock Items:"})," ",u.lowStockItems||0]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Out of Stock:"})," ",u.outOfStockItems||0]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Expiring Soon:"})," ",u.expiringSoon||0]})]})]})})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Medication Inventory"}),e.jsx(Ye,{children:e.jsxs(Ge,{size:"small",children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Name"}),e.jsx(P,{children:"Category"}),e.jsx(P,{children:"Stock"}),e.jsx(P,{children:"Unit Price"}),e.jsx(P,{children:"Expiry Date"}),e.jsx(P,{children:"Status"})]})}),e.jsx(Ke,{children:j.slice(0,10).map(B=>{var G;return e.jsxs(je,{children:[e.jsx(P,{children:B.name}),e.jsx(P,{children:B.category||"-"}),e.jsx(P,{children:B.stockQuantity||0}),e.jsxs(P,{children:["$",((G=B.unitPrice)==null?void 0:G.toFixed(2))||"0.00"]}),e.jsx(P,{children:B.expiryDate?new Date(B.expiryDate).toLocaleDateString():"-"}),e.jsx(P,{children:e.jsx(Ee,{label:B.stockQuantity<(B.reorderLevel||10)?"Low Stock":"In Stock",size:"small",color:B.stockQuantity<(B.reorderLevel||10)?"warning":"success"})})]},B.id)})})]})})]})})})]})}),e.jsxs(as,{value:t,index:4,children:[e.jsxs(L,{display:"flex",gap:2,mb:3,alignItems:"center",children:[e.jsx(U,{type:"date",label:"Start Date",value:D,onChange:B=>I(B.target.value),InputLabelProps:{shrink:!0},size:"small"}),e.jsx(U,{type:"date",label:"End Date",value:A,onChange:B=>z(B.target.value),InputLabelProps:{shrink:!0},size:"small"}),e.jsx(re,{variant:"contained",onClick:M,children:"Generate Report"})]}),e.jsxs(C,{container:!0,spacing:3,children:[c&&e.jsxs(e.Fragment,{children:[e.jsx(C,{item:!0,xs:12,sm:4,children:e.jsx(lt,{title:"Total Revenue",value:`$${((Z=c.totalRevenue)==null?void 0:Z.toLocaleString())||0}`,icon:e.jsx(_s,{color:"success"})})}),e.jsx(C,{item:!0,xs:12,sm:4,children:e.jsx(lt,{title:"Collected",value:`$${((se=c.totalCollected)==null?void 0:se.toLocaleString())||0}`,icon:e.jsx(_s,{color:"primary"})})}),e.jsx(C,{item:!0,xs:12,sm:4,children:e.jsx(lt,{title:"Outstanding",value:`$${((ee=c.totalOutstanding)==null?void 0:ee.toLocaleString())||0}`,icon:e.jsx(_s,{color:"warning"})})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Invoice Summary"}),e.jsxs(L,{display:"flex",flexDirection:"column",gap:1,children:[e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Paid Invoices:"})," ",c.paidInvoices||0]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Pending Invoices:"})," ",c.pendingInvoices||0]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Overdue Invoices:"})," ",c.overdueInvoices||0]})]})]})})})]}),p&&e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Insurance Claims"}),e.jsxs(L,{display:"flex",flexDirection:"column",gap:1,children:[e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Total Claimed:"})," $",((te=p.totalClaimedAmount)==null?void 0:te.toLocaleString())||0]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Total Settled:"})," $",((X=p.totalSettledAmount)==null?void 0:X.toLocaleString())||0]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Total Rejected:"})," $",((me=p.totalRejectedAmount)==null?void 0:me.toLocaleString())||0]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Pending Claims:"})," ",p.pendingClaims||0]}),e.jsxs(b,{variant:"body2",children:[e.jsx("strong",{children:"Settlement Rate:"})," ",((ae=p.settlementRate)==null?void 0:ae.toFixed(1))||0,"%"]})]})]})})}),!c&&!p&&!r&&e.jsx(C,{item:!0,xs:12,children:e.jsx(Oe,{sx:{p:4,textAlign:"center"},children:e.jsx(b,{color:"text.secondary",children:'Select a date range and click "Generate Report" to view financial data.'})})})]})]})]})}const jt="/ot-requests",Ln={createOTRequest:async t=>(await $.post(jt,t)).data,getAllOTRequests:async()=>(await $.get(jt)).data,getOTRequestById:async t=>(await $.get(`${jt}/${t}`)).data,getOTRequestsBySurgeon:async t=>(await $.get(`${jt}/surgeon/${t}`)).data,getOTRequestsByPatient:async t=>(await $.get(`${jt}/patient/${t}`)).data,getOTRequestsByStatus:async t=>(await $.get(`${jt}/status/${t}`)).data,getPendingOTRequests:async()=>(await $.get(`${jt}/pending`)).data,getEmergencyPendingRequests:async()=>(await $.get(`${jt}/emergency-pending`)).data,getOTRequestsByDateRange:async(t,n)=>(await $.get(`${jt}/date-range`,{params:{startDate:t,endDate:n}})).data,updateOTRequest:async(t,n)=>(await $.put(`${jt}/${t}`,n)).data,approveOTRequest:async(t,n)=>(await $.put(`${jt}/${t}/approve`,{notes:n})).data,rejectOTRequest:async(t,n)=>(await $.put(`${jt}/${t}/reject`,{rejectionReason:n})).data,startSurgery:async t=>(await $.put(`${jt}/${t}/start`)).data,completeSurgery:async(t,n)=>(await $.put(`${jt}/${t}/complete`,{postOperativeNotes:n})).data,cancelOTRequest:async(t,n)=>(await $.put(`${jt}/${t}/cancel`,{reason:n})).data,deleteOTRequest:async t=>{await $.delete(`${jt}/${t}`)}};function Ew(){const t=Me(),{user:n}=Rn(I=>I.auth),[r,s]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(""),[c,d]=f.useState("ALL"),[u,h]=f.useState({open:!1,type:"",requestId:null}),[p,x]=f.useState(""),g={PENDING:"warning",APPROVED:"info",REJECTED:"error",IN_PROGRESS:"primary",COMPLETED:"success",CANCELLED:"default"},v=f.useCallback(async()=>{try{o(!0);let I;c==="ALL"?I=await Ln.getAllOTRequests():I=await Ln.getOTRequestsByStatus(c),s(I),l("")}catch(I){l("Failed to fetch OT requests"),console.error(I)}finally{o(!1)}},[c]);f.useEffect(()=>{v()},[v]);const m=(I,A)=>{h({open:!0,type:I,requestId:A}),x("")},w=()=>{h({open:!1,type:"",requestId:null}),x("")},j=async()=>{try{const{type:I,requestId:A}=u;switch(I){case"approve":await Ln.approveOTRequest(A,p);break;case"reject":if(!p.trim()){l("Rejection reason is required");return}await Ln.rejectOTRequest(A,p);break;case"start":await Ln.startSurgery(A);break;case"complete":await Ln.completeSurgery(A,p);break;default:break}w(),v()}catch(I){l(`Failed to ${u.type} OT request`),console.error(I)}},S=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="NURSE",y=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="NURSE"||(n==null?void 0:n.role)==="DOCTOR",E=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="DOCTOR",D=I=>I?new Date(I).toLocaleString():"N/A";return e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"OT Requests"}),(n==null?void 0:n.role)==="DOCTOR"&&e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>t("/ot-requests/new"),children:"New OT Request"})]}),i&&e.jsx(Be,{severity:"error",sx:{mb:2},onClose:()=>l(""),children:i}),e.jsx(C,{container:!0,spacing:2,sx:{mb:3},children:e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(U,{select:!0,fullWidth:!0,label:"Filter by Status",value:c,onChange:I=>d(I.target.value),children:[e.jsx(ve,{value:"ALL",children:"All Requests"}),e.jsx(ve,{value:"PENDING",children:"Pending"}),e.jsx(ve,{value:"APPROVED",children:"Approved"}),e.jsx(ve,{value:"REJECTED",children:"Rejected"}),e.jsx(ve,{value:"IN_PROGRESS",children:"In Progress"}),e.jsx(ve,{value:"COMPLETED",children:"Completed"}),e.jsx(ve,{value:"CANCELLED",children:"Cancelled"})]})})}),e.jsx(Ye,{component:Oe,children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Patient"}),e.jsx(P,{children:"Surgeon"}),e.jsx(P,{children:"Surgery Type"}),e.jsx(P,{children:"Scheduled Time"}),e.jsx(P,{children:"OT Room"}),e.jsx(P,{children:"Emergency"}),e.jsx(P,{children:"Status"}),e.jsx(P,{children:"Actions"})]})}),e.jsx(Ke,{children:a?e.jsx(je,{children:e.jsx(P,{colSpan:8,align:"center",children:"Loading..."})}):r.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:8,align:"center",children:"No OT requests found"})}):r.map(I=>e.jsxs(je,{children:[e.jsx(P,{children:I.patientName}),e.jsx(P,{children:I.surgeonName}),e.jsx(P,{children:I.surgeryType}),e.jsx(P,{children:D(I.scheduledStartTime)}),e.jsx(P,{children:I.otRoomNumber||"TBA"}),e.jsx(P,{children:I.isEmergency?e.jsx(Ee,{label:"Emergency",color:"error",size:"small"}):e.jsx(Ee,{label:"Scheduled",color:"default",size:"small"})}),e.jsx(P,{children:e.jsx(Ee,{label:I.status,color:g[I.status],size:"small"})}),e.jsx(P,{children:e.jsxs(L,{sx:{display:"flex",gap:1},children:[e.jsx(Pe,{size:"small",onClick:()=>t(`/ot-requests/${I.id}`),title:"View Details",children:e.jsx(it,{})}),I.status==="PENDING"&&S&&e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:"small",color:"success",onClick:()=>m("approve",I.id),title:"Approve",children:e.jsx(an,{})}),e.jsx(Pe,{size:"small",color:"error",onClick:()=>m("reject",I.id),title:"Reject",children:e.jsx(dr,{})})]}),I.status==="APPROVED"&&y&&e.jsx(Pe,{size:"small",color:"primary",onClick:()=>m("start",I.id),title:"Start Surgery",children:e.jsx(gh,{})}),I.status==="IN_PROGRESS"&&E&&e.jsx(Pe,{size:"small",color:"success",onClick:()=>m("complete",I.id),title:"Complete Surgery",children:e.jsx(yh,{})})]})})]},I.id))})]})}),e.jsxs(ut,{open:u.open,onClose:w,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(gt,{children:[u.type==="approve"&&"Approve OT Request",u.type==="reject"&&"Reject OT Request",u.type==="start"&&"Start Surgery",u.type==="complete"&&"Complete Surgery"]}),e.jsx(ht,{children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:4,label:u.type==="reject"?"Rejection Reason (Required)":u.type==="complete"?"Post-Operative Notes":"Notes (Optional)",value:p,onChange:I=>x(I.target.value),margin:"normal",required:u.type==="reject"})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:w,children:"Cancel"}),e.jsx(re,{onClick:j,variant:"contained",children:"Confirm"})]})]})]})}const Rw=["GENERAL_SURGERY","CARDIOVASCULAR","NEUROSURGERY","ORTHOPEDIC","PLASTIC_SURGERY","UROLOGICAL","GYNECOLOGICAL","OPHTHALMIC","ENT","DENTAL","EMERGENCY","OTHER"];function Aw(){const t=Me(),{user:n}=Rn(m=>m.auth),[r,s]=f.useState([]),[a,o]=f.useState(!1),[i,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState({patientId:"",surgeonId:(n==null?void 0:n.id)||"",surgeryType:"",surgeryPurpose:"",scheduledStartTime:ot().add(1,"day"),estimatedDuration:"",otRoomNumber:"",requiredInstruments:"",requiredMedications:"",anesthesiaType:"",surgeryNotes:"",isEmergency:!1});f.useEffect(()=>{p()},[]);const p=async()=>{try{const m=await kt.getAllPatients();s(m)}catch(m){console.error("Failed to fetch patients:",m)}},x=m=>{const{name:w,value:j,checked:S,type:y}=m.target;h({...u,[w]:y==="checkbox"?S:j})},g=m=>{h({...u,scheduledStartTime:m})},v=async m=>{var w,j;m.preventDefault(),o(!0),l(""),d("");try{const S={...u,scheduledStartTime:u.scheduledStartTime.toISOString(),estimatedDuration:parseInt(u.estimatedDuration)};await Ln.createOTRequest(S),d("OT Request created successfully"),setTimeout(()=>{t("/ot-requests")},1500)}catch(S){l(((j=(w=S.response)==null?void 0:w.data)==null?void 0:j.message)||"Failed to create OT request"),console.error(S)}finally{o(!1)}};return e.jsxs(L,{children:[e.jsx(b,{variant:"h4",gutterBottom:!0,fontWeight:600,children:"New OT Request"}),i&&e.jsx(Be,{severity:"error",sx:{mb:2},onClose:()=>l(""),children:i}),c&&e.jsx(Be,{severity:"success",sx:{mb:2},children:c}),e.jsx(Oe,{sx:{p:3,mt:3},children:e.jsx("form",{onSubmit:v,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(U,{select:!0,required:!0,fullWidth:!0,label:"Patient",name:"patientId",value:u.patientId,onChange:x,children:[e.jsx(ve,{value:"",children:"Select Patient"}),r.map(m=>e.jsxs(ve,{value:m.id,children:[m.firstName," ",m.lastName," - ",m.patientId]},m.id))]})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(U,{select:!0,required:!0,fullWidth:!0,label:"Surgery Type",name:"surgeryType",value:u.surgeryType,onChange:x,children:[e.jsx(ve,{value:"",children:"Select Surgery Type"}),Rw.map(m=>e.jsx(ve,{value:m,children:m.replace(/_/g," ")},m))]})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{required:!0,fullWidth:!0,multiline:!0,rows:3,label:"Surgery Purpose",name:"surgeryPurpose",value:u.surgeryPurpose,onChange:x})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(mi,{dateAdapter:fu,children:e.jsx(pu,{label:"Scheduled Start Time",value:u.scheduledStartTime,onChange:g,slotProps:{textField:{fullWidth:!0,required:!0}},minDateTime:ot()})})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{required:!0,fullWidth:!0,type:"number",label:"Estimated Duration (minutes)",name:"estimatedDuration",value:u.estimatedDuration,onChange:x,inputProps:{min:15,step:15}})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"OT Room Number (Optional)",name:"otRoomNumber",value:u.otRoomNumber,onChange:x})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,label:"Anesthesia Type",name:"anesthesiaType",value:u.anesthesiaType,onChange:x,placeholder:"e.g., General, Local, Regional"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:3,label:"Required Instruments",name:"requiredInstruments",value:u.requiredInstruments,onChange:x,placeholder:"List required surgical instruments"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:3,label:"Required Medications",name:"requiredMedications",value:u.requiredMedications,onChange:x,placeholder:"List required medications and supplies"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:3,label:"Additional Notes",name:"surgeryNotes",value:u.surgeryNotes,onChange:x})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(ua,{control:e.jsx(wc,{checked:u.isEmergency,onChange:x,name:"isEmergency",color:"error"}),label:"Emergency Surgery"})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(re,{variant:"outlined",onClick:()=>t("/ot-requests"),disabled:a,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",disabled:a,children:a?"Creating...":"Create OT Request"})]})})]})})})]})}function kw(){var h;const{id:t}=Bt(),n=Me(),[r,s]=f.useState(null),[a,o]=f.useState(!0),[i,l]=f.useState(""),c={PENDING:"warning",APPROVED:"info",REJECTED:"error",IN_PROGRESS:"primary",COMPLETED:"success",CANCELLED:"default"},d=f.useCallback(async()=>{try{o(!0);const p=await Ln.getOTRequestById(t);s(p),l("")}catch(p){l("Failed to fetch OT request details"),console.error(p)}finally{o(!1)}},[t]);f.useEffect(()=>{d()},[d]);const u=p=>p?new Date(p).toLocaleString():"N/A";return a?e.jsx(L,{children:e.jsx(b,{children:"Loading..."})}):i||!r?e.jsxs(L,{children:[e.jsx(Be,{severity:"error",children:i||"OT Request not found"}),e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/ot-requests"),sx:{mt:2},children:"Back to List"})]}):e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"OT Request Details"}),e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/ot-requests"),children:"Back to List"})]}),e.jsx(Oe,{sx:{p:3},children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(b,{variant:"h6",children:"Status:"}),e.jsx(Ee,{label:r.status,color:c[r.status],size:"medium"}),r.isEmergency&&e.jsx(Ee,{label:"Emergency",color:"error",size:"medium"})]})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(He,{})}),e.jsxs(C,{item:!0,xs:12,md:6,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Patient"}),e.jsx(b,{variant:"body1",gutterBottom:!0,children:r.patientName})]}),e.jsxs(C,{item:!0,xs:12,md:6,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Surgeon"}),e.jsx(b,{variant:"body1",gutterBottom:!0,children:r.surgeonName})]}),e.jsxs(C,{item:!0,xs:12,md:6,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Surgery Type"}),e.jsx(b,{variant:"body1",gutterBottom:!0,children:(h=r.surgeryType)==null?void 0:h.replace(/_/g," ")})]}),e.jsxs(C,{item:!0,xs:12,md:6,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"OT Room Number"}),e.jsx(b,{variant:"body1",gutterBottom:!0,children:r.otRoomNumber||"To Be Assigned"})]}),e.jsxs(C,{item:!0,xs:12,md:6,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Scheduled Start Time"}),e.jsx(b,{variant:"body1",gutterBottom:!0,children:u(r.scheduledStartTime)})]}),e.jsxs(C,{item:!0,xs:12,md:6,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Estimated Duration"}),e.jsxs(b,{variant:"body1",gutterBottom:!0,children:[r.estimatedDuration," minutes"]})]}),r.actualStartTime&&e.jsxs(C,{item:!0,xs:12,md:6,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Actual Start Time"}),e.jsx(b,{variant:"body1",gutterBottom:!0,children:u(r.actualStartTime)})]}),r.actualEndTime&&e.jsxs(C,{item:!0,xs:12,md:6,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Actual End Time"}),e.jsx(b,{variant:"body1",gutterBottom:!0,children:u(r.actualEndTime)})]}),e.jsx(C,{item:!0,xs:12,children:e.jsx(He,{})}),e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Surgery Purpose"}),e.jsx(b,{variant:"body1",gutterBottom:!0,children:r.surgeryPurpose})]}),r.anesthesiaType&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Anesthesia Type"}),e.jsx(b,{variant:"body1",gutterBottom:!0,children:r.anesthesiaType})]}),r.requiredInstruments&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Required Instruments"}),e.jsx(b,{variant:"body1",gutterBottom:!0,sx:{whiteSpace:"pre-line"},children:r.requiredInstruments})]}),r.requiredMedications&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Required Medications"}),e.jsx(b,{variant:"body1",gutterBottom:!0,sx:{whiteSpace:"pre-line"},children:r.requiredMedications})]}),r.surgeryNotes&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Surgery Notes"}),e.jsx(b,{variant:"body1",gutterBottom:!0,sx:{whiteSpace:"pre-line"},children:r.surgeryNotes})]}),r.approvalNotes&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Approval Notes"}),e.jsx(b,{variant:"body1",gutterBottom:!0,sx:{whiteSpace:"pre-line"},children:r.approvalNotes})]}),r.rejectionReason&&e.jsx(C,{item:!0,xs:12,children:e.jsxs(Be,{severity:"error",children:[e.jsx(b,{variant:"subtitle2",children:"Rejection Reason"}),e.jsx(b,{variant:"body2",children:r.rejectionReason})]})}),r.postOperativeNotes&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Post-Operative Notes"}),e.jsx(b,{variant:"body1",gutterBottom:!0,sx:{whiteSpace:"pre-line"},children:r.postOperativeNotes})]}),r.approvedBy&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Approved By"}),e.jsxs(b,{variant:"body1",gutterBottom:!0,children:[r.approvedBy," at ",u(r.approvedAt)]})]}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(b,{variant:"caption",color:"text.secondary",children:["Created: ",u(r.createdAt)," | Last Updated:"," ",u(r.updatedAt)]})})]})})]})}const Ct="/emergency-rooms",Ar={createEmergencyRoom:async t=>(await $.post(Ct,t)).data,getAllEmergencyRooms:async()=>(await $.get(Ct)).data,getActiveEmergencyRooms:async()=>(await $.get(`${Ct}/active`)).data,getAvailableRooms:async()=>(await $.get(`${Ct}/available`)).data,getRoomsByStatus:async t=>(await $.get(`${Ct}/status/${t}`)).data,getRoomsByFloor:async t=>(await $.get(`${Ct}/floor/${t}`)).data,getEmergencyRoomById:async t=>(await $.get(`${Ct}/${t}`)).data,getEmergencyRoomByNumber:async t=>(await $.get(`${Ct}/room-number/${t}`)).data,getAvailableRoomCount:async()=>(await $.get(`${Ct}/stats/available-count`)).data,getOccupiedRoomCount:async()=>(await $.get(`${Ct}/stats/occupied-count`)).data,updateEmergencyRoom:async(t,n)=>(await $.put(`${Ct}/${t}`,n)).data,updateRoomStatus:async(t,n)=>(await $.put(`${Ct}/${t}/status`,{status:n})).data,updateOccupancy:async(t,n)=>(await $.put(`${Ct}/${t}/occupancy`,{occupancy:n})).data,deactivateEmergencyRoom:async t=>(await $.put(`${Ct}/${t}/deactivate`)).data,deleteEmergencyRoom:async t=>{await $.delete(`${Ct}/${t}`)}},$t="/emergency-patients",kr={admitPatient:async t=>(await $.post($t,t)).data,getAllEmergencyPatients:async()=>(await $.get($t)).data,getCurrentPatients:async()=>(await $.get(`${$t}/current`)).data,getPatientsByRoom:async t=>(await $.get(`${$t}/room/${t}`)).data,getPatientsByCondition:async t=>(await $.get(`${$t}/condition/${t}`)).data,getPatientsRequiringMonitoring:async()=>(await $.get(`${$t}/monitoring`)).data,getPatientsByDoctor:async t=>(await $.get(`${$t}/doctor/${t}`)).data,getPatientHistory:async t=>(await $.get(`${$t}/patient/${t}/history`)).data,getEmergencyPatientById:async t=>(await $.get(`${$t}/${t}`)).data,updateEmergencyPatient:async(t,n)=>(await $.put(`${$t}/${t}`,n)).data,updateCondition:async(t,n)=>(await $.put(`${$t}/${t}/condition`,{condition:n})).data,dischargePatient:async(t,n)=>(await $.put(`${$t}/${t}/discharge`,{dischargeNotes:n})).data,transferToRoom:async(t,n)=>(await $.put(`${$t}/${t}/transfer`,{newRoomId:n})).data};function Ow(){const t=Me(),[n,r]=f.useState([]),[s,a]=f.useState([]),[o,i]=f.useState([]),[l,c]=f.useState({available:0,occupied:0}),[d,u]=f.useState(!0),[h,p]=f.useState(""),x={AVAILABLE:"success",OCCUPIED:"warning",CLEANING:"info",MAINTENANCE:"error",RESERVED:"default"},g={CRITICAL:"error",SERIOUS:"warning",STABLE:"success",IMPROVING:"info",DISCHARGED:"default"};f.useEffect(()=>{v();const m=setInterval(v,3e4);return()=>clearInterval(m)},[]);const v=async()=>{try{u(!0);const[m,w,j,S,y]=await Promise.all([Ar.getActiveEmergencyRooms(),kr.getCurrentPatients(),kr.getPatientsByCondition("CRITICAL"),Ar.getAvailableRoomCount(),Ar.getOccupiedRoomCount()]);r(m),a(w),i(j),c({available:S.availableCount,occupied:y.occupiedCount}),p("")}catch(m){p("Failed to fetch emergency room data"),console.error(m)}finally{u(!1)}};return e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(b,{variant:"h4",fontWeight:600,children:"Emergency Room Dashboard"}),e.jsx(re,{variant:"contained",startIcon:e.jsx(ps,{}),onClick:()=>t("/emergency/admit"),children:"Admit Patient"})]}),h&&e.jsx(Be,{severity:"error",sx:{mb:2},onClose:()=>p(""),children:h}),o.length>0&&e.jsx(Be,{severity:"error",sx:{mb:3},children:e.jsxs(b,{variant:"subtitle1",fontWeight:600,children:[o.length," Critical Patient(s) Requiring Immediate Attention"]})}),e.jsxs(C,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Se,{children:e.jsx(we,{children:e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(L,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Available Rooms"}),e.jsx(b,{variant:"h4",fontWeight:600,children:l.available})]}),e.jsx(an,{sx:{fontSize:48,color:"success.main"}})]})})})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Se,{children:e.jsx(we,{children:e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(L,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Occupied Rooms"}),e.jsx(b,{variant:"h4",fontWeight:600,children:l.occupied})]}),e.jsx(sn,{sx:{fontSize:48,color:"warning.main"}})]})})})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Se,{children:e.jsx(we,{children:e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(L,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Current Patients"}),e.jsx(b,{variant:"h4",fontWeight:600,children:s.length})]}),e.jsx(ps,{sx:{fontSize:48,color:"primary.main"}})]})})})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Se,{children:e.jsx(we,{children:e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(L,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Critical Patients"}),e.jsx(b,{variant:"h4",fontWeight:600,children:o.length})]}),e.jsx(bc,{sx:{fontSize:48,color:"error.main"}})]})})})})]}),e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,lg:6,children:e.jsxs(Oe,{sx:{p:2},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Room Status"}),e.jsx(Ye,{children:e.jsxs(Ge,{size:"small",children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Room Number"}),e.jsx(P,{children:"Floor"}),e.jsx(P,{children:"Status"}),e.jsx(P,{children:"Occupancy"}),e.jsx(P,{children:"Actions"})]})}),e.jsx(Ke,{children:d?e.jsx(je,{children:e.jsx(P,{colSpan:5,align:"center",children:"Loading..."})}):n.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:5,align:"center",children:"No emergency rooms found"})}):n.map(m=>e.jsxs(je,{children:[e.jsx(P,{children:m.roomNumber}),e.jsx(P,{children:m.floorNumber}),e.jsx(P,{children:e.jsx(Ee,{label:m.status,color:x[m.status],size:"small"})}),e.jsxs(P,{children:[m.currentOccupancy," / ",m.capacity]}),e.jsx(P,{children:e.jsx(Pe,{size:"small",onClick:()=>t(`/emergency/rooms/${m.id}`),title:"View Room",children:e.jsx(it,{})})})]},m.id))})]})})]})}),e.jsx(C,{item:!0,xs:12,lg:6,children:e.jsxs(Oe,{sx:{p:2},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Current Patients (By Triage Priority)"}),e.jsx(Ye,{children:e.jsxs(Ge,{size:"small",children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Patient"}),e.jsx(P,{children:"Room"}),e.jsx(P,{children:"Triage"}),e.jsx(P,{children:"Condition"}),e.jsx(P,{children:"Actions"})]})}),e.jsx(Ke,{children:d?e.jsx(je,{children:e.jsx(P,{colSpan:5,align:"center",children:"Loading..."})}):s.length===0?e.jsx(je,{children:e.jsx(P,{colSpan:5,align:"center",children:"No patients currently in emergency"})}):s.map(m=>e.jsxs(je,{children:[e.jsx(P,{children:m.patientName}),e.jsx(P,{children:m.emergencyRoomNumber}),e.jsx(P,{children:e.jsx(Ee,{label:`Level ${m.triageLevel}`,color:m.triageLevel<=2?"error":"warning",size:"small"})}),e.jsx(P,{children:e.jsx(Ee,{label:m.condition,color:g[m.condition],size:"small"})}),e.jsx(P,{children:e.jsx(Pe,{size:"small",onClick:()=>t(`/emergency/patients/${m.id}`),title:"View Patient",children:e.jsx(it,{})})})]},m.id))})]})})]})})]})]})}const Nw=["CRITICAL","SERIOUS","STABLE","IMPROVING"];function Mw(){const t=Me(),[n,r]=f.useState([]),[s,a]=f.useState([]),[o,i]=f.useState([]),[l,c]=f.useState(!1),[d,u]=f.useState(""),[h,p]=f.useState(""),[x,g]=f.useState({patientId:"",emergencyRoomId:"",attendingDoctorId:"",condition:"STABLE",triageLevel:3,chiefComplaint:"",vitalSigns:"",treatmentPlan:"",medicationsAdministered:"",requiresMonitoring:!1});f.useEffect(()=>{v()},[]);const v=async()=>{try{const[j,S,y]=await Promise.all([kt.getAllPatients(),Pn.getAllDoctors(),Ar.getAvailableRooms()]);r(j),a(S),i(y)}catch(j){console.error("Failed to fetch data:",j),u("Failed to load form data")}},m=j=>{const{name:S,value:y}=j.target;g({...x,[S]:y})},w=async j=>{var S,y;j.preventDefault(),c(!0),u(""),p("");try{const E={...x,triageLevel:parseInt(x.triageLevel),requiresMonitoring:x.condition==="CRITICAL"||x.triageLevel<=2};await kr.admitPatient(E),p("Patient admitted to emergency room successfully"),setTimeout(()=>{t("/emergency")},1500)}catch(E){u(((y=(S=E.response)==null?void 0:S.data)==null?void 0:y.message)||"Failed to admit patient"),console.error(E)}finally{c(!1)}};return e.jsxs(L,{children:[e.jsx(b,{variant:"h4",gutterBottom:!0,fontWeight:600,children:"Admit Patient to Emergency"}),d&&e.jsx(Be,{severity:"error",sx:{mb:2},onClose:()=>u(""),children:d}),h&&e.jsx(Be,{severity:"success",sx:{mb:2},children:h}),o.length===0&&!l&&e.jsx(Be,{severity:"warning",sx:{mb:2},children:"No available emergency rooms. All rooms are currently occupied."}),e.jsx(Oe,{sx:{p:3,mt:3},children:e.jsx("form",{onSubmit:w,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(U,{select:!0,required:!0,fullWidth:!0,label:"Patient",name:"patientId",value:x.patientId,onChange:m,children:[e.jsx(ve,{value:"",children:"Select Patient"}),n.map(j=>e.jsxs(ve,{value:j.id,children:[j.firstName," ",j.lastName," - ",j.patientId]},j.id))]})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(U,{select:!0,required:!0,fullWidth:!0,label:"Emergency Room",name:"emergencyRoomId",value:x.emergencyRoomId,onChange:m,disabled:o.length===0,children:[e.jsx(ve,{value:"",children:"Select Room"}),o.map(j=>e.jsxs(ve,{value:j.id,children:[j.roomNumber," - Floor ",j.floorNumber," (Capacity:"," ",j.currentOccupancy,"/",j.capacity,")"]},j.id))]})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(U,{select:!0,fullWidth:!0,label:"Attending Doctor (Optional)",name:"attendingDoctorId",value:x.attendingDoctorId,onChange:m,children:[e.jsx(ve,{value:"",children:"No Doctor Assigned Yet"}),s.map(j=>e.jsxs(ve,{value:j.id,children:["Dr. ",j.firstName," ",j.lastName," -"," ",j.specialization]},j.id))]})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{select:!0,required:!0,fullWidth:!0,label:"Patient Condition",name:"condition",value:x.condition,onChange:m,children:Nw.map(j=>e.jsx(ve,{value:j,children:j},j))})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(U,{select:!0,required:!0,fullWidth:!0,label:"Triage Level (1=Most Urgent, 5=Least Urgent)",name:"triageLevel",value:x.triageLevel,onChange:m,children:[e.jsx(ve,{value:1,children:"Level 1 - Immediate (Life-threatening)"}),e.jsx(ve,{value:2,children:"Level 2 - Emergency (Serious)"}),e.jsx(ve,{value:3,children:"Level 3 - Urgent"}),e.jsx(ve,{value:4,children:"Level 4 - Semi-urgent"}),e.jsx(ve,{value:5,children:"Level 5 - Non-urgent"})]})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{required:!0,fullWidth:!0,multiline:!0,rows:3,label:"Chief Complaint",name:"chiefComplaint",value:x.chiefComplaint,onChange:m,placeholder:"Primary reason for emergency visit"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:4,label:"Vital Signs",name:"vitalSigns",value:x.vitalSigns,onChange:m,placeholder:"BP, Heart Rate, Temperature, Respiratory Rate, O2 Saturation"})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:4,label:"Initial Treatment Plan",name:"treatmentPlan",value:x.treatmentPlan,onChange:m,placeholder:"Immediate treatment plan and interventions"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:3,label:"Medications Administered",name:"medicationsAdministered",value:x.medicationsAdministered,onChange:m,placeholder:"List any medications given during admission"})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(re,{variant:"outlined",onClick:()=>t("/emergency"),disabled:l,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",disabled:l||o.length===0,children:l?"Admitting...":"Admit Patient"})]})})]})})})]})}function Lw(){const{id:t}=Bt(),n=Me(),[r,s]=f.useState(null),[a,o]=f.useState(!0),[i,l]=f.useState(""),[c,d]=f.useState(!1),[u,h]=f.useState(""),[p,x]=f.useState(!1),g={AVAILABLE:"success",OCCUPIED:"warning",CLEANING:"info",MAINTENANCE:"error",RESERVED:"default"},v=["AVAILABLE","OCCUPIED","CLEANING","MAINTENANCE","RESERVED"],m=f.useCallback(async()=>{try{o(!0);const j=await Ar.getEmergencyRoomById(t);s(j),h(j.status),l("")}catch(j){l("Failed to fetch room details"),console.error(j)}finally{o(!1)}},[t]);f.useEffect(()=>{m()},[m]);const w=async()=>{try{x(!0),await Ar.updateEmergencyRoomStatus(t,u),d(!1),m(),l("")}catch(j){l("Failed to update room status"),console.error(j)}finally{x(!1)}};return a?e.jsx(L,{sx:{p:3},children:e.jsx(b,{children:"Loading room details..."})}):r?e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/emergency"),children:"Back"}),e.jsxs(b,{variant:"h4",fontWeight:600,children:[r.roomNumber," - ",r.roomName]})]}),e.jsx(re,{variant:"outlined",startIcon:e.jsx(on,{}),onClick:()=>d(!0),children:"Update Status"})]}),i&&e.jsx(Be,{severity:"error",sx:{mb:2},onClose:()=>l(""),children:i}),e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Room Information"}),e.jsx(He,{sx:{mb:2}}),e.jsxs(C,{container:!0,spacing:2,children:[e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Room Number"}),e.jsx(b,{variant:"body1",fontWeight:500,children:r.roomNumber})]}),e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Room Name"}),e.jsx(b,{variant:"body1",fontWeight:500,children:r.roomName})]}),e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Floor Number"}),e.jsx(b,{variant:"body1",fontWeight:500,children:r.floorNumber})]}),e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Location"}),e.jsx(b,{variant:"body1",fontWeight:500,children:r.location})]}),e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Status"}),e.jsx(Ee,{label:r.status,color:g[r.status],sx:{mt:.5}})]}),e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Active"}),e.jsx(Ee,{icon:e.jsx(an,{}),label:r.isActive?"Active":"Inactive",color:r.isActive?"success":"default",sx:{mt:.5}})]})]})]})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Capacity & Occupancy"}),e.jsx(He,{sx:{mb:2}}),e.jsxs(C,{container:!0,spacing:2,children:[e.jsx(C,{item:!0,xs:12,children:e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Total Capacity"}),e.jsxs(b,{variant:"h4",fontWeight:600,children:[r.capacity," ",r.capacity===1?"bed":"beds"]})]})})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Current Occupancy"}),e.jsxs(b,{variant:"h4",fontWeight:600,children:[r.currentOccupancy," / ",r.capacity]}),e.jsx(b,{variant:"body2",color:r.currentOccupancy===r.capacity?"error":r.currentOccupancy>0?"warning.main":"success.main",children:r.currentOccupancy===r.capacity?"Full":r.currentOccupancy>0?"Partially Occupied":"Empty"})]})})}),e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Last Cleaned"}),e.jsx(b,{variant:"body1",fontWeight:500,children:r.lastCleanedAt?new Date(r.lastCleanedAt).toLocaleString():"Not recorded"})]})]})]})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Equipment"}),e.jsx(He,{sx:{mb:2}}),r.equipment?e.jsx(Ca,{children:r.equipment.split(",").map((j,S)=>e.jsx(Jo,{children:e.jsx(Yo,{primary:j.trim(),primaryTypographyProps:{fontWeight:500}})},S))}):e.jsx(b,{color:"text.secondary",children:"No equipment information available"})]})}),r.notes&&e.jsx(C,{item:!0,xs:12,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Notes"}),e.jsx(He,{sx:{mb:2}}),e.jsx(b,{variant:"body1",children:r.notes})]})})]}),e.jsxs(ut,{open:c,onClose:()=>d(!1),children:[e.jsx(gt,{children:"Update Room Status"}),e.jsx(ht,{children:e.jsxs(fn,{fullWidth:!0,sx:{mt:2},children:[e.jsx(xn,{children:"Status"}),e.jsx(In,{value:u,label:"Status",onChange:j=>h(j.target.value),children:v.map(j=>e.jsx(ve,{value:j,children:j},j))})]})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>d(!1),children:"Cancel"}),e.jsx(re,{onClick:w,variant:"contained",disabled:p||u===r.status,children:p?"Updating...":"Update"})]})]})]}):e.jsxs(L,{sx:{p:3},children:[e.jsx(Be,{severity:"error",children:"Room not found"}),e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/emergency"),sx:{mt:2},children:"Back to Emergency Dashboard"})]})}function Fw(){const{id:t}=Bt(),n=Me(),[r,s]=f.useState(null),[a,o]=f.useState(!0),[i,l]=f.useState(""),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[p,x]=f.useState(!1),[g,v]=f.useState(!1),[m,w]=f.useState({condition:"",triageLevel:""}),[j,S]=f.useState(""),y={CRITICAL:"error",SERIOUS:"warning",STABLE:"success",IMPROVING:"info",DISCHARGED:"default"},E=["CRITICAL","SERIOUS","STABLE","IMPROVING"],D=[1,2,3,4,5],I=f.useCallback(async()=>{try{o(!0);const O=await kr.getEmergencyPatientById(t);s(O),w({condition:O.condition,triageLevel:O.triageLevel}),l("")}catch(O){l("Failed to fetch patient details"),console.error(O)}finally{o(!1)}},[t]);f.useEffect(()=>{I()},[I]);const A=async()=>{try{x(!0);const O={...r,...m};await kr.updateEmergencyPatient(t,O),d(!1),I(),l("")}catch(O){l("Failed to update patient"),console.error(O)}finally{x(!1)}},z=async()=>{try{v(!0),await kr.dischargePatient(t,j),n("/emergency")}catch(O){l("Failed to discharge patient"),console.error(O)}finally{v(!1)}};return a?e.jsx(L,{sx:{p:3},children:e.jsx(b,{children:"Loading patient details..."})}):r?e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/emergency"),children:"Back"}),e.jsx(b,{variant:"h4",fontWeight:600,children:"Emergency Patient Details"})]}),e.jsxs(L,{sx:{display:"flex",gap:2},children:[e.jsx(re,{variant:"outlined",startIcon:e.jsx(on,{}),onClick:()=>d(!0),disabled:r.condition==="DISCHARGED",children:"Update Status"}),e.jsx(re,{variant:"contained",color:"success",startIcon:e.jsx(sn,{}),onClick:()=>h(!0),disabled:r.condition==="DISCHARGED",children:"Discharge Patient"})]})]}),i&&e.jsx(Be,{severity:"error",sx:{mb:2},onClose:()=>l(""),children:i}),e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Patient Information"}),e.jsx(He,{sx:{mb:2}}),e.jsx(Ye,{children:e.jsx(Ge,{children:e.jsxs(Ke,{children:[e.jsxs(je,{children:[e.jsx(P,{component:"th",sx:{fontWeight:600},children:"Patient Name"}),e.jsx(P,{children:r.patientName})]}),e.jsxs(je,{children:[e.jsx(P,{component:"th",sx:{fontWeight:600},children:"Age"}),e.jsxs(P,{children:[r.age," years"]})]}),e.jsxs(je,{children:[e.jsx(P,{component:"th",sx:{fontWeight:600},children:"Gender"}),e.jsx(P,{children:r.gender})]}),e.jsxs(je,{children:[e.jsx(P,{component:"th",sx:{fontWeight:600},children:"Phone Number"}),e.jsx(P,{children:r.phoneNumber||"N/A"})]}),e.jsxs(je,{children:[e.jsx(P,{component:"th",sx:{fontWeight:600},children:"Emergency Contact"}),e.jsx(P,{children:r.emergencyContactName||"N/A"})]}),e.jsxs(je,{children:[e.jsx(P,{component:"th",sx:{fontWeight:600},children:"Emergency Contact Phone"}),e.jsx(P,{children:r.emergencyContactPhone||"N/A"})]})]})})})]})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Medical Status"}),e.jsx(He,{sx:{mb:2}}),e.jsxs(C,{container:!0,spacing:2,children:[e.jsx(C,{item:!0,xs:12,children:e.jsx(Se,{variant:"outlined",sx:{bgcolor:"error.light",color:"error.contrastText"},children:e.jsxs(we,{children:[e.jsx(b,{variant:"body2",children:"Triage Level"}),e.jsx(b,{variant:"h3",fontWeight:600,children:r.triageLevel}),e.jsx(b,{variant:"body2",children:r.triageLevel<=2?"Immediate Attention Required":r.triageLevel===3?"Urgent":"Non-Urgent"})]})})}),e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Condition"}),e.jsx(Ee,{label:r.condition,color:y[r.condition],sx:{mt:.5,fontSize:"1rem",py:2.5}})]}),e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Assigned Room"}),e.jsx(b,{variant:"body1",fontWeight:500,children:r.emergencyRoomNumber||"Not Assigned"})]}),e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Admission Time"}),e.jsx(b,{variant:"body1",fontWeight:500,children:new Date(r.admissionTime).toLocaleString()})]}),r.dischargeTime&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Discharge Time"}),e.jsx(b,{variant:"body1",fontWeight:500,children:new Date(r.dischargeTime).toLocaleString()})]})]})]})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Chief Complaint"}),e.jsx(He,{sx:{mb:2}}),e.jsx(b,{variant:"body1",children:r.chiefComplaint})]})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Vital Signs"}),e.jsx(He,{sx:{mb:2}}),e.jsxs(C,{container:!0,spacing:2,children:[e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Blood Pressure"}),e.jsx(b,{variant:"h6",fontWeight:600,children:r.bloodPressure||"N/A"})]})})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Heart Rate"}),e.jsx(b,{variant:"h6",fontWeight:600,children:r.heartRate?`${r.heartRate} bpm`:"N/A"})]})})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Temperature"}),e.jsx(b,{variant:"h6",fontWeight:600,children:r.temperature?`${r.temperature}F`:"N/A"})]})})}),e.jsx(C,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Se,{variant:"outlined",children:e.jsxs(we,{children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:"Oxygen Saturation"}),e.jsx(b,{variant:"h6",fontWeight:600,children:r.oxygenSaturation?`${r.oxygenSaturation}%`:"N/A"})]})})})]})]})}),r.initialAssessment&&e.jsx(C,{item:!0,xs:12,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Initial Assessment"}),e.jsx(He,{sx:{mb:2}}),e.jsx(b,{variant:"body1",children:r.initialAssessment})]})}),r.treatmentPlan&&e.jsx(C,{item:!0,xs:12,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Treatment Plan"}),e.jsx(He,{sx:{mb:2}}),e.jsx(b,{variant:"body1",children:r.treatmentPlan})]})}),r.dischargeSummary&&e.jsx(C,{item:!0,xs:12,children:e.jsxs(Oe,{sx:{p:3},children:[e.jsx(b,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Discharge Summary"}),e.jsx(He,{sx:{mb:2}}),e.jsx(b,{variant:"body1",children:r.dischargeSummary})]})})]}),e.jsxs(ut,{open:c,onClose:()=>d(!1),children:[e.jsx(gt,{children:"Update Patient Status"}),e.jsx(ht,{children:e.jsxs(C,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(C,{item:!0,xs:12,children:e.jsxs(fn,{fullWidth:!0,children:[e.jsx(xn,{children:"Condition"}),e.jsx(In,{value:m.condition,label:"Condition",onChange:O=>w({...m,condition:O.target.value}),children:E.map(O=>e.jsx(ve,{value:O,children:O},O))})]})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(fn,{fullWidth:!0,children:[e.jsx(xn,{children:"Triage Level"}),e.jsx(In,{value:m.triageLevel,label:"Triage Level",onChange:O=>w({...m,triageLevel:O.target.value}),children:D.map(O=>e.jsxs(ve,{value:O,children:["Level ",O]},O))})]})})]})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>d(!1),children:"Cancel"}),e.jsx(re,{onClick:A,variant:"contained",disabled:p,children:p?"Updating...":"Update"})]})]}),e.jsxs(ut,{open:u,onClose:()=>h(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(gt,{children:"Discharge Patient"}),e.jsx(ht,{children:e.jsx(U,{fullWidth:!0,multiline:!0,rows:4,label:"Discharge Summary",value:j,onChange:O=>S(O.target.value),sx:{mt:2},placeholder:"Enter discharge summary, instructions, and follow-up care..."})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>h(!1),children:"Cancel"}),e.jsx(re,{onClick:z,variant:"contained",color:"success",disabled:g||!j.trim(),children:g?"Discharging...":"Discharge Patient"})]})]})]}):e.jsxs(L,{sx:{p:3},children:[e.jsx(Be,{severity:"error",children:"Patient not found"}),e.jsx(re,{startIcon:e.jsx(mt,{}),onClick:()=>n("/emergency"),sx:{mt:2},children:"Back to Emergency Dashboard"})]})}const Ze={createOrder:async t=>(await $.post("/medicine-orders",t)).data,getAllOrders:async()=>(await $.get("/medicine-orders")).data,getOrderById:async t=>(await $.get(`/medicine-orders/${t}`)).data,getOrderByNumber:async t=>(await $.get(`/medicine-orders/number/${t}`)).data,getOrdersByPatientId:async t=>(await $.get(`/medicine-orders/patient/${t}`)).data,getMyOrders:async()=>(await $.get("/medicine-orders/my-orders")).data,getOrdersByPrescriptionId:async t=>(await $.get(`/medicine-orders/prescription/${t}`)).data,getOrdersByStatus:async t=>(await $.get(`/medicine-orders/status/${t}`)).data,getPendingOrders:async()=>(await $.get("/medicine-orders/pending")).data,getPaymentPendingOrders:async()=>(await $.get("/medicine-orders/payment-pending")).data,updateOrderStatus:async(t,n)=>(await $.put(`/medicine-orders/${t}/status`,{status:n})).data,confirmOrder:async t=>(await $.put(`/medicine-orders/${t}/confirm`)).data,processOrder:async t=>(await $.put(`/medicine-orders/${t}/process`)).data,markReadyForPickup:async t=>(await $.put(`/medicine-orders/${t}/ready`)).data,deliverOrder:async t=>(await $.put(`/medicine-orders/${t}/deliver`)).data,updatePaymentStatus:async(t,n)=>(await $.put(`/medicine-orders/${t}/payment-status`,{paymentStatus:n})).data,markAsPaid:async t=>(await $.put(`/medicine-orders/${t}/pay`)).data,cancelOrder:async t=>(await $.put(`/medicine-orders/${t}/cancel`)).data,deleteOrder:async t=>(await $.delete(`/medicine-orders/${t}`)).data,countPendingOrders:async()=>(await $.get("/medicine-orders/count/pending")).data},ca={recordPayment:async t=>(await $.post("/medicine-order-payments",t)).data,getPaymentById:async t=>(await $.get(`/medicine-order-payments/${t}`)).data,getPaymentByReceiptNumber:async t=>(await $.get(`/medicine-order-payments/receipt/${t}`)).data,getPaymentsByOrderId:async t=>(await $.get(`/medicine-order-payments/order/${t}`)).data,getTotalPaidForOrder:async t=>(await $.get(`/medicine-order-payments/order/${t}/total-paid`)).data,getRemainingBalance:async t=>(await $.get(`/medicine-order-payments/order/${t}/balance`)).data,getPaymentsByDateRange:async(t,n)=>(await $.get("/medicine-order-payments/date-range",{params:{startDate:t,endDate:n}})).data,getMyCollections:async()=>(await $.get("/medicine-order-payments/my-collections")).data,refundPayment:async(t,n,r)=>(await $.post(`/medicine-order-payments/${t}/refund`,{refundAmount:n,reason:r})).data,verifyPayment:async t=>(await $.post(`/medicine-order-payments/${t}/verify`)).data,getPaymentSummary:async(t,n)=>(await $.get("/medicine-order-payments/summary",{params:{startDate:t,endDate:n}})).data},_w=[{value:"CASH",label:"Cash"},{value:"CREDIT_CARD",label:"Credit Card"},{value:"DEBIT_CARD",label:"Debit Card"},{value:"UPI",label:"UPI"},{value:"NET_BANKING",label:"Net Banking"},{value:"CHEQUE",label:"Cheque"},{value:"WALLET",label:"Wallet"},{value:"OTHER",label:"Other"}];function xu({open:t,onClose:n,order:r,onPaymentSuccess:s}){var S;const[a,o]=f.useState(!1),[i,l]=f.useState(0),[c,d]=f.useState(0),[u,h]=f.useState({orderId:"",amount:"",paymentMethod:"CASH",transactionId:"",cardLastFourDigits:"",bankName:"",chequeNumber:"",chequeDate:"",upiId:"",notes:""});f.useEffect(()=>{r&&t&&(h(y=>({...y,orderId:r.id,amount:""})),p())},[r,t]);const p=async()=>{if(r)try{const[y,E]=await Promise.all([ca.getRemainingBalance(r.id),ca.getTotalPaidForOrder(r.id)]);l(y),d(E),h(D=>({...D,amount:y.toString()}))}catch(y){console.error("Error fetching payment details:",y)}},x=y=>{const{name:E,value:D}=y.target;h(I=>({...I,[E]:D}))},g=async()=>{var y,E;if(!u.amount||parseFloat(u.amount)<=0){J.error("Please enter a valid amount");return}if(parseFloat(u.amount)>i){J.error("Payment amount exceeds remaining balance");return}o(!0);try{const D={orderId:u.orderId,amount:parseFloat(u.amount),paymentMethod:u.paymentMethod,transactionId:u.transactionId||null,cardLastFourDigits:u.cardLastFourDigits||null,bankName:u.bankName||null,chequeNumber:u.chequeNumber||null,chequeDate:u.chequeDate||null,upiId:u.upiId||null,notes:u.notes||null},I=await ca.recordPayment(D);J.success(`Payment recorded successfully! Receipt: ${I.receiptNumber}`),s&&s(I),n()}catch(D){J.error(((E=(y=D.response)==null?void 0:y.data)==null?void 0:E.message)||"Failed to record payment"),console.error(D)}finally{o(!1)}},v=["CREDIT_CARD","DEBIT_CARD"].includes(u.paymentMethod),m=u.paymentMethod==="CHEQUE",w=u.paymentMethod==="UPI",j=["NET_BANKING","CHEQUE"].includes(u.paymentMethod);return e.jsxs(ut,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[e.jsx(gt,{children:"Record Payment"}),e.jsx(ht,{children:r&&e.jsxs(e.Fragment,{children:[e.jsxs(L,{sx:{mb:3,mt:1},children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Order Details"}),e.jsx(b,{variant:"h6",children:r.orderNumber}),e.jsxs(b,{variant:"body2",children:["Patient: ",r.patientName]})]}),e.jsx(He,{sx:{mb:2}}),e.jsxs(C,{container:!0,spacing:2,sx:{mb:2},children:[e.jsxs(C,{item:!0,xs:4,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Total Amount"}),e.jsxs(b,{variant:"h6",children:["$",(S=r.finalAmount)==null?void 0:S.toFixed(2)]})]}),e.jsxs(C,{item:!0,xs:4,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Already Paid"}),e.jsxs(b,{variant:"h6",color:"success.main",children:["$",c==null?void 0:c.toFixed(2)]})]}),e.jsxs(C,{item:!0,xs:4,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Balance Due"}),e.jsxs(b,{variant:"h6",color:"error.main",children:["$",i==null?void 0:i.toFixed(2)]})]})]}),i<=0?e.jsx(Be,{severity:"success",sx:{mb:2},children:"This order is fully paid!"}):e.jsxs(C,{container:!0,spacing:2,children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Amount",name:"amount",type:"number",value:u.amount,onChange:x,required:!0,inputProps:{min:0,max:i,step:.01}})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsxs(fn,{fullWidth:!0,required:!0,children:[e.jsx(xn,{children:"Payment Method"}),e.jsx(In,{name:"paymentMethod",value:u.paymentMethod,onChange:x,label:"Payment Method",children:_w.map(y=>e.jsx(ve,{value:y.value,children:y.label},y.value))})]})}),v&&e.jsxs(e.Fragment,{children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Card Last 4 Digits",name:"cardLastFourDigits",value:u.cardLastFourDigits,onChange:x,inputProps:{maxLength:4}})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Transaction ID",name:"transactionId",value:u.transactionId,onChange:x})})]}),w&&e.jsxs(e.Fragment,{children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"UPI ID",name:"upiId",value:u.upiId,onChange:x,placeholder:"example@upi"})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Transaction ID",name:"transactionId",value:u.transactionId,onChange:x})})]}),m&&e.jsxs(e.Fragment,{children:[e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Cheque Number",name:"chequeNumber",value:u.chequeNumber,onChange:x})}),e.jsx(C,{item:!0,xs:12,sm:6,children:e.jsx(U,{fullWidth:!0,label:"Cheque Date",name:"chequeDate",type:"datetime-local",value:u.chequeDate,onChange:x,InputLabelProps:{shrink:!0}})})]}),j&&e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Bank Name",name:"bankName",value:u.bankName,onChange:x})}),u.paymentMethod==="NET_BANKING"&&e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Transaction ID",name:"transactionId",value:u.transactionId,onChange:x})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Notes",name:"notes",value:u.notes,onChange:x,multiline:!0,rows:2})})]})]})}),e.jsxs(dt,{children:[e.jsx(re,{onClick:n,children:"Cancel"}),e.jsx(re,{onClick:g,variant:"contained",disabled:a||i<=0,children:a?e.jsx(Ne,{size:24}):"Record Payment"})]})]})}function $w(){var z;const t=Me(),{isAnyRole:n}=St(),{user:r}=Rn(O=>O.auth),[s,a]=f.useState([]),[o,i]=f.useState(!0),[l,c]=f.useState(""),[d,u]=f.useState(0),[h,p]=f.useState({open:!1,order:null}),[x,g]=f.useState(""),[v,m]=f.useState({open:!1,order:null}),w=n(["PHARMACIST","ADMIN"]);f.useEffect(()=>{j()},[d]);const j=async()=>{i(!0);try{let O;if(w)switch(d){case 0:O=await Ze.getAllOrders();break;case 1:O=await Ze.getPendingOrders();break;case 2:O=await Ze.getOrdersByStatus("PROCESSING");break;case 3:O=await Ze.getOrdersByStatus("READY_FOR_PICKUP");break;default:O=await Ze.getAllOrders()}else O=await Ze.getMyOrders();a(O||[])}catch(O){J.error("Failed to fetch orders"),console.error(O)}finally{i(!1)}},S=async()=>{if(!(!h.order||!x))try{switch(x){case"CONFIRMED":await Ze.confirmOrder(h.order.id);break;case"PROCESSING":await Ze.processOrder(h.order.id);break;case"READY_FOR_PICKUP":await Ze.markReadyForPickup(h.order.id);break;case"DELIVERED":await Ze.deliverOrder(h.order.id);break;default:await Ze.updateOrderStatus(h.order.id,x)}J.success("Order status updated successfully"),p({open:!1,order:null}),g(""),j()}catch(O){J.error("Failed to update order status"),console.error(O)}},y=async O=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await Ze.cancelOrder(O),J.success("Order cancelled successfully"),j()}catch(F){J.error("Failed to cancel order"),console.error(F)}},E=()=>{m({open:!1,order:null}),j()},D=O=>({PENDING:"warning",CONFIRMED:"info",PROCESSING:"primary",READY_FOR_PICKUP:"secondary",DELIVERED:"success",CANCELLED:"error"})[O]||"default",I=O=>({PENDING:"warning",PAID:"success",FAILED:"error",REFUNDED:"info"})[O]||"default",A=s.filter(O=>{var F,H,Y;return((F=O.orderNumber)==null?void 0:F.toLowerCase().includes(l.toLowerCase()))||((H=O.patientName)==null?void 0:H.toLowerCase().includes(l.toLowerCase()))||((Y=O.prescriptionNumber)==null?void 0:Y.toLowerCase().includes(l.toLowerCase()))});return o?e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs("div",{children:[e.jsx(b,{variant:"h4",fontWeight:700,children:"Medicine Orders"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:w?"Manage medicine orders from prescriptions":"View your medicine orders"})]}),e.jsx(re,{variant:"contained",startIcon:e.jsx(xt,{}),onClick:()=>t("/medicine-orders/new"),children:"New Order"})]}),w&&e.jsxs(Yr,{value:d,onChange:(O,F)=>u(F),sx:{mb:3},children:[e.jsx(ft,{label:"All Orders"}),e.jsx(ft,{label:"Pending"}),e.jsx(ft,{label:"Processing"}),e.jsx(ft,{label:"Ready for Pickup"})]}),e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(U,{fullWidth:!0,placeholder:"Search by order number, patient name, or prescription...",value:l,onChange:O=>c(O.target.value),InputProps:{startAdornment:e.jsx(yn,{position:"start",children:e.jsx(Is,{})})},sx:{mb:3}}),e.jsx(Ye,{children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Order #"}),e.jsx(P,{children:"Patient"}),e.jsx(P,{children:"Prescription"}),e.jsx(P,{children:"Order Date"}),e.jsx(P,{children:"Total"}),e.jsx(P,{children:"Status"}),e.jsx(P,{children:"Payment"}),e.jsx(P,{align:"right",children:"Actions"})]})}),e.jsx(Ke,{children:A.length>0?A.map(O=>{var F,H;return e.jsxs(je,{hover:!0,children:[e.jsx(P,{children:e.jsx(b,{fontWeight:600,children:O.orderNumber})}),e.jsx(P,{children:O.patientName}),e.jsx(P,{children:O.prescriptionNumber||"Walk-in"}),e.jsx(P,{children:new Date(O.orderDate).toLocaleDateString()}),e.jsx(P,{children:e.jsxs(b,{fontWeight:600,children:["$",(F=O.finalAmount)==null?void 0:F.toFixed(2)]})}),e.jsx(P,{children:e.jsx(Ee,{label:(H=O.status)==null?void 0:H.replace(/_/g," "),size:"small",color:D(O.status)})}),e.jsx(P,{children:e.jsx(Ee,{label:O.paymentStatus,size:"small",color:I(O.paymentStatus),variant:"outlined"})}),e.jsxs(P,{align:"right",children:[e.jsx(Pe,{size:"small",onClick:()=>t(`/medicine-orders/${O.id}`),color:"info",title:"View Details",children:e.jsx(it,{})}),w&&O.status!=="DELIVERED"&&O.status!=="CANCELLED"&&e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:"small",onClick:()=>{p({open:!0,order:O}),g("")},color:"primary",title:"Update Status",children:e.jsx(an,{})}),O.paymentStatus==="PENDING"&&e.jsx(Pe,{size:"small",onClick:()=>m({open:!0,order:O}),color:"success",title:"Collect Payment",children:e.jsx(wa,{})})]}),O.status!=="DELIVERED"&&O.status!=="CANCELLED"&&e.jsx(Pe,{size:"small",onClick:()=>y(O.id),color:"error",title:"Cancel Order",children:e.jsx(dr,{})})]})]},O.id)}):e.jsx(je,{children:e.jsx(P,{colSpan:8,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No orders found"})})})})]})})]})}),e.jsxs(ut,{open:h.open,onClose:()=>p({open:!1,order:null}),maxWidth:"sm",fullWidth:!0,children:[e.jsx(gt,{children:"Update Order Status"}),e.jsxs(ht,{children:[e.jsxs(b,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Order: ",(z=h.order)==null?void 0:z.orderNumber]}),e.jsxs(fn,{fullWidth:!0,sx:{mt:1},children:[e.jsx(xn,{children:"New Status"}),e.jsxs(In,{value:x,onChange:O=>g(O.target.value),label:"New Status",children:[e.jsx(ve,{value:"CONFIRMED",children:"Confirmed"}),e.jsx(ve,{value:"PROCESSING",children:"Processing"}),e.jsx(ve,{value:"READY_FOR_PICKUP",children:"Ready for Pickup"}),e.jsx(ve,{value:"DELIVERED",children:"Delivered"})]})]})]}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>p({open:!1,order:null}),children:"Cancel"}),e.jsx(re,{onClick:S,variant:"contained",disabled:!x,children:"Update"})]})]}),e.jsx(xu,{open:v.open,onClose:()=>m({open:!1,order:null}),order:v.order,onPaymentSuccess:E})]})}const Vw={getAllPrescriptions:async()=>(await $.get("/prescriptions")).data,getPrescriptionById:async t=>(await $.get(`/prescriptions/${t}`)).data,getPrescriptionByNumber:async t=>(await $.get(`/prescriptions/number/${t}`)).data,getPrescriptionsByPatientId:async t=>(await $.get(`/prescriptions/patient/${t}`)).data,getUndispensedByPatientId:async t=>(await $.get(`/prescriptions/patient/${t}/undispensed`)).data,getUndispensedPrescriptions:async()=>(await $.get("/prescriptions/undispensed")).data,createPrescription:async t=>(await $.post("/prescriptions",t)).data,updatePrescription:async(t,n)=>(await $.put(`/prescriptions/${t}`,n)).data,dispensePrescription:async t=>(await $.put(`/prescriptions/${t}/dispense`)).data,deletePrescription:async t=>(await $.delete(`/prescriptions/${t}`)).data};function Bw(){const t=Me(),[n]=Eh(),r=n.get("prescriptionId"),s=n.get("patientId"),[a,o]=f.useState(!1),[i,l]=f.useState(!1),[c,d]=f.useState([]),[u,h]=f.useState([]),[p,x]=f.useState([]),[g,v]=f.useState(null),[m,w]=f.useState(null),[j,S]=f.useState({patientId:s||"",prescriptionId:r||"",deliveryAddress:"",contactPhone:"",notes:"",discountAmount:0,items:[]}),[y,E]=f.useState({medicationId:"",quantity:1,dosage:"",frequency:"",duration:"",instructions:""});f.useEffect(()=>{D()},[]),f.useEffect(()=>{g&&I(g.id)},[g]),f.useEffect(()=>{m&&A(m)},[m]);const D=async()=>{o(!0);try{const[T,k]=await Promise.all([kt.getAllPatients(),lr.getAllMedications()]);if(d(T||[]),x(k||[]),s){const N=T==null?void 0:T.find(W=>W.id===parseInt(s));N&&(v(N),S(W=>({...W,patientId:N.id})))}}catch(T){console.error("Error fetching initial data:",T),J.error("Failed to load data")}finally{o(!1)}},I=async T=>{try{const k=await Vw.getUndispensedByPatientId(T);if(h(k||[]),r){const N=k==null?void 0:k.find(W=>W.id===parseInt(r));N&&(w(N),S(W=>({...W,prescriptionId:N.id})))}}catch(k){console.error("Error fetching prescriptions:",k),h([])}},A=T=>{if(T!=null&&T.items){const k=T.items.map(N=>{var W,q;return{medicationId:N.medicationId,medicationName:N.medicationName||((W=p.find(Z=>Z.id===N.medicationId))==null?void 0:W.name),prescriptionItemId:N.id,quantity:N.quantity,unitPrice:((q=p.find(Z=>Z.id===N.medicationId))==null?void 0:q.unitPrice)||0,dosage:N.dosage,frequency:N.frequency,duration:N.duration,instructions:N.instructions}});S(N=>({...N,items:k}))}},z=(T,k)=>{v(k),w(null),h([]),S(N=>({...N,patientId:(k==null?void 0:k.id)||"",prescriptionId:"",items:[]}))},O=T=>{const k=T.target.value,N=u.find(W=>W.id===k);w(N),S(W=>({...W,prescriptionId:k}))},F=()=>{if(!y.medicationId||!y.quantity){J.error("Please select medication and quantity");return}const T=p.find(N=>N.id===y.medicationId);if(!T)return;if(T.stockQuantity<y.quantity){J.error(`Insufficient stock. Available: ${T.stockQuantity}`);return}const k={...y,medicationName:T.name,unitPrice:T.unitPrice};S(N=>({...N,items:[...N.items,k]})),E({medicationId:"",quantity:1,dosage:"",frequency:"",duration:"",instructions:""})},H=T=>{S(k=>({...k,items:k.items.filter((N,W)=>W!==T)}))},Y=()=>{const T=j.items.reduce((N,W)=>N+(W.unitPrice||0)*W.quantity,0),k=parseFloat(j.discountAmount)||0;return{total:T,discount:k,final:T-k}},M=async T=>{var k,N;if(T.preventDefault(),!j.patientId){J.error("Please select a patient");return}if(j.items.length===0){J.error("Please add at least one medication");return}l(!0);try{const W={patientId:j.patientId,prescriptionId:j.prescriptionId||null,deliveryAddress:j.deliveryAddress,contactPhone:j.contactPhone,notes:j.notes,discountAmount:parseFloat(j.discountAmount)||0,items:j.items.map(q=>({medicationId:q.medicationId,prescriptionItemId:q.prescriptionItemId||null,quantity:q.quantity,dosage:q.dosage,frequency:q.frequency,duration:q.duration?parseInt(q.duration):null,instructions:q.instructions}))};await Ze.createOrder(W),J.success("Medicine order created successfully"),t("/medicine-orders")}catch(W){J.error(((N=(k=W.response)==null?void 0:k.data)==null?void 0:N.message)||"Failed to create order"),console.error(W)}finally{l(!1)}},R=Y();return a?e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",alignItems:"center",mb:3,gap:2},children:[e.jsx(Pe,{onClick:()=>t("/medicine-orders"),children:e.jsx(mt,{})}),e.jsxs("div",{children:[e.jsx(b,{variant:"h4",fontWeight:700,children:"New Medicine Order"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Create an order based on prescription or walk-in"})]})]}),e.jsx("form",{onSubmit:M,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Patient Information"}),e.jsx(jh,{options:c,getOptionLabel:T=>`${T.firstName} ${T.lastName} (ID: ${T.id})`,value:g,onChange:z,renderInput:T=>e.jsx(U,{...T,label:"Select Patient",required:!0,fullWidth:!0,sx:{mb:2}})}),g&&u.length>0&&e.jsxs(fn,{fullWidth:!0,sx:{mb:2},children:[e.jsx(xn,{children:"Prescription (Optional)"}),e.jsxs(In,{value:j.prescriptionId,onChange:O,label:"Prescription (Optional)",children:[e.jsx(ve,{value:"",children:"Walk-in Order"}),u.map(T=>e.jsxs(ve,{value:T.id,children:[T.prescriptionNumber," -"," ",new Date(T.prescriptionDate).toLocaleDateString()]},T.id))]})]}),g&&u.length===0&&e.jsx(Be,{severity:"info",sx:{mb:2},children:"No undispensed prescriptions found for this patient. You can create a walk-in order."}),e.jsx(U,{fullWidth:!0,label:"Delivery Address",value:j.deliveryAddress,onChange:T=>S({...j,deliveryAddress:T.target.value}),multiline:!0,rows:2,sx:{mb:2}}),e.jsx(U,{fullWidth:!0,label:"Contact Phone",value:j.contactPhone,onChange:T=>S({...j,contactPhone:T.target.value}),sx:{mb:2}}),e.jsx(U,{fullWidth:!0,label:"Notes",value:j.notes,onChange:T=>S({...j,notes:T.target.value}),multiline:!0,rows:2})]})})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Add Medications"}),e.jsxs(C,{container:!0,spacing:2,children:[e.jsx(C,{item:!0,xs:12,children:e.jsxs(fn,{fullWidth:!0,children:[e.jsx(xn,{children:"Medication"}),e.jsx(In,{value:y.medicationId,onChange:T=>E({...y,medicationId:T.target.value}),label:"Medication",children:p.filter(T=>T.stockQuantity>0).map(T=>{var k;return e.jsxs(ve,{value:T.id,children:[T.name," - $",(k=T.unitPrice)==null?void 0:k.toFixed(2)," (Stock:"," ",T.stockQuantity,")"]},T.id)})})]})}),e.jsx(C,{item:!0,xs:6,children:e.jsx(U,{fullWidth:!0,label:"Quantity",type:"number",value:y.quantity,onChange:T=>E({...y,quantity:parseInt(T.target.value)||1}),inputProps:{min:1}})}),e.jsx(C,{item:!0,xs:6,children:e.jsx(U,{fullWidth:!0,label:"Dosage",value:y.dosage,onChange:T=>E({...y,dosage:T.target.value}),placeholder:"e.g., 1 tablet"})}),e.jsx(C,{item:!0,xs:6,children:e.jsx(U,{fullWidth:!0,label:"Frequency",value:y.frequency,onChange:T=>E({...y,frequency:T.target.value}),placeholder:"e.g., Twice daily"})}),e.jsx(C,{item:!0,xs:6,children:e.jsx(U,{fullWidth:!0,label:"Duration (days)",type:"number",value:y.duration,onChange:T=>E({...y,duration:T.target.value})})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(U,{fullWidth:!0,label:"Instructions",value:y.instructions,onChange:T=>E({...y,instructions:T.target.value}),placeholder:"e.g., Take after meals"})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(re,{variant:"outlined",startIcon:e.jsx(xt,{}),onClick:F,fullWidth:!0,children:"Add to Order"})})]})]})})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Order Items"}),j.items.length>0?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Medication"}),e.jsx(P,{children:"Quantity"}),e.jsx(P,{children:"Unit Price"}),e.jsx(P,{children:"Subtotal"}),e.jsx(P,{children:"Dosage"}),e.jsx(P,{children:"Frequency"}),e.jsx(P,{align:"right",children:"Action"})]})}),e.jsx(Ke,{children:j.items.map((T,k)=>{var N;return e.jsxs(je,{children:[e.jsx(P,{children:T.medicationName}),e.jsx(P,{children:T.quantity}),e.jsxs(P,{children:["$",(N=T.unitPrice)==null?void 0:N.toFixed(2)]}),e.jsxs(P,{children:["$",(T.unitPrice*T.quantity).toFixed(2)]}),e.jsx(P,{children:T.dosage||"-"}),e.jsx(P,{children:T.frequency||"-"}),e.jsx(P,{align:"right",children:e.jsx(Pe,{size:"small",onClick:()=>H(k),color:"error",children:e.jsx(Nt,{})})})]},k)})})]})}),e.jsx(He,{sx:{my:2}}),e.jsx(L,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(Oe,{sx:{p:2,minWidth:300},children:e.jsxs(C,{container:!0,spacing:1,children:[e.jsx(C,{item:!0,xs:6,children:e.jsx(b,{children:"Subtotal:"})}),e.jsx(C,{item:!0,xs:6,children:e.jsxs(b,{align:"right",children:["$",R.total.toFixed(2)]})}),e.jsx(C,{item:!0,xs:6,children:e.jsx(b,{children:"Discount:"})}),e.jsx(C,{item:!0,xs:6,children:e.jsx(U,{size:"small",type:"number",value:j.discountAmount,onChange:T=>S({...j,discountAmount:T.target.value}),inputProps:{min:0,step:.01},sx:{width:"100%"}})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(He,{})}),e.jsx(C,{item:!0,xs:6,children:e.jsx(b,{variant:"h6",fontWeight:700,children:"Total:"})}),e.jsx(C,{item:!0,xs:6,children:e.jsxs(b,{variant:"h6",fontWeight:700,align:"right",color:"primary",children:["$",R.final.toFixed(2)]})})]})})})]}):e.jsx(Be,{severity:"info",children:"No items added yet. Add medications from the form above or select a prescription."})]})})}),e.jsx(C,{item:!0,xs:12,children:e.jsxs(L,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(re,{variant:"outlined",onClick:()=>t("/medicine-orders"),children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",disabled:i||j.items.length===0,children:i?e.jsx(Ne,{size:24}):"Create Order"})]})})]})})]})}var gu="clover",Ww=function(n){return n===3?"v3":n},yu="https://js.stripe.com",Uw="".concat(yu,"/").concat(gu,"/stripe.js"),zw=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Hw=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var qw=function(n){return zw.test(n)||Hw.test(n)},Yw=function(){for(var n=document.querySelectorAll('script[src^="'.concat(yu,'"]')),r=0;r<n.length;r++){var s=n[r];if(qw(s.src))return s}return null},rc=function(n){var r="",s=document.createElement("script");s.src="".concat(Uw).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},Gw=function(n,r){!n||!n._registerWrapper||n._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:r})},os=null,Qs=null,Js=null,Kw=function(n){return function(r){n(new Error("Failed to load Stripe.js",{cause:r}))}},Qw=function(n,r){return function(){window.Stripe?n(window.Stripe):r(new Error("Stripe.js not available"))}},Jw=function(n){return os!==null?os:(os=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var a=Yw();if(!(a&&n)){if(!a)a=rc(n);else if(a&&Js!==null&&Qs!==null){var o;a.removeEventListener("load",Js),a.removeEventListener("error",Qs),(o=a.parentNode)===null||o===void 0||o.removeChild(a),a=rc(n)}}Js=Qw(r,s),Qs=Kw(s),a.addEventListener("load",Js),a.addEventListener("error",Qs)}catch(i){s(i);return}}),os.catch(function(r){return os=null,Promise.reject(r)}))},Xw=function(n,r,s){if(n===null)return null;var a=r[0],o=a.match(/^pk_test/),i=Ww(n.version),l=gu;o&&i!==l&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=n.apply(void 0,r);return Gw(c,s),c},is,ju=!1,bu=function(){return is||(is=Jw(null).catch(function(n){return is=null,Promise.reject(n)}),is)};Promise.resolve().then(function(){return bu()}).catch(function(t){ju||console.warn(t)});var Zw=function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];ju=!0;var a=Date.now();return bu().then(function(o){return Xw(o,r,a)})};function sc(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function ac(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?sc(Object(r),!0).forEach(function(s){vu(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sc(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function da(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?da=function(n){return typeof n}:da=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},da(t)}function vu(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function eC(t,n){if(t==null)return{};var r={},s=Object.keys(t),a,o;for(o=0;o<s.length;o++)a=s[o],!(n.indexOf(a)>=0)&&(r[a]=t[a]);return r}function tC(t,n){if(t==null)return{};var r=eC(t,n),s,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)s=o[a],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Su(t,n){return nC(t)||rC(t,n)||sC(t,n)||aC()}function nC(t){if(Array.isArray(t))return t}function rC(t,n){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var s=[],a=!0,o=!1,i,l;try{for(r=r.call(t);!(a=(i=r.next()).done)&&(s.push(i.value),!(n&&s.length===n));a=!0);}catch(c){o=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw l}}return s}}function sC(t,n){if(t){if(typeof t=="string")return oc(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oc(t,n)}}function oc(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,s=new Array(n);r<n;r++)s[r]=t[r];return s}function aC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Dt=function(n,r,s){var a=!!s,o=ie.useRef(s);ie.useEffect(function(){o.current=s},[s]),ie.useEffect(function(){if(!a||!n)return function(){};var i=function(){o.current&&o.current.apply(o,arguments)};return n.on(r,i),function(){n.off(r,i)}},[a,r,n,o])},Wo=function(n){var r=ie.useRef(n);return ie.useEffect(function(){r.current=n},[n]),r.current},Hr=function(n){return n!==null&&da(n)==="object"},oC=function(n){return Hr(n)&&typeof n.then=="function"},iC=function(n){return Hr(n)&&typeof n.elements=="function"&&typeof n.createToken=="function"&&typeof n.createPaymentMethod=="function"&&typeof n.confirmCardPayment=="function"},ic="[object Object]",lC=function t(n,r){if(!Hr(n)||!Hr(r))return n===r;var s=Array.isArray(n),a=Array.isArray(r);if(s!==a)return!1;var o=Object.prototype.toString.call(n)===ic,i=Object.prototype.toString.call(r)===ic;if(o!==i)return!1;if(!o&&!s)return n===r;var l=Object.keys(n),c=Object.keys(r);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var p=Object.keys(d);if(p.length!==l.length)return!1;var x=n,g=r,v=function(w){return t(x[w],g[w])};return p.every(v)},wu=function(n,r,s){return Hr(n)?Object.keys(n).reduce(function(a,o){var i=!Hr(r)||!lC(n[o],r[o]);return s.includes(o)?(i&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),a):i?ac(ac({},a||{}),{},vu({},o,n[o])):a},null):null},Cu="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",lc=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cu;if(n===null||iC(n))return n;throw new Error(r)},cC=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cu;if(oC(n))return{tag:"async",stripePromise:Promise.resolve(n).then(function(a){return lc(a,r)})};var s=lc(n,r);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},dC=function(n){!n||!n._registerWrapper||!n.registerAppInfo||(n._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),n.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},Ha=ie.createContext(null);Ha.displayName="ElementsContext";var Du=function(n,r){if(!n)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return n},Pu=function(n){var r=n.stripe,s=n.options,a=n.children,o=ie.useMemo(function(){return cC(r)},[r]),i=ie.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(s):null}}),l=Su(i,2),c=l[0],d=l[1];ie.useEffect(function(){var p=!0,x=function(v){d(function(m){return m.stripe?m:{stripe:v,elements:v.elements(s)}})};return o.tag==="async"&&!c.stripe?o.stripePromise.then(function(g){g&&p&&x(g)}):o.tag==="sync"&&!c.stripe&&x(o.stripe),function(){p=!1}},[o,c,s]);var u=Wo(r);ie.useEffect(function(){u!==null&&u!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,r]);var h=Wo(s);return ie.useEffect(function(){if(c.elements){var p=wu(s,h,["clientSecret","fonts"]);p&&c.elements.update(p)}},[s,h,c.elements]),ie.useEffect(function(){dC(c.stripe)},[c.stripe]),ie.createElement(Ha.Provider,{value:c},a)};Pu.propTypes={stripe:V.any,options:V.object};var uC=function(n){var r=ie.useContext(Ha);return Du(r,n)},hC=function(){var n=uC("calls useElements()"),r=n.elements;return r};V.func.isRequired;var Iu=ie.createContext(null);Iu.displayName="CheckoutContext";V.any,V.shape({clientSecret:V.oneOfType([V.string,V.instanceOf(Promise)]).isRequired,elementsOptions:V.object}).isRequired;var Uo=function(n){var r=ie.useContext(Iu),s=ie.useContext(Ha);if(r){if(s)throw new Error("You cannot wrap the part of your app that ".concat(n," in both <CheckoutProvider> and <Elements> providers."));return r}else return Du(s,n)},mC=["mode"],pC=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},Lt=function(n,r){var s="".concat(pC(n),"Element"),a=function(c){var d=c.id,u=c.className,h=c.options,p=h===void 0?{}:h,x=c.onBlur,g=c.onFocus,v=c.onReady,m=c.onChange,w=c.onEscape,j=c.onClick,S=c.onLoadError,y=c.onLoaderStart,E=c.onNetworksChange,D=c.onConfirm,I=c.onCancel,A=c.onShippingAddressChange,z=c.onShippingRateChange,O=c.onSavedPaymentMethodRemove,F=c.onSavedPaymentMethodUpdate,H=Uo("mounts <".concat(s,">")),Y="elements"in H?H.elements:null,M="checkoutState"in H?H.checkoutState:null,R=(M==null?void 0:M.type)==="success"||(M==null?void 0:M.type)==="loading"?M.sdk:null,T=ie.useState(null),k=Su(T,2),N=k[0],W=k[1],q=ie.useRef(null),Z=ie.useRef(null);Dt(N,"blur",x),Dt(N,"focus",g),Dt(N,"escape",w),Dt(N,"click",j),Dt(N,"loaderror",S),Dt(N,"loaderstart",y),Dt(N,"networkschange",E),Dt(N,"confirm",D),Dt(N,"cancel",I),Dt(N,"shippingaddresschange",A),Dt(N,"shippingratechange",z),Dt(N,"savedpaymentmethodremove",O),Dt(N,"savedpaymentmethodupdate",F),Dt(N,"change",m);var se;v&&(n==="expressCheckout"?se=v:se=function(){v(N)}),Dt(N,"ready",se),ie.useLayoutEffect(function(){if(q.current===null&&Z.current!==null&&(Y||R)){var te=null;if(R)switch(n){case"paymentForm":te=R.createPaymentFormElement();break;case"payment":te=R.createPaymentElement(p);break;case"address":if("mode"in p){var X=p.mode,me=tC(p,mC);if(X==="shipping")te=R.createShippingAddressElement(me);else if(X==="billing")te=R.createBillingAddressElement(me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":te=R.createExpressCheckoutElement(p);break;case"currencySelector":te=R.createCurrencySelectorElement();break;case"taxId":te=R.createTaxIdElement(p);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else Y&&(te=Y.create(n,p));q.current=te,W(te),te&&te.mount(Z.current)}},[Y,R,p]);var ee=Wo(p);return ie.useEffect(function(){if(q.current){var te=wu(p,ee,["paymentRequest"]);te&&"update"in q.current&&q.current.update(te)}},[p,ee]),ie.useLayoutEffect(function(){return function(){if(q.current&&typeof q.current.destroy=="function")try{q.current.destroy(),q.current=null}catch{}}},[]),ie.createElement("div",{id:d,className:u,ref:Z})},o=function(c){Uo("mounts <".concat(s,">"));var d=c.id,u=c.className;return ie.createElement("div",{id:d,className:u})},i=r?o:a;return i.propTypes={id:V.string,className:V.string,onChange:V.func,onBlur:V.func,onFocus:V.func,onReady:V.func,onEscape:V.func,onClick:V.func,onLoadError:V.func,onLoaderStart:V.func,onNetworksChange:V.func,onConfirm:V.func,onCancel:V.func,onShippingAddressChange:V.func,onShippingRateChange:V.func,onSavedPaymentMethodRemove:V.func,onSavedPaymentMethodUpdate:V.func,options:V.object},i.displayName=s,i.__elementType=n,i},Ft=typeof window>"u",fC=ie.createContext(null);fC.displayName="EmbeddedCheckoutProviderContext";var xC=function(){var n=Uo("calls useStripe()"),r=n.stripe;return r};Lt("auBankAccount",Ft);Lt("card",Ft);Lt("cardNumber",Ft);Lt("cardExpiry",Ft);Lt("cardCvc",Ft);Lt("iban",Ft);var gC=Lt("payment",Ft);Lt("expressCheckout",Ft);Lt("paymentRequestButton",Ft);Lt("linkAuthentication",Ft);Lt("address",Ft);Lt("shippingAddress",Ft);Lt("paymentMethodMessaging",Ft);Lt("taxId",Ft);const zo={getConfig:async()=>(await $.get("/stripe/config")).data,createPaymentIntent:async t=>(await $.post(`/stripe/create-payment-intent/${t}`)).data,createCheckoutSession:async(t,n,r)=>(await $.post(`/stripe/create-checkout-session/${t}`,{successUrl:n,cancelUrl:r})).data,confirmPayment:async(t,n,r)=>(await $.post("/stripe/confirm-payment",{orderId:t.toString(),paymentIntentId:n,transactionId:r})).data,getPaymentIntentStatus:async t=>(await $.get(`/stripe/payment-intent/${t}`)).data};function yC({orderId:t,amount:n,onSuccess:r,onCancel:s}){const a=xC(),o=hC(),[i,l]=f.useState(!1),[c,d]=f.useState(null),u=async h=>{if(h.preventDefault(),!(!a||!o)){l(!0),d(null);try{const{error:p,paymentIntent:x}=await a.confirmPayment({elements:o,confirmParams:{return_url:window.location.href},redirect:"if_required"});p?(d(p.message),J.error(p.message)):x&&x.status==="succeeded"&&(await zo.confirmPayment(t,x.id,x.id),J.success("Payment successful!"),r&&r(x))}catch(p){d("An unexpected error occurred."),J.error("Payment failed. Please try again."),console.error(p)}finally{l(!1)}}};return e.jsxs("form",{onSubmit:u,children:[e.jsx(L,{sx:{mb:3},children:e.jsx(gC,{})}),c&&e.jsx(Be,{severity:"error",sx:{mb:2},children:c}),e.jsxs(L,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(re,{onClick:s,disabled:i,children:"Cancel"}),e.jsx(re,{type:"submit",variant:"contained",disabled:!a||i,children:i?e.jsx(Ne,{size:24,color:"inherit"}):`Pay $${parseFloat(n).toFixed(2)}`})]})]})}function jC({open:t,onClose:n,order:r,onPaymentSuccess:s}){var w;const[a,o]=f.useState(!0),[i,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(0),[p,x]=f.useState(null);f.useEffect(()=>{t&&r&&g()},[t,r]);const g=async()=>{var j,S;o(!0),x(null);try{const[y,E]=await Promise.all([zo.getConfig(),zo.createPaymentIntent(r.id)]),D=await Zw(y.publishableKey);l(D),d(E.clientSecret),h(E.amount)}catch(y){console.error("Error initializing payment:",y),x(((S=(j=y.response)==null?void 0:j.data)==null?void 0:S.error)||"Failed to initialize payment"),J.error("Failed to initialize payment")}finally{o(!1)}},v=j=>{s&&s(j),n()},m={clientSecret:c,appearance:{theme:"stripe",variables:{colorPrimary:"#1976d2",colorBackground:"#ffffff",colorText:"#30313d",colorDanger:"#df1b41",fontFamily:"Roboto, sans-serif",borderRadius:"8px"}}};return e.jsxs(ut,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[e.jsx(gt,{children:e.jsx(b,{variant:"h6",fontWeight:600,children:"Pay Online"})}),e.jsx(ht,{children:r&&e.jsxs(e.Fragment,{children:[e.jsxs(L,{sx:{mb:3,mt:1},children:[e.jsx(b,{variant:"subtitle2",color:"text.secondary",children:"Order Details"}),e.jsx(b,{variant:"h6",children:r.orderNumber}),e.jsxs(b,{variant:"body2",children:["Patient: ",r.patientName]})]}),e.jsx(He,{sx:{mb:2}}),e.jsxs(C,{container:!0,spacing:2,sx:{mb:3},children:[e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Order Total"}),e.jsxs(b,{variant:"h6",children:["$",(w=r.finalAmount)==null?void 0:w.toFixed(2)]})]}),e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Amount to Pay"}),e.jsxs(b,{variant:"h6",color:"primary.main",children:["$",parseFloat(u||r.finalAmount||0).toFixed(2)]})]})]}),a?e.jsxs(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:4},children:[e.jsx(Ne,{}),e.jsx(b,{sx:{ml:2},children:"Initializing payment..."})]}):p?e.jsx(Be,{severity:"error",sx:{mb:2},children:p}):c&&i?e.jsx(Pu,{stripe:i,options:m,children:e.jsx(yC,{orderId:r.id,amount:u,onSuccess:v,onCancel:n})}):null,e.jsx(L,{sx:{mt:3},children:e.jsx(Be,{severity:"info",icon:!1,children:e.jsxs(b,{variant:"caption",color:"text.secondary",children:[e.jsx("strong",{children:"Test Card:"})," 4242 4242 4242 4242",e.jsx("br",{}),e.jsx("strong",{children:"Expiry:"})," Any future date (e.g., 12/25)",e.jsx("br",{}),e.jsx("strong",{children:"CVC:"})," Any 3 digits (e.g., 123)"]})})})]})}),(a||p)&&e.jsxs(dt,{children:[e.jsx(re,{onClick:n,children:"Close"}),p&&e.jsx(re,{variant:"contained",onClick:g,children:"Retry"})]})]})}const Sa={createOrder:async t=>(await $.post(`/razorpay/create-order/${t}`)).data,verifyPayment:async t=>(await $.post("/razorpay/verify-payment",t)).data,getPaymentStatus:async t=>(await $.get(`/razorpay/status/${t}`)).data,loadRazorpayScript:()=>new Promise((t,n)=>{if(window.Razorpay){t(!0);return}const r=document.createElement("script");r.src="https://checkout.razorpay.com/v1/checkout.js",r.async=!0,r.onload=()=>t(!0),r.onerror=()=>n(new Error("Failed to load Razorpay SDK")),document.body.appendChild(r)}),openCheckout:async(t,n={})=>{await Sa.loadRazorpayScript();const r={key:t.keyId,amount:t.amount,currency:t.currency||"INR",name:"Medico Hospital",description:`Payment for Order #${t.medicineOrderId}`,order_id:t.orderId,prefill:{name:t.patientName||"",email:t.patientEmail||"",contact:t.patientPhone||""},notes:{medicine_order_id:t.medicineOrderId},theme:{color:"#1976d2"},handler:async a=>{try{const o=await Sa.verifyPayment({razorpay_order_id:a.razorpay_order_id,razorpay_payment_id:a.razorpay_payment_id,razorpay_signature:a.razorpay_signature});n.onSuccess&&n.onSuccess(o)}catch(o){n.onError&&n.onError(o)}},modal:{ondismiss:()=>{n.onDismiss&&n.onDismiss()},escape:!0,backdropclose:!1}},s=new window.Razorpay(r);s.on("payment.failed",a=>{n.onError&&n.onError({code:a.error.code,description:a.error.description,source:a.error.source,step:a.error.step,reason:a.error.reason})}),s.open()}};function bC(){var z,O,F,H,Y,M;const t=Me(),{id:n}=Bt(),{isAnyRole:r}=St(),[s,a]=f.useState(null),[o,i]=f.useState(!0),[l,c]=f.useState(!1),[d,u]=f.useState(""),[h,p]=f.useState(!1),[x,g]=f.useState(!1),v=r(["PHARMACIST","ADMIN"]);f.useEffect(()=>{m()},[n]);const m=async()=>{i(!0);try{const R=await Ze.getOrderById(n);a(R)}catch(R){J.error("Failed to fetch order details"),console.error(R)}finally{i(!1)}},w=async()=>{if(d)try{switch(d){case"CONFIRMED":await Ze.confirmOrder(s.id);break;case"PROCESSING":await Ze.processOrder(s.id);break;case"READY_FOR_PICKUP":await Ze.markReadyForPickup(s.id);break;case"DELIVERED":await Ze.deliverOrder(s.id);break;default:await Ze.updateOrderStatus(s.id,d)}J.success("Order status updated successfully"),c(!1),u(""),m()}catch(R){J.error("Failed to update order status"),console.error(R)}},j=async()=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await Ze.cancelOrder(s.id),J.success("Order cancelled successfully"),m()}catch(R){J.error("Failed to cancel order"),console.error(R)}},S=async()=>{try{await Ze.markAsPaid(s.id),J.success("Order marked as paid"),m()}catch(R){J.error("Failed to update payment status"),console.error(R)}},y=()=>{window.print()},E=()=>{p(!1),m()},D=async()=>{g(!0);try{const R=await Sa.createOrder(s.id);await Sa.openCheckout(R,{onSuccess:()=>{g(!1),J.success("Payment successful!"),m()},onError:T=>{g(!1),J.error(T.description||"Payment failed")},onDismiss:()=>{g(!1)}})}catch(R){g(!1),J.error("Failed to initiate payment"),console.error(R)}},I=R=>({PENDING:"warning",CONFIRMED:"info",PROCESSING:"primary",READY_FOR_PICKUP:"secondary",DELIVERED:"success",CANCELLED:"error"})[R]||"default",A=R=>({PENDING:"warning",PAID:"success",FAILED:"error",REFUNDED:"info"})[R]||"default";return o?e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})}):s?e.jsxs(L,{children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Pe,{onClick:()=>t("/medicine-orders"),children:e.jsx(mt,{})}),e.jsxs("div",{children:[e.jsx(b,{variant:"h4",fontWeight:700,children:"Order Details"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:s.orderNumber})]})]}),e.jsxs(L,{sx:{display:"flex",gap:1},children:[e.jsx(re,{variant:"outlined",startIcon:e.jsx(bh,{}),onClick:y,children:"Print"}),v&&s.status!=="DELIVERED"&&s.status!=="CANCELLED"&&e.jsxs(e.Fragment,{children:[e.jsx(re,{variant:"contained",startIcon:e.jsx(an,{}),onClick:()=>c(!0),children:"Update Status"}),s.paymentStatus==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx(re,{variant:"contained",color:"success",startIcon:e.jsx(wa,{}),onClick:S,children:"Mark as Paid"}),e.jsxs(Ci,{variant:"contained",children:[e.jsx(re,{color:"primary",startIcon:e.jsx(Di,{}),onClick:()=>p(!0),children:"Card"}),e.jsx(re,{color:"secondary",startIcon:e.jsx(Pi,{}),onClick:D,disabled:x,children:x?"Processing...":"UPI"})]})]})]}),s.status!=="DELIVERED"&&s.status!=="CANCELLED"&&e.jsxs(e.Fragment,{children:[s.paymentStatus==="PENDING"&&!v&&e.jsxs(Ci,{variant:"contained",children:[e.jsx(re,{color:"primary",startIcon:e.jsx(Di,{}),onClick:()=>p(!0),children:"Pay with Card"}),e.jsx(re,{color:"secondary",startIcon:e.jsx(Pi,{}),onClick:D,disabled:x,children:x?"Processing...":"Pay with UPI"})]}),e.jsx(re,{variant:"outlined",color:"error",startIcon:e.jsx(dr,{}),onClick:j,children:"Cancel Order"})]})]})]}),e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,children:e.jsx(Se,{children:e.jsx(we,{children:e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(L,{children:[e.jsx(b,{variant:"h6",fontWeight:600,children:"Order Status"}),e.jsxs(L,{sx:{display:"flex",gap:2,mt:1},children:[e.jsx(Ee,{label:(z=s.status)==null?void 0:z.replace(/_/g," "),color:I(s.status),size:"medium"}),e.jsx(Ee,{label:`Payment: ${s.paymentStatus}`,color:A(s.paymentStatus),variant:"outlined",size:"medium"})]})]}),e.jsxs(L,{sx:{textAlign:"right"},children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Order Date"}),e.jsx(b,{fontWeight:600,children:new Date(s.orderDate).toLocaleString()})]})]})})})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{sx:{height:"100%"},children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Patient Information"}),e.jsxs(C,{container:!0,spacing:2,children:[e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Name"}),e.jsx(b,{fontWeight:500,children:s.patientName})]}),e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Patient ID"}),e.jsx(b,{fontWeight:500,children:s.patientId})]}),s.prescriptionNumber&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Prescription #"}),e.jsx(b,{fontWeight:500,children:s.prescriptionNumber})]}),s.contactPhone&&e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Contact Phone"}),e.jsx(b,{fontWeight:500,children:s.contactPhone})]})]})]})})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsx(Se,{sx:{height:"100%"},children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Delivery & Processing"}),e.jsxs(C,{container:!0,spacing:2,children:[s.deliveryAddress&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Delivery Address"}),e.jsx(b,{fontWeight:500,children:s.deliveryAddress})]}),s.processedByName&&e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Processed By"}),e.jsx(b,{fontWeight:500,children:s.processedByName})]}),s.processedDate&&e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Processed Date"}),e.jsx(b,{fontWeight:500,children:new Date(s.processedDate).toLocaleString()})]}),s.deliveryDate&&e.jsxs(C,{item:!0,xs:6,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Delivery Date"}),e.jsx(b,{fontWeight:500,children:new Date(s.deliveryDate).toLocaleString()})]}),s.notes&&e.jsxs(C,{item:!0,xs:12,children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Notes"}),e.jsx(b,{fontWeight:500,children:s.notes})]})]})]})})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Order Items"}),e.jsx(Ye,{children:e.jsxs(Ge,{children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Medication"}),e.jsx(P,{children:"Code"}),e.jsx(P,{children:"Quantity"}),e.jsx(P,{children:"Unit Price"}),e.jsx(P,{children:"Subtotal"}),e.jsx(P,{children:"Dosage"}),e.jsx(P,{children:"Frequency"}),e.jsx(P,{children:"Duration"}),e.jsx(P,{children:"Instructions"})]})}),e.jsx(Ke,{children:(O=s.items)==null?void 0:O.map((R,T)=>{var k,N;return e.jsxs(je,{children:[e.jsx(P,{children:e.jsx(b,{fontWeight:600,children:R.medicationName})}),e.jsx(P,{children:R.medicationCode}),e.jsx(P,{children:R.quantity}),e.jsxs(P,{children:["$",(k=R.unitPrice)==null?void 0:k.toFixed(2)]}),e.jsx(P,{children:e.jsxs(b,{fontWeight:600,children:["$",(N=R.subtotal)==null?void 0:N.toFixed(2)]})}),e.jsx(P,{children:R.dosage||"-"}),e.jsx(P,{children:R.frequency||"-"}),e.jsx(P,{children:R.duration?`${R.duration} days`:"-"}),e.jsx(P,{children:R.instructions||"-"})]},T)})})]})}),e.jsx(He,{sx:{my:2}}),e.jsx(L,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(Oe,{sx:{p:2,minWidth:300},children:e.jsxs(C,{container:!0,spacing:1,children:[e.jsx(C,{item:!0,xs:6,children:e.jsx(b,{children:"Subtotal:"})}),e.jsx(C,{item:!0,xs:6,children:e.jsxs(b,{align:"right",children:["$",(F=s.totalAmount)==null?void 0:F.toFixed(2)]})}),e.jsx(C,{item:!0,xs:6,children:e.jsx(b,{children:"Discount:"})}),e.jsx(C,{item:!0,xs:6,children:e.jsxs(b,{align:"right",color:"error",children:["-$",(H=s.discountAmount)==null?void 0:H.toFixed(2)]})}),e.jsx(C,{item:!0,xs:12,children:e.jsx(He,{})}),e.jsx(C,{item:!0,xs:6,children:e.jsx(b,{variant:"h6",fontWeight:700,children:"Total:"})}),e.jsx(C,{item:!0,xs:6,children:e.jsxs(b,{variant:"h6",fontWeight:700,align:"right",color:"primary",children:["$",(Y=s.finalAmount)==null?void 0:Y.toFixed(2)]})})]})})})]})})})]}),e.jsxs(ut,{open:l,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(gt,{children:"Update Order Status"}),e.jsxs(ht,{children:[e.jsxs(b,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Current Status: ",(M=s.status)==null?void 0:M.replace(/_/g," ")]}),e.jsxs(fn,{fullWidth:!0,sx:{mt:1},children:[e.jsx(xn,{children:"New Status"}),e.jsxs(In,{value:d,onChange:R=>u(R.target.value),label:"New Status",children:[e.jsx(ve,{value:"CONFIRMED",children:"Confirmed"}),e.jsx(ve,{value:"PROCESSING",children:"Processing"}),e.jsx(ve,{value:"READY_FOR_PICKUP",children:"Ready for Pickup"}),e.jsx(ve,{value:"DELIVERED",children:"Delivered"})]})]})]}),e.jsxs(dt,{children:[e.jsx(re,{onClick:()=>c(!1),children:"Cancel"}),e.jsx(re,{onClick:w,variant:"contained",disabled:!d,children:"Update"})]})]}),e.jsx(jC,{open:h,onClose:()=>p(!1),order:s,onPaymentSuccess:E})]}):e.jsxs(L,{sx:{textAlign:"center",p:4},children:[e.jsx(b,{variant:"h6",children:"Order not found"}),e.jsx(re,{onClick:()=>t("/medicine-orders"),sx:{mt:2},children:"Back to Orders"})]})}function vC(){const t=Me(),[n,r]=f.useState([]),[s,a]=f.useState([]),[o,i]=f.useState(!0),[l,c]=f.useState(""),[d,u]=f.useState(0),[h,p]=f.useState({open:!1,order:null}),[x,g]=f.useState({pendingPayments:0,todayCollection:0});f.useEffect(()=>{v()},[d]);const v=async()=>{i(!0);try{let S;switch(d){case 0:S=await Ze.getPaymentPendingOrders();break;case 1:S=await Ze.getAllOrders();break;default:S=await Ze.getPaymentPendingOrders()}r(S||[]);const y=await ca.getMyCollections();a((y==null?void 0:y.slice(0,10))||[]);const E=await Ze.getPaymentPendingOrders(),D=(E==null?void 0:E.reduce((O,F)=>O+(F.finalAmount||0),0))||0,I=new Date;I.setHours(0,0,0,0);const z=((y==null?void 0:y.filter(O=>new Date(O.paymentDate)>=I))||[]).reduce((O,F)=>O+(F.amount||0),0);g({pendingPayments:D,todayCollection:z})}catch(S){J.error("Failed to fetch data"),console.error(S)}finally{i(!1)}},m=()=>{v()},w=S=>({PENDING:"warning",PAID:"success",FAILED:"error",REFUNDED:"info"})[S]||"default",j=n.filter(S=>{var y,E;return((y=S.orderNumber)==null?void 0:y.toLowerCase().includes(l.toLowerCase()))||((E=S.patientName)==null?void 0:E.toLowerCase().includes(l.toLowerCase()))});return o?e.jsx(L,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(Ne,{})}):e.jsxs(L,{children:[e.jsx(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:e.jsxs("div",{children:[e.jsx(b,{variant:"h4",fontWeight:700,children:"Payment Collection"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Collect payments for medicine orders"})]})}),e.jsxs(C,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(Oe,{sx:{p:3,bgcolor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Pending Payments"}),e.jsxs(b,{variant:"h4",fontWeight:700,color:"warning.main",children:["$",x.pendingPayments.toFixed(2)]})]})}),e.jsx(C,{item:!0,xs:12,md:6,children:e.jsxs(Oe,{sx:{p:3,bgcolor:"success.50",border:"1px solid",borderColor:"success.200"},children:[e.jsx(b,{variant:"body2",color:"text.secondary",children:"Today's Collection"}),e.jsxs(b,{variant:"h4",fontWeight:700,color:"success.main",children:["$",x.todayCollection.toFixed(2)]})]})})]}),e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{item:!0,xs:12,lg:8,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsxs(Yr,{value:d,onChange:(S,y)=>u(y),sx:{mb:2},children:[e.jsx(ft,{label:"Payment Pending"}),e.jsx(ft,{label:"All Orders"})]}),e.jsx(U,{fullWidth:!0,placeholder:"Search by order number or patient name...",value:l,onChange:S=>c(S.target.value),InputProps:{startAdornment:e.jsx(yn,{position:"start",children:e.jsx(Is,{})})},sx:{mb:2}}),e.jsx(Ye,{children:e.jsxs(Ge,{size:"small",children:[e.jsx(Je,{children:e.jsxs(je,{children:[e.jsx(P,{children:"Order #"}),e.jsx(P,{children:"Patient"}),e.jsx(P,{children:"Amount"}),e.jsx(P,{children:"Payment"}),e.jsx(P,{align:"right",children:"Actions"})]})}),e.jsx(Ke,{children:j.length>0?j.map(S=>{var y;return e.jsxs(je,{hover:!0,children:[e.jsxs(P,{children:[e.jsx(b,{variant:"body2",fontWeight:600,children:S.orderNumber}),e.jsx(b,{variant:"caption",color:"text.secondary",children:new Date(S.orderDate).toLocaleDateString()})]}),e.jsx(P,{children:S.patientName}),e.jsx(P,{children:e.jsxs(b,{fontWeight:600,children:["$",(y=S.finalAmount)==null?void 0:y.toFixed(2)]})}),e.jsx(P,{children:e.jsx(Ee,{label:S.paymentStatus,size:"small",color:w(S.paymentStatus)})}),e.jsxs(P,{align:"right",children:[e.jsx(Pe,{size:"small",onClick:()=>t(`/medicine-orders/${S.id}`),color:"info",title:"View Details",children:e.jsx(it,{})}),S.paymentStatus!=="PAID"&&e.jsx(Pe,{size:"small",onClick:()=>p({open:!0,order:S}),color:"success",title:"Collect Payment",children:e.jsx(wa,{})})]})]},S.id)}):e.jsx(je,{children:e.jsx(P,{colSpan:5,align:"center",children:e.jsx(b,{variant:"body2",color:"text.secondary",py:4,children:"No orders found"})})})})]})})]})})}),e.jsx(C,{item:!0,xs:12,lg:4,children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsxs(b,{variant:"h6",fontWeight:600,gutterBottom:!0,children:[e.jsx(vh,{sx:{mr:1,verticalAlign:"middle"}}),"My Recent Collections"]}),s.length>0?e.jsx(L,{sx:{mt:2},children:s.map(S=>{var y,E;return e.jsxs(Oe,{sx:{p:2,mb:1,bgcolor:"grey.50",borderLeft:"4px solid",borderColor:"success.main"},children:[e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(b,{variant:"body2",fontWeight:600,children:S.receiptNumber}),e.jsxs(b,{variant:"body2",color:"success.main",fontWeight:600,children:["$",(y=S.amount)==null?void 0:y.toFixed(2)]})]}),e.jsxs(b,{variant:"caption",color:"text.secondary",children:[S.patientName," - ",S.orderNumber]}),e.jsxs(L,{sx:{mt:.5},children:[e.jsx(Ee,{label:(E=S.paymentMethod)==null?void 0:E.replace(/_/g," "),size:"small",variant:"outlined"}),e.jsx(b,{variant:"caption",color:"text.secondary",sx:{ml:1},children:new Date(S.paymentDate).toLocaleString()})]})]},S.id)})}):e.jsx(b,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"No recent payments"})]})})})]}),e.jsx(xu,{open:h.open,onClose:()=>p({open:!1,order:null}),order:h.order,onPaymentSuccess:m})]})}function SC({children:t}){const{isAuthenticated:n}=Rn(r=>r.auth);return n?t:e.jsx(ha,{to:"/login",replace:!0})}function go({children:t}){const{isAuthenticated:n}=Rn(r=>r.auth);return n?e.jsx(ha,{to:"/dashboard",replace:!0}):t}function wC(){return e.jsxs(Rh,{children:[e.jsx(Ce,{path:"/login",element:e.jsx(go,{children:e.jsx(_x,{})})}),e.jsx(Ce,{path:"/register",element:e.jsx(go,{children:e.jsx($x,{})})}),e.jsx(Ce,{path:"/hospital-registration",element:e.jsx(go,{children:e.jsx(Bx,{})})}),e.jsxs(Ce,{path:"/",element:e.jsx(SC,{children:e.jsx(Fx,{})}),children:[e.jsx(Ce,{index:!0,element:e.jsx(ha,{to:"/dashboard",replace:!0})}),e.jsx(Ce,{path:"dashboard",element:e.jsx(Wx,{})}),e.jsxs(Ce,{path:"patients",children:[e.jsx(Ce,{index:!0,element:e.jsx(zx,{})}),e.jsx(Ce,{path:"new",element:e.jsx(jl,{})}),e.jsx(Ce,{path:":id",element:e.jsx(Hx,{})}),e.jsx(Ce,{path:":id/edit",element:e.jsx(jl,{})})]}),e.jsxs(Ce,{path:"medications",children:[e.jsx(Ce,{index:!0,element:e.jsx(Gx,{})}),e.jsx(Ce,{path:"new",element:e.jsx(Sl,{})}),e.jsx(Ce,{path:":id/edit",element:e.jsx(Sl,{})})]}),e.jsxs(Ce,{path:"appointments",children:[e.jsx(Ce,{index:!0,element:e.jsx(Kx,{})}),e.jsx(Ce,{path:"new",element:e.jsx(fo,{})}),e.jsx(Ce,{path:"edit/:id",element:e.jsx(fo,{})}),e.jsx(Ce,{path:":id",element:e.jsx(fo,{})})]}),e.jsxs(Ce,{path:"doctors",children:[e.jsx(Ce,{index:!0,element:e.jsx(pw,{})}),e.jsx(Ce,{path:"new",element:e.jsx(Ql,{})}),e.jsx(Ce,{path:":id",element:e.jsx(fw,{})}),e.jsx(Ce,{path:"edit/:id",element:e.jsx(Ql,{})})]}),e.jsxs(Ce,{path:"nurses",children:[e.jsx(Ce,{index:!0,element:e.jsx(gw,{})}),e.jsx(Ce,{path:"new",element:e.jsx(Jl,{})}),e.jsx(Ce,{path:"edit/:id",element:e.jsx(Jl,{})})]}),e.jsxs(Ce,{path:"pharmacists",children:[e.jsx(Ce,{index:!0,element:e.jsx(yw,{})}),e.jsx(Ce,{path:"new",element:e.jsx(Xl,{})}),e.jsx(Ce,{path:"edit/:id",element:e.jsx(Xl,{})})]}),e.jsxs(Ce,{path:"lab-technicians",children:[e.jsx(Ce,{index:!0,element:e.jsx(jw,{})}),e.jsx(Ce,{path:"new",element:e.jsx(Zl,{})}),e.jsx(Ce,{path:"edit/:id",element:e.jsx(Zl,{})})]}),e.jsxs(Ce,{path:"receptionists",children:[e.jsx(Ce,{index:!0,element:e.jsx(bw,{})}),e.jsx(Ce,{path:"new",element:e.jsx(ec,{})}),e.jsx(Ce,{path:"edit/:id",element:e.jsx(ec,{})})]}),e.jsx(Ce,{path:"doctor-assignments",children:e.jsx(Ce,{index:!0,element:e.jsx(vw,{})})}),e.jsx(Ce,{path:"nurse-assignments",children:e.jsx(Ce,{index:!0,element:e.jsx(Sw,{})})}),e.jsx(Ce,{path:"lab-tests",children:e.jsx(Ce,{index:!0,element:e.jsx(ww,{})})}),e.jsxs(Ce,{path:"medication-requests",children:[e.jsx(Ce,{index:!0,element:e.jsx(Cw,{})}),e.jsx(Ce,{path:"new",element:e.jsx(Pw,{})})]}),e.jsx(Ce,{path:"approvals",children:e.jsx(Ce,{index:!0,element:e.jsx(Iw,{})})}),e.jsx(Ce,{path:"reports",children:e.jsx(Ce,{index:!0,element:e.jsx(Tw,{})})}),e.jsxs(Ce,{path:"ot-requests",children:[e.jsx(Ce,{index:!0,element:e.jsx(Ew,{})}),e.jsx(Ce,{path:"new",element:e.jsx(Aw,{})}),e.jsx(Ce,{path:":id",element:e.jsx(kw,{})})]}),e.jsxs(Ce,{path:"emergency",children:[e.jsx(Ce,{index:!0,element:e.jsx(Ow,{})}),e.jsx(Ce,{path:"admit",element:e.jsx(Mw,{})}),e.jsx(Ce,{path:"rooms/:id",element:e.jsx(Lw,{})}),e.jsx(Ce,{path:"patients/:id",element:e.jsx(Fw,{})})]}),e.jsxs(Ce,{path:"medicine-orders",children:[e.jsx(Ce,{index:!0,element:e.jsx($w,{})}),e.jsx(Ce,{path:"new",element:e.jsx(Bw,{})}),e.jsx(Ce,{path:"payments",element:e.jsx(vC,{})}),e.jsx(Ce,{path:":id",element:e.jsx(bC,{})})]}),e.jsx(Ce,{path:"*",element:e.jsx(ha,{to:"/dashboard",replace:!0})})]})]})}const CC={sidebarOpen:!0,theme:"light",loading:!1,notifications:[]},Tu=Gc({name:"ui",initialState:CC,reducers:{toggleSidebar:t=>{t.sidebarOpen=!t.sidebarOpen},setSidebarOpen:(t,n)=>{t.sidebarOpen=n.payload},toggleTheme:t=>{t.theme=t.theme==="light"?"dark":"light"},setTheme:(t,n)=>{t.theme=n.payload},setLoading:(t,n)=>{t.loading=n.payload},addNotification:(t,n)=>{t.notifications.push({id:Date.now(),...n.payload})},removeNotification:(t,n)=>{t.notifications=t.notifications.filter(r=>r.id!==n.payload)},clearNotifications:t=>{t.notifications=[]}}}),{toggleSidebar:XC,setSidebarOpen:ZC,toggleTheme:eD,setTheme:tD,setLoading:nD,addNotification:rD,removeNotification:sD,clearNotifications:aD}=Tu.actions,DC=Tu.reducer,PC=Mp({reducer:{auth:Tx,ui:DC},middleware:t=>t({serializableCheck:!1})}),IC=Sh({palette:{primary:{main:"#2196f3",light:"#64b5f6",dark:"#1976d2"},secondary:{main:"#f50057"},success:{main:"#4caf50"},warning:{main:"#ff9800"},error:{main:"#f44336"},background:{default:"#f5f5f5",paper:"#ffffff"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:600},h2:{fontSize:"2rem",fontWeight:600},h3:{fontSize:"1.75rem",fontWeight:600},h4:{fontSize:"1.5rem",fontWeight:600},h5:{fontSize:"1.25rem",fontWeight:600},h6:{fontSize:"1rem",fontWeight:600}},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiCard:{styleOverrides:{root:{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}}}}),TC=new Nm({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});Uh.createRoot(document.getElementById("root")).render(e.jsx(ie.StrictMode,{children:e.jsx(sm,{store:PC,children:e.jsx(Lm,{client:TC,children:e.jsxs(wh,{theme:IC,children:[e.jsx(Ch,{}),e.jsxs(Ah,{children:[e.jsx(wC,{}),e.jsx(cp,{position:"top-right",richColors:!0,closeButton:!0,duration:3e3})]})]})})})}));
